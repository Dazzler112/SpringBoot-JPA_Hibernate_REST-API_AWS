

지금 listTodos는 Todo를 나열하고 새로운 Todo를 추가하는 기능을 제공하고 있다 
그럼 Todo를 삭제하고 업데이트를 할 수도 있으면 어떨까?
그게 다음 몇 단계에서 우리가 구현할 기능들이다, 
이번 단계에선 삭제 기능부터 시작해보자

먼저 우리는 jsp로 가서 Todo를 삭제할 수 있는 버튼을 추가해야 할 것이다


      Your Todos
      
      id	Description	                    Taget Date	   Is Done?
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      4	Learn AWS	                        2025-04-28	   false
      -----------------------------------------------------------
      5	Learn DevOps	                    2026-04-28	   false
      -----------------------------------------------------------
      6	Learn Full Stack Development	    2025-04-28     false
      -----------------------------------------------------------
      _________________
     | Add Todo(녹바탕) |
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
그럼 여기에 Todo삭제 버튼을 추가할 수 있을까?
이런 Add Todo 버튼처럼 말이다
안된다.

왜 안될까?
Todo 삭제 버튼은 특정한 Todo와 매칭되어야 하기 때문이다 

그럼 너가 여기 모든 행에 Todo 삭제 버튼을 추가하면 사용자는 그 삭제 버튼을 사용해서 그 Todo를 삭제할 수 있을 것이다
그럼 여기 각각의 Todo 바로 옆에 버튼이 있어야 할 것이다 예) 4	Learn AWS     2025-04-28	   false  | 삭제버튼 |
그럼 listTodos.jsp로 가보자

--------------------------------------------------------------------------------------------------------------------------


⏺ listTodos.jsp 파일




<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<html>
	<head>
		<link href="webjars/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
		<title>
			List Todos Page
		</title>
	</head>
	<body>
			<!-- <div>Welcome to in28minutes</div> -->
			<div class="container">
				<h1>Your Todos</h1>
				<table class="table">
					<thead>
						<tr>
						<th>id</th>
						<th>Description</th>
						<th>Taget Date</th>
						<th>Is Done?</th>

            <!--1:비어 있는 <th>를 추가할 것이고 이걸 삭제에 사용할 것이다, 그리고 삭제 버튼을 위해//1-1: 아래로.. -->
            <th></th>
						</tr>			
					</thead>
					<tbody>
					<c:forEach items="${todos}" var="todo">
						<tr>
							<td>${todo.id}</td>
							<td>${todo.description}</td>
							<td>${todo.targetDate}</td>
							<td>${todo.done}</td>

              <!--1-1: <td>가 필요할 것이다 그럼 여기 안에는 무엇이 들어가야 할까? 뭘 해야할까? 우린 링크를 만들고 href가 "delete-todo"로 가야한다-->
              <!--1-2: 이렇게 delete-todo로 리디렉션되는 링크를 만들고, 그 안의 텍스트는 DELETE라고 해줄 수 있다 그럼 "btn" 클래스를 지정하고 저장한다 그리고 확인..-->
              <td><a href="delete-todo" class="btn">DELETE</a></td>
						</tr>
					</c:forEach>
					</tbody>
				</table>
				<a href="add-todo" class="btn btn-success">Add Todo</a>
			
			</div>
			<script type="webjars/bootstrap/5.1.3/js/bootstrap.min.js"></script>
			<script type="webjars/jquery/3.6.0/jquery.min.js"></script>
	
	</body>
</html>

--------------------------------------------------------------------------------------------------------------------------
                                                                                        |
                                                                                        V
-----------------------------------------------------------------------------------------------

http://localhost:8087/list-todos 페이지화면==>

      Your Todos
      
      id	Description	                    Taget Date	   Is Done?
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      4	Learn AWS	                        2025-04-30	   false          DELETE
      -------------------------------------------------------------------------------
      5	Learn DevOps	                    2026-04-30	   false          DELETE
      -------------------------------------------------------------------------------
      6	Learn Full Stack Development	    2025-04-30     false          DELETE
      -------------------------------------------------------------------------------

      _________________
     | Add Todo(녹바탕) |
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

-----------------------------------------------------------------------------------------------
좋다, 여기 DELETE가 있고 괜찮은데 외관이 썩 좋진 않다 btn-warning을 추가해서 색상을 지정해보자

✅ listTodos.jsp 파일의 <td><a href="delete-todo" class="btn">DELETE</a></td> 이줄을 <td><a href="delete-todo" class="btn btn-warning">DELETE</a></td> 으로..
btn-waring을 추가해서 색상을 추가해보자 삭제는 경고를 해줘야 하는 것이므로 여기에 btn-warning을 넣어줄 것이다 저장하고 다시 확인...
                                                                                        |
                                                                                        V
-----------------------------------------------------------------------------------------------

http://localhost:8087/list-todos 페이지화면==>

      Your Todos
      
      id	Description	                    Taget Date	   Is Done?
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                                                      _______________
      4	Learn AWS	                        2025-04-30	   false       | DELETE(노바탕) |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------
                                                                      _______________
      5	Learn DevOps	                    2026-04-30	   false       | DELETE(노바탕) |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------
                                                                      _______________
      6	Learn Full Stack Development	    2025-04-30     false       | DELETE(노바탕) |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------

      _________________
     | Add Todo(녹바탕) |
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

-----------------------------------------------------------------------------------------------

이제 페이지가 보기 좋게 되었고 DELETE 버튼도 준비되었다
이제 사용자는 이 DELETE 버튼을 클릭해서 이 Todo를 삭제할 수 있다
그렇지만 너는 어떤 Todo를 삭제할지 알려줘야 한다
여기 id 4번인 Todo를 삭제하려 한다고 어떻게 알릴 수 있을까? 또는 id 5번 또는 id 6번을 삭제하라고 말이다 그걸 어떻게 할까?

그럼 아마 이 <td>${todo.id}</td>의 ${todo.id}를 잡아서 <td><a href="delete-todo" class="btn">DELETE</a></td> 여기 넣어야 할 것이다


<td><a href="delete-todo" class="btn btn-warning">DELETE ${todo.id}</a></td>라고 하면

      id	Description	                    Taget Date	   Is Done?
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                                                      ________________
      4	Learn AWS	                        2025-04-30	   false       | DELETE(노바탕)4 |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------
                                                                      ________________
      5	Learn DevOps	                    2026-04-30	   false       | DELETE(노바탕)5 |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------
                                                                      ________________
      6	Learn Full Stack Development	    2025-04-30     false       | DELETE(노바탕)6 |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------

      _________________
     | Add Todo(녹바탕) |
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
이렇게 지금 우리는 설명 부분에 그걸 넣고 있다
새로고침을 해보면 DELETE4, DELETE5, DELETE6이 있다 하지만 우린 그걸 href 즉 우리 URL의 일부로서 전송해야 한다
우리는 <td><a href="delete-todo" class="btn btn-warning">DELETE ${todo.id}</a></td> 이것이 우리가 삭제하려는 Todo라고 컨트롤러에게 알려줘야 한다
그걸 어떻게 할 수 있을까? 
그 부분에 쿼리 파라미터를 사용할 수 있다

--------------------------------------------------------------------------------------------------------------------------


⏺ listTodos.jsp 파일


<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<html>
	<head>
		<link href="webjars/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
		<title>
			List Todos Page
		</title>
	</head>
	<body>
			<!-- <div>Welcome to in28minutes</div> -->
			<div class="container">
				<h1>Your Todos</h1>
				<table class="table">
					<thead>
						<tr>
						<th>id</th>
						<th>Description</th>
						<th>Taget Date</th>
						<th>Is Done?</th>
						<th></th>
						</tr>			
					</thead>
					<tbody>
					<c:forEach items="${todos}" var="todo">
						<tr>
							<td>${todo.id}</td>
							<td>${todo.description}</td>
							<td>${todo.targetDate}</td>
							<td>${todo.done}</td>

              <!--2: 이건 민감한 데이터가 아니기 때문에 그걸 쿼리 파라미터의 일부로서 전송할 수 있고 id=라고 해주고 즉 ${todo.id}를 붙여 넣을 수 있다, 그럼 저장하고 새로고침을 해보자-->
							<td><a href="delete-todo" class="btn btn-warning">DELETE ${todo.id}</a></td>
						</tr>
					</c:forEach>
					</tbody>
				</table>
				<a href="add-todo" class="btn btn-success">Add Todo</a>
			
			</div>
			<script type="webjars/bootstrap/5.1.3/js/bootstrap.min.js"></script>
			<script type="webjars/jquery/3.6.0/jquery.min.js"></script>
	
	</body>
</html>

--------------------------------------------------------------------------------------------------------------------------
                                                                                        |
                                                                                        V
-----------------------------------------------------------------------------------------------


      id	Description	                    Taget Date	   Is Done?
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                                                      ________________
      4	Learn AWS	                        2025-04-30	   false       | DELETE(노바탕)4 |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------
                                                                      ________________
      5	Learn DevOps	                    2026-04-30	   false       | DELETE(노바탕)5 |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------
                                                                      ________________
      6	Learn Full Stack Development	    2025-04-30     false       | DELETE(노바탕)6 |
                                                                      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
      -------------------------------------------------------------------------------

      _________________
     | Add Todo(녹바탕) |
      ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
-----------------------------------------------------------------------------------------------
이제 거기에 마우스 커서를 올리면 브라우저 하단에 그게 id 4라고 나오는 걸 볼 수 있다
오른쪽 클릭을 하고 inspect를 선택해서 
<a href="delete-todo?id=4" class="btn btn-warning">DELETE 4</a>
링크가 delete-todo?id=4인걸 확인할 수도 있다

아래도 오른쪽 클릭 > inspect를 선택해 보면
<a href="delete-todo?id=5" class="btn btn-warning">DELETE 5</a>
delete-todo?id=5인걸 알 수 있다 

