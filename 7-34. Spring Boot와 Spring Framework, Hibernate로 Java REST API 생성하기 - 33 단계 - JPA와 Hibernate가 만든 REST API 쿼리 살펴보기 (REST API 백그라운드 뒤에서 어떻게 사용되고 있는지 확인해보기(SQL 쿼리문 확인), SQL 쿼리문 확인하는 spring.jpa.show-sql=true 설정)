

м§Ђл‚њ лЄ‡ л‹Ёкі„м—ђ к±ёміђ REST APIлҐј DBм—ђ м—°кІ°н–€лЉ”лЌ° 
localhost:8080/jpa/usersлЎњ к°Ђм„њ м‹¤н–‰н•л©ґ 

-----------------------------------------------------------------------------------------------------------------

рџЊЋ http://localhost:8080/jpa/users м‚¬мќґнЉён™”л©ґ ==>


[
  {
    "id": 10001,
    "name": "Ranga",
    "birthDate": "2024-06-10"
  },
  {
    "id": 10002,
    "name": "Ravi",
    "birthDate": "2024-06-10"
  },
  {
    "id": 10003,
    "name": "Sathish",
    "birthDate": "2024-06-10"
  }
]

-----------------------------------------------------------------------------------------------------------------

мќґлџ° мќ‘л‹µмќґ лЏЊм•„м¤лЉ” к±ё н™•мќён•  м€ мћ€л‹¤
мќ‘л‹µмњјлЎњ лЏЊм•„м¤лЉ” м‚¬мљ©мћђ м „мІґлҐј ліј м€ мћ€кі 
localhost:8080/jpa/users/10001/postsлҐј ліґл©ґ

-----------------------------------------------------------------------------------------------------------------

рџЊЋ http://localhost:8080/jpa/users/10001/posts м‚¬мќґнЉён™”л©ґ ==>


[
  {
    "id": 20001,
    "description": "I want to learn AWS"
  },
  {
    "id": 20002,
    "description": "I want to learn DevOps"
  }
]

-----------------------------------------------------------------------------------------------------------------
н•ґл‹№ нЉ№м • м‚¬мљ©мћђмќ кІЊм‹њл¬јмќ„ н™•мќён•  м€ мћ€л‹¤,
м›ђн•њл‹¤л©ґ к°Ђм„њ мѓ€ кІЊм‹њл¬јлЏ„ мѓќм„±н•  м€ мћ€л‹¤ 

-----------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | POST    | в–ј  |    |    http://localhost:8080/jpa/users/10001/posts             |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS

  HEADERS   в¬‡                   | Form в–ј |      в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ         |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________   ___________________________   |   
в‘ | Content-Type |:| application/json     | рџ§Є |  |     {
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   |        "description": "I want to learn Azure Fundamenttals"
  ______________                                  |      }                            
 ( + Add header )   рџ—ќ Add authorization     рџ—‘    |                                                        
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                                  | 
                                                  |
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                

-----------------------------------------------------------------------------------------------------------------

м€лҐј л“¤м–ґ 10001 кІЊм‹њл¬јм—ђ мѓ€ кІЊм‹њл¬јмќ„ мѓќм„±н•њл‹¤кі  н•ґліґмћђ
мЅн…ђмё  нѓЂмћ…мќ„ application/jsonмњјлЎњ н•ґм„њ POST мљ”мІ­мќ„ н•  м€ мћ€кі , м„¤лЄ…мќ„
"Azure кё°ліё м‚¬н•­мќ„ л°°мљ°кі  м‹¶л‹¤" лќјкі  л„ЈмќЂл‹¤мќЊ м „м†Ўмќ„ л€„лҐґл©ґ лђњл‹¤
                                                      |
                                                      V
-----------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)


  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  201                (мґ€лЎќ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                              |
Location: http://localhost:8080/jpa/users/    |
          10001/posts/1                       |                                                                
Content-Length:	0 byte                        |                     No Content 
Date: Mon, 10 Jun 2024 08:18:05 GMT	      |                                                                                
Keep-Alive: timeout=60                        |                                                 
Connection: keep-alive                        |                                       
                                              |                  
в–¶ COMPLETE REQUEST HEADERS                    |                                                                                                                    
                                                                                        
                                                                                                    
                                                 рџ“„ copy                                                          

-----------------------------------------------------------------------------------------------------------------

    мќґм њ м—¬кё°м—ђ мћ€лЉ” кІЊм‹њл¬јмќ„ мѓ€лЎњкі м№Ён•л©ґ             |  
                                                    V
-----------------------------------------------------------------------------------------------------------------

рџЊЋ http://localhost:8080/jpa/users/10001/posts м‚¬мќґнЉён™”л©ґ ==>


[
  {
    "id": 1,
    "description": "I want to learn React"
  },
  {
    "id": 20001,
    "description": "I want to learn AWS"
  },
  {
    "id": 20002,
    "description": "I want to learn DevOps"
  }
]

-----------------------------------------------------------------------------------------------------------------

кІЊм‹њл¬ј 3к°њк°Ђ лЏЊм•„м¤лЉ” к±ё н™•мќён•  м€ мћ€л‹¤,
мќґ м„ёл¶Ђ м •ліґ к°Ѓк°ЃмќЂ DBм—ђм„њ л¶€лџ¬м¤лЉ” кІѓмќґл‹¤ 

localhost:8080/h2-consoleлЎњ к°Ђл©ґ DBм—ђ мћ€лЉ” м„ёл¶Ђ м •ліґ м „мІґлҐј ліј м€ мћ€л‹¤ 

-----------------------------------------------------------------------------------------------------------------
H2 Database м•€ ==>

рџ”‹ jdbc:h2:mem:testdb
 + рџ’· POST
 + рџ’· USER_DETAILS
 + рџ“Ѓ INFORMATION_SCHEMA
 + рџЋ« Sequences
 + рџ‘Є Users
 i H2 2.2.224 (2023-09-17)


----------------------------------------------------------------------

вЏє H2 Console 
 _____   ______________   _______________   _______
| Run | | Run Selected | | Auto complete | | Clear | SQL statement:
 вЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ 
 ___________________________________________________________________________________
| SELECT * FROM POST                                                                |
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                    
|                                                                                   |                     
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
SELECT * FROM POST;
 _____________________________________________________
| ID  	| DESCRIPTION                        | USER_ID|
------------------------------------------------------
| 1	|I want to learn Azure Fundamenttals | 10001  |
------------------------------------------------------
| 20001	|I want to learn AWS                 |10001   |
------------------------------------------------------
| 20002	|I want to learn DevOps              |10001   |
------------------------------------------------------
| 20003	|I want to Get AWS Certified         |10002   |
------------------------------------------------------
| 20004	|I want to learn Multi Cloud         |10002   |
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
(5 rows, 1 ms)
 ____
|Edit|
 вЂѕвЂѕвЂѕвЂѕ
-----------------------------------------------------------------------------------------------------------------

POST м—ђм„њ SELECT * FROM POST лҐј м‹¤н–‰н•л©ґ 10001м—ђ лЊЂн•ґ мѓ€ кІЊм‹њл¬јмќґ м¶”к°Ђлђњ кІЊ ліґмќёл‹¤
мќґлІ€ л‹Ёкі„м—ђм„  мќґ к°Ѓк°Ѓмќ API нём¶њ м‹њ ліґмќґм§Ђ м•ЉлЉ” кіім—ђм„њ лІЊм–ґм§ЂлЉ” кіјм •мќ„ к№Љмќґ нЊЊкі л“¤м–ґ ліј кІѓмќґл‹¤


м „м—ђ appilcation.propertiesм—ђ spring.jpa.show-sql=trueлҐј м¶”к°Ђн–€м—€м§Ђ?

-----------------------------------------------------------------------------------------------------------------

вЏє application.properties нЊЊмќј

spring.application.name=restful-web-services

logging.level.org.springframework=info

management.endpoints.web.exposure.include=*

spring.datasource.url=jdbc:h2:mem:testdb

spring.jpa.defer-datasource-initialization=true

spring.jpa.show-sql=true

-----------------------------------------------------------------------------------------------------------------

spring.jpa.show-sql=true мќґ м„¤м •мќ м—­н• мќЂ м‹¤н–‰лђкі  мћ€лЉ” лЄЁл“  SQL мїјл¦¬лҐј лЎњк·ём—ђ м¶њл Ґн•лЉ” кІѓмќґл‹¤
к·ёлџј лЎњк·ёлЎњ л“¤м–ґк°Ђм„њ мЅм†”мќ„ м§Ђмљ°кі  мќґ к°Ѓк°Ѓмќ APIлҐј лЎњк·ём—ђм„њ м‚ґнЋґліґкІ л‹¤

м€лҐј л“¤м–ґ лЁјм Ђ localhost:8080/jpa/users м‹њмћ‘н•ґліґкІ л‹¤ л°±к·ёлќјмљґл“њм—ђм„њ л¬ґмЉЁ мќјмќґ лІЊм–ґм§€к№Њ? мѓ€лЎњ кі м№Ёмќ„ л€„лҐґкі 
мЅм†”мќ„ лґђліґмћђ
-----------------------------------------------------------------------------------------------------------------

вЏє sts мЅм†”м°Ѕ ==>

Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0

-----------------------------------------------------------------------------------------------------------------

м§Ђкё€ м‹¤н–‰лђкі  мћ€лЉ” мїјл¦¬к°Ђ л­ђм§Ђ?
м§Ђкё€ м‹¤н–‰лђлЉ” мїјл¦¬лҐј м•Њ м€ мћ€лЉ”лЌ° 
м‚¬мљ©мћђ м„ёл¶Ђ м •ліґм—ђм„њ IDм™Ђ мѓќл…„м›”мќј, мќґл¦„мќ„ SELECT мїјл¦¬н•кі  мћ€л‹¤ 
мќґкІЊ м§Ђкё€ м‹¤н–‰лђкі  мћ€лЉ” мїјл¦¬мќґл‹¤

UserJpaResourceлЎњ л„м–ґк°Ђ ліґл©ґ 
м‹¤н–‰н•лЉ” мЅ”л“њлЉ” л­ђм§Ђ?
repository.findAll()мќґл‹¤ 

-----------------------------------------------------------------------------------------------------------------


вЏє UserJpaResource нЃґлћмЉ¤нЊЊмќј


package com.in28minutes.rest.webservices.restfulwebservices.user;

import static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.*;

import java.net.*;
import java.util.*;

import org.springframework.hateoas.*;
import org.springframework.hateoas.server.mvc.*;
import org.springframework.http.*;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.support.*;

import com.in28minutes.rest.webservices.restfulwebservices.jpa.*;

import jakarta.validation.*;

@RestController
public class UserJpaResource {

//	private UserDaoService service;

  //1: м—¬кё°м—ђлЉ” м‚¬мљ©мћђ м ЂмћҐм†ЊлҐј л‚нѓЂл‚ґлЉ” repositoryк°Ђ мћ€лЉ”лЌ° ( private UserRepository repository; )
  // л§€мќЊм—ђ л“¤м§Ђ м•ЉлЉ”л‹¤ мќґл¦„мќ„ л°”кѕёкІ л‹¤, мљ°нЃґл¦­ н•ґм„њ > Refactor > Rename userRepositoryлќјкі  н•кІ л‹¤ (repository м—ђм„њ userRepositoryлЎњ л°”кї€)
  //мќґм њ м—¬кё°м—ђ userRepositoryк°Ђ мћ€л‹¤
	private UserRepository userRepository;
	
	private PostRepository postRepository;	

  //1-1: мѓќм„±мћђ нЊЊлќјлЇён„° мќґл¦„лЏ„ userRepositoryлќјкі  н•ґмЈјкі 
	public UserJpaResource(UserRepository userRepository, PostRepository postRepository) {
//		this.service = service;
  
    //1-1 кі„м†Ќ: мќјкґЂм„±мќ„ мњ м§Ђн•њл‹¤ (repository -> userRepository)
		this.userRepository = userRepository;
		this.postRepository = postRepository;
	}

	@GetMapping("/jpa/users")
	public List<User> retrieveAllUsers() {
		
		return userRepository.findAll();
	}
	
	//	http://localhost:8080/users
	
	//EntityModel
	//WebMvcLinkBuilder
	
	@GetMapping("/jpa/users/{id}")
	public EntityModel<User> retrieveUser(@PathVariable int id) {
		Optional<User> user = userRepository.findById(id);
		
		if(user.isEmpty())
			throw new UserNotFoundException("id:"+id);
		
		EntityModel<User> entityModel = EntityModel.of(user.get());
		
		WebMvcLinkBuilder link = linkTo(methodOn(this.getClass()).retrieveAllUsers());
		entityModel.add(link.withRel("all-users"));
		
		return entityModel;

	}

	@DeleteMapping("/jpa/users/{id}")
	public void deleteUser(@PathVariable int id) {
		userRepository.deleteById(id);
		
	}
	
	@GetMapping("/jpa/users/{id}/posts")
	public List<Post> retrievePostsForUser(@PathVariable int id) {
		Optional<User> user = userRepository.findById(id);
		
		if(user.isEmpty())
			throw new UserNotFoundException("id:"+id);
		
		return user.get().getPosts();
	}
	
	@PostMapping("/jpa/users")
	public ResponseEntity<User> createUser(@Valid @RequestBody User user) {
		User savedUser = userRepository.save(user);
		// /users/4 => /users /{id},  user.getID
		URI location = ServletUriComponentsBuilder.fromCurrentRequest()
						.path("/{id}")
						.buildAndExpand(savedUser.getId())
						.toUri();  
		
		return ResponseEntity.created(location).build();
	}
	
	@PostMapping("/jpa/users/{id}/posts")
	public ResponseEntity<Object> createPostForUser(@PathVariable int id, @Valid @RequestBody Post post) {
		Optional<User> user = userRepository.findById(id);
		
		if(user.isEmpty())
			throw new UserNotFoundException("id:"+id);
		
		post.setUser(user.get());
		
		Post savedPost = postRepository.save(post);
		
		URI location = ServletUriComponentsBuilder.fromCurrentRequest()
				.path("/{id}")
				.buildAndExpand(savedPost.getId())
				.toUri();  

		return ResponseEntity.created(location).build();
	}
}


-----------------------------------------------------------------------------------------------------------------

к·ёлџ¬л©ґ userRepositoryм—ђ findAllмќ„ нём¶њн•кі  мћ€лЉ”к±°м§Ђ, лЎњк·ём—ђм„њ нЉ№м • мїјл¦¬к°Ђ м‹¤н–‰лђкі  мћ€лЉ” кІЊ ліґмќёл‹¤
jpa/usersлҐј мѓ€лЎњкі м№Ён•л©ґ м—¬кё° мїјл¦¬к°Ђ м¶њл ҐлђњкІЊ ліґмќёл‹¤
-----------------------------------------------------------------------------------------------------------------

вЏє sts мЅм†”м°Ѕ ==>
Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0

-----------------------------------------------------------------------------------------------------------------

м‚¬мљ©мћђ м„ёл¶Ђ м •ліґм—ђм„њ IDм™Ђ мѓќл…„м›”мќј, мќґл¦„мќ„ SELECT мїјл¦¬н•кі  мћ€л‹¤ 

мќґм њ jpa/users/10001/postsлҐј м‹¤н–‰н•л©ґ м–ґл–¤ мїјл¦¬к°Ђ м¶њл Ґлђ к№Њ??
лЎњк·ёлҐј м§Ђмљґ л‹¤мќЊ л‹¤м‹њ мѓ€лЎњкі м№Ё н•кІ л‹¤

-----------------------------------------------------------------------------------------------------------------

вЏє sts мЅм†”м°Ѕ ==>

Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0 where u1_0.id=?
Hibernate: select p1_0.user_id,p1_0.id,p1_0.description from post p1_0 where p1_0.user_id=?

-----------------------------------------------------------------------------------------------------------------

мїјл¦¬ 2к°њк°Ђ м‹¤н–‰лђкі  мћ€лЉ”кІЊ ліґмќёл‹¤

UserJpaResourceнЃґлћмЉ¤м—ђм„њ м•„лћлЎњ л‚ґл ¤м„њ @GetMapping("/jpa/users/{id}/posts")лҐј ліґл©ґ..

	@GetMapping("/jpa/users/{id}/posts")
	public List<Post> retrievePostsForUser(@PathVariable int id) {
		Optional<User> user = userRepository.findById(id);
		
		if(user.isEmpty())
			throw new UserNotFoundException("id:"+id);
		
		return user.get().getPosts();
	}

м—¬кё°м„њ н•лЉ” мќјмќЂ лЁјм Ђ м‚¬мљ©мћђ м„ёл¶Ђ м •ліґлҐј к°Ђм ём¤кі  IDлЎњ м°ѕкё°лҐј м€н–‰н•њ л‹¤мќЊ ( Optional<User> user = userRepository.findById(id); )
н•ґл‹№ нЉ№м • м‚¬мљ©мћђм—ђ лЊЂн•њ кІЊм‹њл¬јмќ„ к°Ђм ём¤кі  мћ€л‹¤( return user.get().getPosts(); )
к·ёлћм„њ м—¬кё° м‹¤н–‰лђкі  мћ€лЉ” мїјл¦¬к°Ђ 2к°њмќё кІѓмќґл‹¤

к·ёлџ¬л‹€к№Њ м—¬кё°м—ђм„њ м њмќј лЁјм Ђ мќјм–ґл‚лЉ” мќјмќЂ м‚¬мљ©мћђ IDм™Ђ мѓќл…„м›”мќј, м‚¬мљ©мћђ м„ёл¶Ђ м •ліґлҐј к°Ђм ём¤лЉ” кІѓмќґл‹¤. ( Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0 where u1_0.id=? )
к·ё л‹¤мќЊ кІЊм‹њл¬ј м„ёл¶Ђ м •ліґлҐј к°Ђм ёмЁл‹¤ ( Hibernate: select p1_0.user_id,p1_0.id,p1_0.description from post p1_0 where p1_0.user_id=? )
м‚¬мљ©мћђ ID, м‚¬мљ©мћђ IDм—ђ м—°кІ°лђњ кІЊм‹њл¬јмќ м„¤лЄ…мќ„ SELECT мїјл¦¬н•њл‹¤, н•ґл‹№ нЉ№м • м‚¬мљ©мћђм—ђ лЊЂн•ґ кІЊм‹њл¬јмќ„ к°Ђм ём¤кі  мћ€лЉ” кІѓмќґл‹¤



Talend API TesterлЎњ к°Ђм„њ мќґ POST мљ”мІ­мќ„ л‹¤м‹њ м‹¤н–‰н•ґліґмћђ
-----------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | POST    | в–ј  |    |    http://localhost:8080/jpa/users/10001/posts             |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS

  HEADERS   в¬‡                   | Form в–ј |      в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ         |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________   ___________________________   |   
в‘ | Content-Type |:| application/json     | рџ§Є |  |     {
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   |        "description": "I want to learn Azure Fundamenttals"
  ______________                                  |      }                            
 ( + Add header )   рџ—ќ Add authorization     рџ—‘    |                                                        
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                                  | 
                                                  |
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                

-----------------------------------------------------------------------------------------------------------------

м „м†Ўмќ„ л€„лҐёл‹¤, к·ёл¦¬кі  м‹¤н–‰лђлЉ” мїјл¦¬лҐј н™•мќён•ґлґђлќј

-----------------------------------------------------------------------------------------------------------------

вЏє sts мЅм†”м°Ѕ ==>
Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0 where u1_0.id=?
Hibernate: select next value for post_seq
Hibernate: insert into post (description,user_id,id) values (?,?,?)
-----------------------------------------------------------------------------------------------------------------

м—¬кё°м—ђм„њ нЉ№м • м‚¬мљ©мћђм—ђ лЊЂн•ґ мѓ€ кІЊм‹њл¬јмќ„ м‚Ѕмћ…н•л ¤кі  м‹њлЏ„ м¤‘мќґм§Ђ
м–ґл–»кІЊ мќґлЈЁм–ґм§€к№Њ?
м‚¬мљ©мћђм—ђ лЊЂн•ґ кІЊм‹њл¬јмќ„ мѓќм„±н•л ¤лЉ” к±°л‹€к№Њ

	@PostMapping("/jpa/users/{id}/posts")
	public ResponseEntity<Object> createPostForUser(@PathVariable int id, @Valid @RequestBody Post post) {
		Optional<User> user = userRepository.findById(id);
		
		if(user.isEmpty())
			throw new UserNotFoundException("id:"+id);
		
		post.setUser(user.get());
		
		Post savedPost = postRepository.save(post);
		
		URI location = ServletUriComponentsBuilder.fromCurrentRequest()
				.path("/{id}")
				.buildAndExpand(savedPost.getId())
				.toUri();  

		return ResponseEntity.created(location).build();
	}

н•ґл‹№ м‚¬мљ©мћђм—ђ лЊЂн•ґ findByIdлҐј м€н–‰н•ґм„њ ( Optional<User> user = userRepository.findById(id); )
н•ґл‹№ м‚¬мљ©мћђк°Ђ мЎґмћ¬н•лЉ”м§Ђ н™•мќён•њл‹¤ ( 	if(user.isEmpty())
			                           throw new UserNotFoundException("id:"+id); )
м‚¬мљ©мћђк°Ђ мЎґмћ¬н•л©ґ кІЊм‹њл¬јмќ„ н•ґл‹№ м‚¬мљ©мћђм—ђ л§¤н•‘н•ґм„њ м ЂмћҐн•њл‹¤ ( Post savedPost = postRepository.save(post); )

к·ёлџ¬л©ґ л°±к·ёлќјмљґл“њм—ђм„њлЉ” мќґлџ° мїјл¦¬лЎњ л°”кї”мЈјлЉ” кІѓмќґл‹¤
Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0 where u1_0.id=?
Hibernate: select next value for post_seq
Hibernate: insert into post (description,user_id,id) values (?,?,?)

мќґкІЊ м‚¬мљ©мћђ м„ёл¶Ђ м •ліґлҐј к°Ђм ём¤кё° мњ„н•ґ м‹¤н–‰лђлЉ” мїјл¦¬м§Ђ, idк°Ђ ? мќё м‚¬мљ©мћђ м„ёл¶Ђ м •ліґм—ђм„њ IDм™Ђ мѓќл…„м›”мќј, мќґл¦„мќ„ SELECT мїјл¦¬н•њл‹¤ ( select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0 where u1_0.id=? )
мќґм њ кІЊм‹њл¬јмќ„ м‚Ѕмћ…н•ґм•ј кІ м§Ђ? ( Hibernate: select next value for post_seq
                            Hibernate: insert into post (description,user_id,id) values (?,?,?) )
кІЊм‹њл¬јм—ђлЉ” idн•„л“њк°Ђ мћ€кі  id н•„л“њлЉ” мќґ м‹њнЂЂмЉ¤лҐј м‚¬мљ©н•њл‹¤ ( insert into post (description,user_id,id) мќ ,id л¶Ђл¶„..)
id н•„л“њм—ђ м—°кІ°лђњ м‹њнЂЂмЉ¤лЉ” post_seqм§Ђ

мќґл•Њ Hibernateк°Ђ н•ґл‹№ нЉ№м • м‹њнЂЂмЉ¤мќ л‹¤мќЊ к°’мќ„ к°Ђм ём¤кі ( select next value for post_seq ) мѓ€ кІЊм‹њл¬јмќ„ м‚Ѕмћ…н•њл‹¤ ( Hibernate: insert into post (description,user_id,id) values (?,?,?) )


H2 мЅм†”лЎњ л„м–ґк°Ђм„њ мѓ€лЎњкі м№Ё, кі„м†Ќмќ„ л€„лҐґкі  м—°кІ°мќ„ л€„лҐёл‹¤
-----------------------------------------------------------------------------------------------------------------


рџЊЋ localhost:8080/h2-console м‚¬мќґнЉён™”л©ґ ==>

  ______________________
 |English             v |  Preferences  Tools  Help
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  _______________________________________________________________________
 |  Login (нЊЊл°”нѓ•)                                                        | 
 |вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ|
 |                    ______________________________________________     |
 |  Saved Settings:  | Generic H2 (Embedded)                    v   |    |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |
 |                    ______________________________   ____   ______     |
 |  Setting Name :   | Generic H2 (Embedded)        | |Save| |Remove|    |
 |                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |
 |  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   |
 |                    ____________________________________________       |
 |  Driver Class:    |org.h2.Driver                               |      |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ       |
 |                    ____________________________________________       |
 |  JDBC URL:        |jdbc:h2:mem:testdb                          |      |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ       |
 |                    ________________________________                   |
 |  User Name:       |sa                              |                  |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                   | 
 |                    ________________________________                   |
 |  Password:        | Generic H2 (Embedded)          |                  |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                   |
 |                    _________   _________________                      |                               
 |                   | Connect | | Test Connection |                     |                                       
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                      |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ

-----------------------------------------------------------------------------------------------------------------
                                                      |
                                                      V
-----------------------------------------------------------------------------------------------------------------
H2 Database м•€ ==>

рџ”‹ jdbc:h2:mem:testdb
 + рџ’· POST
 + рџ’· USER_DETAILS
 + рџ“Ѓ INFORMATION_SCHEMA
 + рџЋ« Sequences
 + рџ‘Є Users
 i H2 2.2.224 (2023-09-17)


----------------------------------------------------------------------

вЏє H2 Console 
 _____   ______________   _______________   _______
| Run | | Run Selected | | Auto complete | | Clear | SQL statement:
 вЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ 
 ___________________________________________________________________________________
| SELECT * FROM POST                                                                |
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                    
|                                                                                   |                     
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
SELECT * FROM POST;
 _____________________________________________________
| ID  	| DESCRIPTION                        | USER_ID|
------------------------------------------------------
| 1	|I want to learn Azure Fundamenttals | 10001  |
------------------------------------------------------
| 20001	|I want to learn AWS                 |10001   |
------------------------------------------------------
| 20002	|I want to learn DevOps              |10001   |
------------------------------------------------------
| 20003	|I want to Get AWS Certified         |10002   |
------------------------------------------------------
| 20004	|I want to learn Multi Cloud         |10002   |
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
(5 rows, 1 ms)
 ____
|Edit|
 вЂѕвЂѕвЂѕвЂѕ
-----------------------------------------------------------------------------------------------------------------
мќґм њ POSTлЎњ к°Ђм„њ м‹¤н–‰н•л©ґ м—¬кё°м—ђ л‚мЁл‹¤
POSTлЉ” к°’ 1мќ„ к°Ђм ём¤кі  мћ€лЉ”лЌ° , select next value for post_seq мќґ м‹њнЂЂмЉ¤ л•Њл¬ёмќґл‹¤
мљ”мІ­м—ђ м„¤лЄ…мќ„ нЏ¬н•Ён•ґм„њ м „м†Ўн•кі  мћ€л‹¤ USER_IDлЉ” мљ°л¦¬к°Ђ м—°кІ°н•л ¤кі  н•лЉ” м‚¬мљ©мћђ IDм§Ђ
к·ёлћм„њ USER_IDлЉ” 10001мќґ лђњл‹¤, Talend API Testerм—ђм„њ мќґ кІЊм‹њл¬јмќ„ м‚¬мљ©мћђ ID 10001кіј м—°кІ°н•кі  мћ€кё° л•Њл¬ёмќґл‹¤
  ______________      ____________________________________________________________    ___________________
 | POST    | в–ј  |    |    http://localhost:8080/jpa/users/10001/posts             |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ


кІЊм‹њл¬јмќ„ н•л‚ лЌ” м‚Ѕмћ…н•њл‹¤кі  н•ґліґмћђ, "GCP мћђкІ©м¦ќмќ„ л”°кі  м‹¶л‹¤"( "I want to get GCP certified" )лќјкі  н•ґліґкІ л‹¤

-----------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | POST    | в–ј  |    |    http://localhost:8080/jpa/users/10001/posts             |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS

  HEADERS   в¬‡                   | Form в–ј |      в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ         |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________   ___________________________   |   
в‘ | Content-Type |:| application/json     | рџ§Є |  |     {
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   |        "description": "I want to get GCP certified"
  ______________                                  |      }                            
 ( + Add header )   рџ—ќ Add authorization     рџ—‘    |                                                        
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                                  | 
                                                  |
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                

-----------------------------------------------------------------------------------------------------------------
м „м†Ўмќ„ нЃґл¦­                                              |
                                                        V
-----------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)


  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  201                (мґ€лЎќ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                              |
Location: http://localhost:8080/jpa/users/    |
          10001/posts/2                       |                                                                
Content-Length:	0 byte                        |                     No Content 
Date: Mon, 10 Jun 2024 09:12:53 GMT-1s	      |                                                                                
Keep-Alive: timeout=60                        |                                                 
Connection: keep-alive                        |                                       
                                              |                  
в–¶ COMPLETE REQUEST HEADERS                    |                                                                                                                    
                                                                                        
                                                                                                    
                                                 рџ“„ copy                                                          

-----------------------------------------------------------------------------------------------------------------


-----------------------------------------------------------------------------------------------------------------

вЏє sts мЅм†”м°Ѕ ==>
Hibernate: select u1_0.id,u1_0.birth_date,u1_0.name from user_details u1_0 where u1_0.id=?
Hibernate: select next value for post_seq
Hibernate: insert into post (description,user_id,id) values (?,?,?)
-----------------------------------------------------------------------------------------------------------------
к°™мќЂ мў…лҐмќ мїјл¦¬к°Ђ м‹¤н–‰лђлЉ”кІЊ ліґмќґм§Ђ?



H2мЅм†”м—ђм„њ л‹¤м‹њ м‹¤н–‰н•л©ґ 

-----------------------------------------------------------------------------------------------------------------


рџЊЋ localhost:8080/h2-console м‚¬мќґнЉён™”л©ґ ==>

  ______________________
 |English             v |  Preferences  Tools  Help
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  _______________________________________________________________________
 |  Login (нЊЊл°”нѓ•)                                                        | 
 |вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ|
 |                    ______________________________________________     |
 |  Saved Settings:  | Generic H2 (Embedded)                    v   |    |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |
 |                    ______________________________   ____   ______     |
 |  Setting Name :   | Generic H2 (Embedded)        | |Save| |Remove|    |
 |                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |
 |  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   |
 |                    ____________________________________________       |
 |  Driver Class:    |org.h2.Driver                               |      |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ       |
 |                    ____________________________________________       |
 |  JDBC URL:        |jdbc:h2:mem:testdb                          |      |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ       |
 |                    ________________________________                   |
 |  User Name:       |sa                              |                  |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                   | 
 |                    ________________________________                   |
 |  Password:        | Generic H2 (Embedded)          |                  |
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                   |
 |                    _________   _________________                      |                               
 |                   | Connect | | Test Connection |                     |                                       
 |                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                      |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ

-----------------------------------------------------------------------------------------------------------------
                                                      |
                                                      V
-----------------------------------------------------------------------------------------------------------------
H2 Database м•€ ==>

рџ”‹ jdbc:h2:mem:testdb
 + рџ’· POST
 + рџ’· USER_DETAILS
 + рџ“Ѓ INFORMATION_SCHEMA
 + рџЋ« Sequences
 + рџ‘Є Users
 i H2 2.2.224 (2023-09-17)


----------------------------------------------------------------------

вЏє H2 Console 
 _____   ______________   _______________   _______
| Run | | Run Selected | | Auto complete | | Clear | SQL statement:
 вЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ 
 ___________________________________________________________________________________
| SELECT * FROM POST                                                                |
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                    
|                                                                                   |                     
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
SELECT * FROM POST;
 _____________________________________________________
| ID  	| DESCRIPTION                        | USER_ID|
------------------------------------------------------
| 1	|I want to learn Azure Fundamenttals |10001   |
------------------------------------------------------
| 2	|I want to get GCP certified         |10001   |
------------------------------------------------------
| 20001	|I want to learn AWS                 |10001   |
------------------------------------------------------
| 20002	|I want to learn DevOps              |10001   |
------------------------------------------------------
| 20003	|I want to Get AWS Certified         |10002   |
------------------------------------------------------
| 20004	|I want to learn Multi Cloud         |10002   |
 вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
(5 rows, 1 ms)
 ____
|Edit|
 вЂѕвЂѕвЂѕвЂѕ
-----------------------------------------------------------------------------------------------------------------

л‹¤мќЊ кІЊм‹њл¬јмќЂ ID 2лЎњ м‚Ѕмћ…лђњ к±ё м•Њ м€ мћ€л‹¤
к·ёлћм„њ л‹¤мќЊ м‹њнЂЂмЉ¤ к°’мќґ м‚¬мљ©лђњ к±°м§Ђ, DESCRIPTIOмќЂ I want to get GCP certified мќґкі  м‚¬мљ©мћђ IDлЉ” 10001мќґл‹¤






мќґлІ€ л‹Ёкі„м—ђм„  м „м—ђ н•ґл‘” м„¤м •мќ„ н™њмљ©н•ґлґ¤л‹¤ 
л°”лЎњ spring.jpa.show-sql=trueм§Ђ
мќґк±ёлЎњ SQL мїјл¦¬лҐј мѓќм„±н•њл‹¤
м—¬лџ¬к°Ђм§Ђ REST APIлҐј нём¶њн•ґлґ¤кі , мќґ SQL мїјл¦¬л“¤мќґ л°±к·ёлќјмљґл“њм—ђм„њ мѓќм„±лђлЉ” лЄЁмЉµлЏ„ н™•мќён–€л‹¤
