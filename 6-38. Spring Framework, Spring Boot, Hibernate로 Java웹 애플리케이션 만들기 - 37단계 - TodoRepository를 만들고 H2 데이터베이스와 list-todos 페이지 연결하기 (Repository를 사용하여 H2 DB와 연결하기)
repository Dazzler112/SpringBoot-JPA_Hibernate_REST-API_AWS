

мљ°л¦° мќґлЇё TodoлҐј м¤Ђл№„н–€кі , EntityлҐј мќґмљ©н•ґм„њ к·ёк±ё мќґлЇё DBмќ TODO н…Њмќґлё”м—ђ л§¤н•‘н–€л‹¤
мќґм њ мљ°л¦¬лЉ” TodoлҐј м¶”к°Ђ, м‚­м њ, кІЂмѓ‰н•лЉ” л“± Todoм—ђ лЊЂн•њ лЄЁл“  мў…лҐмќ мћ‘м—…мќ„ н•л ¤кі  н•њл‹¤
к·ёк±ё м–ґл–»кІЊ н• к№Њ? Spring JPAм—ђм„њ л„€лЉ” л¦¬нЏ¬м§Ђн† л¦¬лќјлЉ” к±ё м‚¬мљ©н•ґм„њ к·ёк±ё н•  м€ мћ€л‹¤ 

л¦¬нЏ¬м§Ђн† л¦¬лҐј м‚¬мљ©н•л©ґ м—”н„°н‹°м—ђ м•Ўм…мќ„ м€н–‰н•  м€ мћ€л‹¤
к·ёлџј лЁјм Ђ л¦¬нЏ¬м§Ђн† л¦¬лҐј л§Њл“њлЉ” мћ‘м—…л¶Ђн„° м‹њмћ‘н•ґ ліјк№Њ?

к·ёлџј ctrl+nмќ„ л€Њлџ¬м„њ л¦¬нЏ¬м§Ђн† л¦¬лҐј л§Њл“¤кі , мѓ€лЎњмљґ мќён„°нЋмќґмЉ¤лҐј л§Њл“њл ¤кі  н•њл‹¤
вќ— к·ёлџј лЁјм Ђ мќґк±ё кё°м–µн•ґм•ј н•  кІѓмќґл‹¤ л¦¬нЏ¬м§Ђн† л¦¬лЉ” мќён„°нЋмќґмЉ¤мќґл‹¤ вќ—
нЃґлћмЉ¤лҐј л§Њл“њлЉ”кІЊ м•„л‹€лќј мќён„°нЋмќґмЉ¤лҐј л§Њл“њлЉ” кІѓмќґл‹¤
лЄ…лЄ… к·њм•ЅмќЂ мќјл°м ЃмњјлЎњ м—”н„°н‹°лҐј л„Јкі  к·ё л’¤м—ђ Repositoryлќјкі  м Ѓм–ґм¤Ђл‹¤ 
к·ёлџј мќґл¦„мќ„ TodoRepositoryлќјкі  н•ґм¤„ к±°кі , FinishлҐј л€„лҐёл‹¤

к·ёлџј м—¬кё° TodoRepository мќён„°нЋмќґмЉ¤к°Ђ мћ€кі  к·ёлџј мќґкІЊ Todo м—”н„°н‹°лҐј кґЂл¦¬н•  кІѓмќґлќјкі  м–ґл–»кІЊ м•Њл¦ґм€ мћ€мќ„к№Њ?

----------------------------------------------------------------------------------------------------------------------



вЏє TodoRepository мќён„°нЋмќґмЉ¤нЊЊмќј




package com.firstapplication.springboot.myfirstwebapp.todo;

//1: к·ёлџ¬кё° мњ„н•ґм„  JpaRepositoryлќјлЉ” к±ё н™•мћҐн•ґм•ј н•њл‹¤, к·ёлџј л„Њ extendsлќјкі  м“°кі  JPAREлќјкі  н•њл‹¤, ctrl+spaceлҐј л€Њлџ¬ліґл©ґ JpaRepositoryк°Ђ ліґмќґкі 
//JpaRepository<T, ID> м—¬кё° мІ« лІ€м§ё к°’мќЂ к·ёкІЊ кґЂл¦¬н•лЉ” Beanмќґл‹¤ мљ°л¦° Todo Beanмќ„ кґЂл¦¬н•кёё м›ђн•м§Ђ, к·ёл¦¬кі  ID н•„л“њлЉ” л­к№Њ? ID н•„л“њмќ нѓЂмћ…мќ„ л§ђн•лЉ” кІѓмќґл‹¤, ID н•„л“њмќ нѓЂмћ…мќЂ Intкі , Intмќ м Ѓм €н•њ лћнЌјнЃґлћмЉ¤лЉ” Integerмќґл‹¤, к·ёлџј мќґ м•€м—ђ <Todo,Integer>лќјкі  м„¤м •н•ґліґмћђ
//л„€к°Ђ JpaRepositoryлҐј м—ґм–ґліґл©ґ м•„мЈј л‹¤м–‘н•њ мћ‘м—…мќ„ м§Ђм›ђн•лЉ” к±ё ліј м€ мћ€кі  л„€к°Ђ м—”н„°н‹°, Todo Bean, Todo к°’м—ђ н•  м€ мћ€лЉ” мћ‘м—…мќґ м•„мЈј л§Ћл‹¤, л„€к°Ђ м€н–‰н•  м€ мћ€лЉ” мћ‘м—…мќ л‹¤м–‘н•њ мњ н•мќ„ м•Њкё° мњ„н•ґ м‹¤м њлЎњ TodoRepositoryмќ мќёмЉ¤н„ґмЉ¤лҐј мѓќм„±н•ґ ліґлЏ„лЎќ н•мћђ
//TodoControllerлҐј ліµм‚¬ л¶™м—¬л„Јкё° н•кі  мќґл¦„мќ„ TodoControllerJpaлќјкі  н•кІ л‹¤
public interface TodoRepository extends JpaRepository<Todo, Integer> {

}

//1-1: м¤лҐк°Ђ л‚лЉ” к±ё ліј м€мћ€лЉ”лЌ°, к·ё мќґмњ лЉ” TodoControllerJpaк°Ђ лЄЁл“  URLкіј лЄЁл“  мљ”мІ­ л§¤н•‘мќ„ к°–кІЊ лђкё° л•Њл¬ёмќґл‹¤ мќґкІѓл“¤мќЂ м¤‘ліµлђњ мљ”мІ­ л§¤н•‘мќґл‹¤
//мќґл ‡кІЊ мљ°л¦¬лЉ” list-todos, add-todoл“± лЄЁл“  кІѓм—ђ лЊЂн•ґ м¤‘ліµлђњ л§¤н•‘мќ„ н•кі  мћ€л‹¤ к·ёлџј TodoControllerлҐј ліґмЎ°мљ©мњјлЎњ м‚¬мљ©н•л ¤ н•кі  TodoControllerмќ @ContollerлҐј мЈјм„ќмІл¦¬ н•кІ л‹¤ //1-2:TodoController нЃґлћмЉ¤нЊЊмќјлЎњ..

-----------------------------------------------------------------------


вЏє TodoController нЃґлћмЉ¤нЊЊмќј




package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;
import java.util.*;

import org.springframework.security.core.*;
import org.springframework.security.core.context.*;
import org.springframework.ui.*;
import org.springframework.validation.*;
import org.springframework.web.bind.annotation.*;

import jakarta.validation.*;

//1-2: @Controller мЈјм„ќмІл¦¬, мќґм њ м—¬кё°лЎњ м¤л©ґ Spring FrameworkлЉ” мќґ TodoControllerнЃґлћмЉ¤лҐј м™„м „нћ€ л¬ґм‹њн•кі  к·ёлћм„њ мќґк±ґ м „нЂ мћЎнћ€м§Ђ м•Љмќ„ кІѓмќґл‹¤
//мќґк±ґ к·ёлѓҐ ліґмЎ°мљ©мњјлЎњ л‘ђкі , мљ°л¦° мќґм њ TodoControllerJpaлҐј м‚¬мљ©н•  м€ мћ€л‹¤ //2: TodoControllerJpa нЃґлћмЉ¤нЊЊмќјлЎњ..
//@Controller
@SessionAttributes("name")
public class TodoController {

	
	private TodoService todoService;
	
	public TodoController(TodoService todoService) {
		super();
		this.todoService = todoService;
	}
...
..
.
-----------------------------------------------------------------------



вЏє TodoControllerJpa нЃґлћмЉ¤нЊЊмќј


package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;
import java.util.*;

import org.springframework.security.core.*;
import org.springframework.security.core.context.*;
import org.springframework.stereotype.*;
import org.springframework.ui.*;
import org.springframework.validation.*;
import org.springframework.web.bind.annotation.*;

import jakarta.validation.*;

@Controller
public class TodoController {

  //2-1:к·ёлџј м—¬кё°м„њ к·ёк±ё мѓќм„±мћђм—ђ лЊЂн•њ мќём€лЎњм„њ м¶”к°Ђн•  к±°кі 
	public TodoController(TodoService todoService, TodoRepository todoRepository) {
		super();
		this.todoService = todoService;
    //2-1 кі„м†Ќ: к·ёл¦¬кі  this.todoRepository = todoRepository лќјкі  н•ґм¤„ кІѓмќґл‹¤ мќґл ‡кІЊ н•ґмЈјл©ґ todoRepositoryк°Ђ мћђлЏ™мњјлЎњ кІ°н•©лђњл‹¤ к·ёлџј мќґк±ё м ЂмћҐн•кі  к·ёлџ¬л©ґ м•„л¬ґлџ° л¬ём њлЏ„ м—†мќ„ кІѓмќґл‹¤ м–ґн”Њл¦¬мјЂмќґм…мќґ л¬ём њм—†мќґ м‹¤н–‰лђђл‹¤ //2-2:м•„лћмќ listAllTodos() л©”м†Њл“њлЎњ..
    this.todoRepository = todoRepository;
	}
	
	private TodoService todoService;

  //2: м—¬кё°м„њ мќґм њ мљ°л¦° TodoRepositoryлҐј м‚¬мљ©н•л ¤кі  н•њл‹¤, к·ёлџј TodoServiceл‚ м •м Ѓ л¦¬мЉ¤нЉём™Ђ лЊЂн™”н•м§Ђ м•Љкі  мљ°л¦¬лЉ” JPAлҐј м‚¬мљ©н•ґм„њ DBм—ђ мћ€лЉ” н…Њмќґлё”кіј лЊЂн™”н•л ¤кі  н•њл‹¤ 
  //к·ёлџ¬кё° мњ„н•ґм„њлЉ” TodoRepositoryлҐј м‚¬мљ©н•ґм•ј н•њл‹¤, к·ёлџј м—¬кё°м„њ мќёмЉ¤н„ґмЉ¤лҐј мѓќм„±н•кІ л‹¤ 
  //TodoRepositoryлќјкі  н•кі  мќґк±° todoRepositoryлќјкі  л¶ЂлҐґмћђ
  //мќґк±ё мћђлЏ™мњјлЎњ м¶”к°Ђн•кё° мњ„н•ґ мљ°л¦¬лЉ” мќґк±ё мѓќм„±мћђм—ђ м¶”к°Ђн•ґм•ј н•њл‹¤ //2-1: мњ„мќ мѓќм„±мћђлЎњ..
	private TodoRepository todoRepository;


	@RequestMapping("list-todos")
	public String listAllTodos(ModelMap model) {
		String username = getLoggedInUsername(model);

    //2-2:мќґм њ TodoRepositoryмќ мќјл¶ЂлЎњ м њкіµлђњ л‹¤м–‘н•њ мћ‘м—…л“¤м—ђ лЊЂн•ґ м•Њм•„ліґмћђ
    //к·ёк±ё ліґл ¤л©ґ л„€лЉ” мќґ л©”м„њл“њл“¤ м¤‘м—ђ н•л‚лЎњ к°Ђм„њ todoRepository.мќґлќјкі  м Ѓм–ґмЈјкё°л§Њ н•л©ґ лђњл‹¤ м—¬кё° м–ґл§€м–ґл§€н•њ м–‘мќ мћ‘м—…мќґ м њкіµлђм–ґ мћ€лЉ” к±ё ліј м€ мћ€кі  к·ё м¤‘м—ђ лЄ‡ к°Ђм§ЂлҐј м‚ґнЋґліґкё°лЎњ н•мћђ
    //мІ«м§ёлЉ” IDлЎњ TodoлҐј л°›лЉ” getById()мќґл‹¤, к·ёлџј getById()лќјкі  н•кі  Todoмќ IDлҐј л„Јм–ґм¤„ м€ мћ€кі , к·ёлџ¬л©ґ DBлЎњл¶Ђн„° TodoлҐј л°›кІЊ лђњл‹¤ //м€ getById(1);
    //рџ”µ м—…лЌ°мќґнЉё: к·ёкІѓ л§ђкі лЏ„ л§ЋмќЂ мћ‘м—…мќ„ н•  м€ мћ€лЉ”лЌ°, л§Њмќј TodoлҐј м—…лЌ°мќґнЉён•л ¤л©ґ todoRepository.save()лќј н•  м€ мћ€л‹¤
    //рџ”µ м‚­м њ : TodoлҐј м‚­м њн•л ¤л©ґ .delete()лҐј м“°кі  TodoлҐј л„Јм–ґмЈјк±°л‚ IDлҐј мќґмљ©н•ґм„њ м‚­м њн•  м€ мћ€л‹¤, к·ёлџј deleteById()лќјкі  н•кі  IDлҐј л„Јм–ґмЈјл©ґлђњл‹¤//м€ deleteById(1);
    //мќґл ‡кІЊ н…Њмќґлё”м—ђ лЊЂн•њ мќґлџ° лЄЁл“  мћ‘м—…мќ„ todoRepositoryк°Ђ м§Ђм›ђн•њл‹¤
    todoRepository.

		List<Todo> todos = todoService.findByUsername(username);
		model.addAttribute("todos", todos);
		
		return "listTodos";
	}

	
	//GET, POST
	@RequestMapping(value="add-todo",method=RequestMethod.GET)
	public String showNewTodoPage(ModelMap model) {
		String username = getLoggedInUsername(model);
		Todo todo = new Todo(0, username, "", LocalDate.now().plusYears(1), false);
		model.put("todo", todo);
		return "todo";
	}
	
	@RequestMapping(value="add-todo",method=RequestMethod.POST)
	public String addNewTodo(ModelMap model, @Valid Todo todo, BindingResult result) {
		
		if(result.hasErrors()) {
			return "todo";
		}
		
		String username = getLoggedInUsername(model);
		todoService.addTodo(username, todo.getDescription(), 
				todo.getTargetDate(), false);
		
		return "redirect:list-todos";
	}
	
	@RequestMapping("delete-todo")
	public String deleteTodo(@RequestParam int id) {
		//Delete todo
		todoService.deleteById(id);
		
		return "redirect:list-todos";

	}
	
	
	@RequestMapping(value="update-todo", method=RequestMethod.GET)
	public String showUpdateTodoPage(@RequestParam int id, ModelMap model) {
		Todo todo = todoService.findById(id);
		model.addAttribute("todo",todo);
		return "todo";

	}
	
	@RequestMapping(value="update-todo",method=RequestMethod.POST)
	public String updateTodo(ModelMap model, @Valid Todo todo, BindingResult result) {
		
		if(result.hasErrors()) {
			return "todo";
		}
		
		String username = getLoggedInUsername(model);
		todo.setUsername(username);
		todoService.updateTodo(todo);
		
		return "redirect:list-todos";
	}
	
	private String getLoggedInUsername(ModelMap model) {
		Authentication authentication = 
				SecurityContextHolder.getContext().getAuthentication();
		
		return authentication.getName();
	}
	
}

----------------------------------------------------------------------------------------------------------------------


--------------------------------------------------------------------------------------------------------------------


http://localhost:8087/list-todos нЋмќґм§Ђн™”л©ґ ==>

вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
in28Minutes   Home Todos                         (лІ мќґм§Ђ? л°”нѓ•)                                           Logout                                            
_______________________________________________________________________________________________________________


      Your Todos

      Description	                      Taget Date	   Is Done?
      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                                                     _______________      _______________
      Get AWS Certified                       2025-05-05	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                     _______________      _______________
      Learn DevOps	                      2026-05-05	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                     _______________      _______________   
      Learn Full Stack Development	      2025-05-05           false            | DELETE(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
      _________________
     | Add Todo(л…№л°”нѓ•) |
      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ

--------------------------------------------------------------------------------------------------------------------

л„€лЉ” м§Ђкё€ мќґ list-todos нЋмќґм§ЂлҐј м—°кІ°н•л ¤ н•кі  
м§Ђкё€мќЂ мќґ л¦¬мЉ¤нЉёк°Ђ м •м Ѓ л¦¬мЉ¤нЉём—ђм„њ м¤кі мћ€л‹¤

--------------------------------------------------------------------------------------------------------------------



вЏє TodoService нЃґлћмЉ¤нЊЊмќј



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;
import java.util.*;
import java.util.function.*;

import org.springframework.stereotype.*;

import jakarta.validation.*;

@Service
public class TodoService {

	private static List<Todo> todos =new ArrayList<>();
	
	private static int todosCount = 0;

  //3: к·ёлџј TodoServiceлЎњ к°Ђм„њ к°„л‹Ёнћ€ л’¤м—ђ 1мќ„ лЄЁл‘ђ м¶”к°Ђн•ґ ліґмћђ, к·ёлџј мќґкІЊ м •м Ѓ л¦¬мЉ¤нЉём—ђм„њ м¤лЉ” к±ё м•Њ м€ мћ€мќ„ кІѓмќґл‹¤
	static {
		todos.add(new Todo(++todosCount,"in28minutes","Get AWS Certified 1", 
				LocalDate.now().plusYears(1), false));
		todos.add(new Todo(++todosCount,"in28minutes","Learn DevOps 1", 
				LocalDate.now().plusYears(2), false));
		todos.add(new Todo(++todosCount,"in28minutes","Learn Full Stack Development 1", 
				LocalDate.now().plusYears(3), false));
	}
	
	public List<Todo> findByUsername(String username) {
		Predicate<? super Todo> predicate = todo -> todo.getUsername().equalsIgnoreCase(username);
		
		return todos.stream().filter(predicate).toList();
	} 
	
	public void addTodo(String username, String description, LocalDate targetDate, boolean done) {
		Todo todo = new Todo(++todosCount, username, description, targetDate, done);
		todos.add(todo);
	}
	
	public void deleteById(int id) {
		//todo.getId() == id
		//todo -> todo.getId() == id
		
		Predicate<? super Todo> predicate = todo -> todo.getId() == id;
		todos.removeIf(predicate);
	}

	public Todo findById(int id) {
		
		Predicate<? super Todo> predicate = todo -> todo.getId() == id;
		Todo todo = todos.stream().filter(predicate).findFirst().get();
		
		return todo;
	}

	public void updateTodo(@Valid Todo todo) {
		deleteById(todo.getId());
		todos.add(todo);
		
	}
	
}

--------------------------------------------------------------------------------------------------------------------
                                                                      |
                                                                      V
--------------------------------------------------------------------------------------------------------------------


http://localhost:8087/list-todos нЋмќґм§Ђн™”л©ґ ==>

вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
in28Minutes   Home Todos                         (лІ мќґм§Ђ? л°”нѓ•)                                           Logout                                            
_______________________________________________________________________________________________________________


      Your Todos

      Description	                      Taget Date	   Is Done?
      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                                                     _______________      _______________
      Get AWS Certified 1                     2025-05-05	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                     _______________      _______________
      Learn DevOps 1	                      2026-05-05	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                    _______________      _______________   
      Learn Full Stack Development 1	      2025-05-05           false           | DELETE(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
      _________________
     | Add Todo(л…№л°”нѓ•) |
      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ

--------------------------------------------------------------------------------------------------------------------
мќґм њ мѓ€лЎњкі м№Ёмќ„ н•ґліґл©ґ лЄЁл‘ђ 1мќґ л¶™мќЂ к±ё ліј м€ мћ€м§Ђ?
мќґл ‡кІЊ мќґкІѓл“¤мќЂ лЄЁл‘ђ м •м Ѓ л¦¬мЉ¤нЉём—ђм„њ м¤кі  мћ€л‹¤

мљ°л¦° мќґк±ё м‚¬мљ©н•м§Ђ м•Љкі  DBм—ђм„њ л°›мњјл ¤кі  н•њл‹¤
мљ°л¦° к·ёк±ё TodoRepositoryм—ђм„њ л°›мњјл ¤кі  н•њл‹¤


--------------------------------------------------------------------------------------------------------------------


вЏє TodoControllerJpa нЃґлћмЉ¤нЊЊмќј



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;
import java.util.*;

import org.springframework.security.core.*;
import org.springframework.security.core.context.*;
import org.springframework.stereotype.*;
import org.springframework.ui.*;
import org.springframework.validation.*;
import org.springframework.web.bind.annotation.*;

import jakarta.validation.*;

@Controller
@SessionAttributes("name")
public class TodoControllerJpa {

	public TodoControllerJpa(TodoService todoService, TodoRepository todoRepository) {
		super();
		this.todoService = todoService;
		this.todoRepository = todoRepository;
	}
	
	private TodoService todoService;
	

	private TodoRepository todoRepository;
	
	@RequestMapping("list-todos")
	public String listAllTodos(ModelMap model) {
		String username = getLoggedInUsername(model);

//4:мљ°л¦¬к°Ђ лЁјм Ђ н•ґм•ј н•  мќјмќЂ todoService.findByUsername()мќёлЌ°, usernameмќЂ Todo м—”н„°н‹°м—ђ мћ€лЉ” н•„л“њл‹¤ м¦‰ Todo м—”н„°н‹°м—ђм„њ usernameмќЂ н•„л“њкі  idк°Ђ м•„л‹€л‹¤
//к·ёк±ё IDлЎњ кІЂмѓ‰н•л ¤л©ґ л„€лЉ” JPA л¦¬нЏ¬м§Ђн† л¦¬лҐј м‚¬мљ©н•ґм„њ м§Ѓм ‘ кІЂмѓ‰н•  м€ мћ€л‹¤, н•м§Ђл§Њ л„€лЉ” н•„л“њлЎњ кІЂмѓ‰н•л ¤кі  н•л©ґ м§Ѓм ‘ м њкіµлђм§Ђ м•ЉлЉ”л‹¤, л„€лЉ” TodoRepositoryм—ђм„њ л©”м„њл“њлҐј м •мќн•ґм•ј н•њл‹¤//5: TodoRepository мќён„°нЋмќґмЉ¤лЎњ..
	
//6: к·ёлџј м—¬кё°лЎњ м™Ђм„њ todoService.findByUsername(username); лҐј -> todoRepository.findByUsername(username); лЎњ ліЂкІЅн•кі 
//ліґлЉ” кІѓмІлџј мљ°л¦¬лЉ” Serviceмќ л©”м„њл“њ мќґл¦„мќґ л¦¬нЏ¬м§Ђн† л¦¬м™Ђ к±°мќ мќјм№н•лЏ„лЎќ н–€л‹¤ лЄЁл“  мќґл¦„мќґ к°™мќ„ м€лЉ” м—†м§Ђл§Њ мљ°л¦¬лЉ” мµњм†Њн•њ лЊЂл¶Ђл¶„мќ мќґл¦„мќґ к°ЂлЉҐн•њ н•њ к°™лЏ„лЎќ л…ёл Ґн•њл‹¤ к·ёлџ¬л©ґ м‰ЅкІЊ лЊЂмІґн•  м€ мћ€кІ м§Ђ мќґм њ мќґк±ё м ЂмћҐ м• н”Њл¦¬мјЂмќґм…лЏ„ мћ м‹њмћ‘лђкі  мћ€кі  м›№м‚¬мќґнЉё TodosлҐј нЃґл¦­н•ґліґмћђ..
    List<Todo> todos = todoService.findByUsername(username);
		model.addAttribute("todos", todos);
		
		return "listTodos";
	}

	
	//GET, POST
	@RequestMapping(value="add-todo",method=RequestMethod.GET)
	public String showNewTodoPage(ModelMap model) {
		String username = getLoggedInUsername(model);
		Todo todo = new Todo(0, username, "", LocalDate.now().plusYears(1), false);
		model.put("todo", todo);
		return "todo";
	}
	
	@RequestMapping(value="add-todo",method=RequestMethod.POST)
	public String addNewTodo(ModelMap model, @Valid Todo todo, BindingResult result) {
		
		if(result.hasErrors()) {
			return "todo";
		}
		
		String username = getLoggedInUsername(model);
		todoService.addTodo(username, todo.getDescription(), 
				todo.getTargetDate(), false);
		
		return "redirect:list-todos";
	}
	
	@RequestMapping("delete-todo")
	public String deleteTodo(@RequestParam int id) {
		//Delete todo
		todoService.deleteById(id);
		
		return "redirect:list-todos";

	}
	
	
	@RequestMapping(value="update-todo", method=RequestMethod.GET)
	public String showUpdateTodoPage(@RequestParam int id, ModelMap model) {
		Todo todo = todoService.findById(id);
		model.addAttribute("todo",todo);
		return "todo";

	}
	
	@RequestMapping(value="update-todo",method=RequestMethod.POST)
	public String updateTodo(ModelMap model, @Valid Todo todo, BindingResult result) {
		
		if(result.hasErrors()) {
			return "todo";
		}
		
		String username = getLoggedInUsername(model);
		todo.setUsername(username);
		todoService.updateTodo(todo);
		
		return "redirect:list-todos";
	}
	
	private String getLoggedInUsername(ModelMap model) {
		Authentication authentication = 
				SecurityContextHolder.getContext().getAuthentication();
		
		return authentication.getName();
	}
	
}

-----------------------------------------------------------------------



вЏє TodoRepository мќён„°нЋмќґмЉ¤ нЊЊмќј



package com.firstapplication.springboot.myfirstwebapp.todo;

import org.springframework.data.jpa.repository.*;

public interface TodoRepository extends JpaRepository<Todo, Integer> {
  //5: к·ёлџј л„€лЉ” м—¬кё°лЎњ м™Ђм„њ л©”м„њл“њлҐј м •мќн•  кІѓмќґл‹¤, public List<Todo>лќјкі  н•кі  findByUsername()мќґлќјкі  н•њл‹¤ к·ёл¦¬кі  ;лҐј л„Јм–ґмЈјмћђ
  //мљ°л¦¬лЉ” TodoRepositoryм—ђ мћ€кі  мћ„нЏ¬нЉёлҐј м •л¦¬н•кё° мњ„н•ґ java.util.ListлҐј м„ нѓќн•ґм¤Ђл‹¤, мќґл ‡кІЊ мљ°л¦¬лЉ” findByUsername()мќґлќјкі  н•кі  мћ€л‹¤
  //мљ°л¦° мќґл ‡кІЊ findByUsername()мќґлќјкі  м“°кі  к·ё к°’мќ„ л„Јм–ґмЈјкё°л§Њ н•л©ґ лђњл‹¤ к·ёлџј String username мќґлќјкі  н•ґмЈјмћђ
  //usernameмќЂ Todo Beanм—ђ мћ€лЉ” м†Ќм„±мќґкё° л•Њл¬ём—ђ Spring Data JPAлЉ” usernameмњјлЎњ кІЂмѓ‰н•кё° мњ„н•њ л©”м„њл“њлҐј мћђлЏ™мњјлЎњ м њкіµн•њл‹¤ , мќґк±ё м ЂмћҐн•кі  н•њ лІ€ к°ђмѓЃн•ґ ліґмћђ //6: л‹¤м‹њ мњ„мќ TodoControllerJpaнЃґлћмЉ¤ нЊЊмќјлЎњ...
  public List<Todo> findByUsername();
}

--------------------------------------------------------------------------------------------------------------------

м¤лҐк°Ђ л‚кі  мћ€л‹¤

Whitelabel Error Page
This application has no explicit mapping for /error, so you are seeing this as a fallback.

Sat May 11 21:39:37 KST 2024
There was an unexpected error (type=Internal Server Error, status=500).
No default constructor for entity 'com.firstapplication.springboot.myfirstwebapp.todo.Todo'
org.springframework.orm.jpa.JpaSystemException: No default constructor for entity 'com.firstapplication.springboot.myfirstwebapp.todo.Todo'
	at 

м—”н„°н‹°м—ђ лЊЂн•њ кё°ліё мѓќм„±мћђк°Ђ м—†л‹¤кі  л‚мЁл‹¤ 

к·ёлџј к°Ђм„њ м—”н„°н‹°м—ђ лЊЂн•њ кё°ліё мѓќм„±мћђлҐј м¶”к°Ђн•ґліґмћђ,
ctrl + shift+tлҐј л€Њлџ¬м„њ Todoлќјкі  н•кі 

--------------------------------------------------------------------------------------------------------------------



вЏє Todo нЃґлћмЉ¤нЊЊмќј



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

@Entity
public class Todo {

  //7: м—¬кё°м—ђ кё°ліё мѓќм„±мћђлҐј м¶”к°Ђн•  кІѓмќґл‹¤ public Todo(){ }лќјкі  н•кі  м ЂмћҐн•њл‹¤ м–ґл–»кІЊ лђлЉ”м§Ђ ліјк№Њ? мѓ€лЎњкі м№Ён•л©ґ..
  //

	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

	@Id
	@GeneratedValue
	private int id;
	
	private String username;
	
	@Size(min=10, message="Enter atleast 10 characters")
	private String description;
	private LocalDate targetDate;
	private boolean done;
	
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getDescription() {
		return description;
	}
	public void setDescription(String description) {
		this.description = description;
	}
	public LocalDate getTargetDate() {
		return targetDate;
	}
	public void setTargetDate(LocalDate targetDate) {
		this.targetDate = targetDate;
	}
	public boolean isDone() {
		return done;
	}
	public void setDone(boolean done) {
		this.done = done;
	}
	
	@Override
	public String toString() {
		return "Todo [id=" + id + ", username=" + username + ", description=" + description + ", targetDate="
				+ targetDate + ", done=" + done + "]";
	}
}

--------------------------------------------------------------------------------------------------------------------
                                                                      |
                                                                      V
--------------------------------------------------------------------------------------------------------------------


http://localhost:8087/list-todos нЋмќґм§Ђн™”л©ґ ==>

вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
in28Minutes   Home Todos                         (лІ мќґм§Ђ? л°”нѓ•)                                           Logout                                            
_______________________________________________________________________________________________________________


      Your Todos

      Description	                      Taget Date	   Is Done?
      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                                                     _______________      _______________
      Get AWS Certified                       2025-05-11	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                     _______________      _______________
      Get Azure Certified	              2026-05-11	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                     _______________      _______________   
      Get GCP Certified	                      2025-05-11           false            | DELETE(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
                                                                                     _______________      _______________
      Get Fullstack Certified                 2025-05-11	   false            | Delete(л…ёл°”нѓ•) |   | Update (л…№л°”нѓ•) |
                                                                                     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
      ---------------------------------------------------------------------------------------------------------
      _________________
     | Add Todo(л…№л°”нѓ•) |
      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ

--------------------------------------------------------------------------------------------------------------------

лђђл‹¤ мќґл ‡кІЊ Todo 4к°њлҐј л°›кі  мћ€л‹¤ 
мќґ Todoл“¤мќЂ DBм—ђм„њ мЁ кІѓмќґл‹¤
мќґкІѓл“¤мќЂ data.sqlмќ„ н†µн•ґ м±„м›Њм§„ кІѓл“¤мќґл‹¤





мќґлІ€ л‹Ёкі„м—ђм„њ мљ°л¦¬лЉ” DBм—ђм„њ м¤лЉ” Todoмќ л¦¬мЉ¤нЉёлҐј н‘њм‹њн•  м€ мћ€м—€кі  
л‹¤мќЊ л‹Ёкі„м—ђм„њлЏ„ Todo DBм—ђ м—°кІ°, м‚­м њ, м—…лЌ°мќґнЉё, м¶”к°Ђн•лЉ” мћ‘м—…мќ„ н•ґліґкІ л‹¤
