

Simplify Deployment with Spring Boot Embedded Servers

â— How do you deploy your application?                                                                       __________________________________  
 â–  Step 1 : Install Java                                                                                   (         WAR Approach (OLD)       )
 â–  Step 2 : Install Web/Application Server                                                                  â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
  â–¢ Tomcat/WebSphere/WebLogic etc                                                                           __________________________________                                                                                                                                    
 â–  Step 3 : Deploy the application WAR (Web ARchive)                                                       |                WAR               |           
  â–¢ This is the OLD WAR Approach                                                                            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                            
  â–¢ Complex to setup!                                                                                       __________________________________                                                                                                                                    
                                                                                                           |            Web Server            |
â— Embedded Server - Simpler alternative                                                                    |  (Tomcat/Weblogic/WebSphere etc) |        
 â–  Step 1 : Install Java                                                                                    â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                              
 â–  Step 1 : Run JAR file                                                                                    __________________________________                                                                                                                                    
 â–  Make JAR not (Credit: Josh Long!)                                                                       |                JAVA              |           
 â–  Embedded Server Examples:                                                                                â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                             
  â–¢ spring-boot-starter-tomcat                                                                              __________________________________  
  â–¢ spring-boot-starter-jetty                                                                              (         Embedded Approach        )
  â–¢ spring-boot-starter-undertow                                                                            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                             
                                                                                                            __________________________________                                                                                                                                    
                                                                                                           |               JAR                |
                                                                                                           |   (Embedded Server - Tomcat ..)  |        
                                                                                                            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                              
                                                                                                            __________________________________                                                                                                                                    
                                                                                                           |                JAVA              |           
                                                                                                            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾                              
                                                                                                                                    

ì´ ë‹¨ê³„ì—ì„  Embedded Serverì— ê´€í•´ ì•Œì•„ë³´ê² ë‹¤ 
Spring Boot Embedded Serverë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬ë¥¼ ê°„ì†Œí™”í•˜ëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¼ê¹Œ?
ê°œë°œìë“¤ì€ í”„ë¡œë•ì…˜ì— ë¬´ì–¸ê°€ë¥¼ ë°°í¬í•  ë•Œ í”„ë¡œì„¸ìŠ¤ê°€ ì•„ì£¼ ê°„ë‹¨í•˜ê¸°ë¥¼ ë°”ë€ë‹¤ ì™œì¼ê¹Œ?

ì™œëƒë©´ í™˜ê²½ì´ ì—¬ëŸ¬ê°œ ìˆê¸° ë•Œë¬¸ì´ë‹¤
deví™˜ê²½, qaí™˜ê²½, stageí™˜ê²½, production í™˜ê²½ì´ ìˆë‹¤ 
ì¼ë°˜ì ìœ¼ë¡œ ë¹ ë¥¸ ì ‘ê·¼ ë°©ì‹ì„ ë”°ë¥´ê³  ìˆë‹¤ë©´ í•˜ë£¨ì— ì—¬ëŸ¬ ë°°í¬ë¥¼ ì‹¤í–‰í•˜ê³  ìˆì„ ìˆ˜ ìˆë‹¤
ë”°ë¼ì„œ ìµœëŒ€í•œ ë°°í¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ ì •ë§ ì¤‘ìš”í•˜ë‹¤ 
â— How do you deploy your application?
ì´ì „ì— ì‚¬ìš©í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ë°©ì‹ì„ ê°„ëµíˆ ì‚´í´ ë³´ê² ë‹¤
WAR ë°©ì‹ì´ë¼ê³ ë„ í•˜ëŠ”ë°
 â–  Step 1 : Install Java
ë¨¼ì € ìë°”ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤
 â–  Step 2 : Install Web/Application Server 
ìë°”ë¥¼ ì„¤ì¹˜í•œ í›„ì—ëŠ” ì›¹ ì„œë²„ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤ 
  â–¢ Tomcat/WebSphere/WebLogic etc    
Tomcat, Weblogic, WebSphereëŠ” ì•Œê³  ìˆì§€? ëª¨ë‘ ì›¹ ì„œë²„ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¡œ ìœ ëª…í•˜ë‹¤
ë¨¼ì € ìë°”ë¥¼ ì„¤ì¹˜í•˜ê³  íŠ¹ì • ì›¹ ì„œë²„ë¥¼ ì„¤ì¹˜í•œë‹¤
 â–  Step 3 : Deploy the application WAR (Web ARchive)  
  â–¢ This is the OLD WAR Approach 
  â–¢ Complex to setup!
ê·¸ëŸ° ë‹¤ìŒ ì• í”Œë¦¬ì¼€ì´ì…˜ WAR íŒŒì¼ì„ ë°°í¬í•œë‹¤
ì´ê²ƒì´ ì´ì „ì— ì‚¬ìš©í•œ WAR ë°©ì‹ì¸ë°, ì„¤ì •í•˜ê¸°ì— ì¢€ ë³µì¡í•˜ë‹¤,
ì„¸ ë‹¨ê³„ê°€ ìˆìœ¼ë‹ˆê¹Œ ìë°”ë¥¼ ì„¤ì¹˜í•˜ê³  ì›¹ì„œë²„ë¥¼ ì„¤ì¹˜í•œ í›„ WARë¥¼ ë°°í¬í•  ìˆ˜ ìˆë‹¤

â— Embedded Server - Simpler alternative
 â–  Step 1 : Install Java 
 â–  Step 1 : Run JAR file   
Embedded Serverì˜ ê°œë…ì€ ë” ë‹¨ìˆœí•œ ëŒ€ì•ˆì´ë‹¤ 
Ebbeded Severë¥¼ ì‚¬ìš©í•˜ë©´ Tomcatê³¼ ê°™ì€ ì„œë²„ê°€ ì´ë¯¸ JAR íŒŒì¼ì— í¬í•¨ë˜ì–´ ìˆë‹¤
ë”°ë¼ì„œ ìë°”ë¥¼ ì„¤ì¹˜í•˜ê¸°ë§Œ í•˜ë©´ JAR íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤

ì§€ê¸ˆ ë°”ë¡œ ì‹¤ì œë¡œ í™•ì¸í•´ ë³´ì
IDEë¡œ ê°€ì„œ learn-spring-boot í”„ë¡œì íŠ¸ë¥¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ > Run As > Maven buildë¥¼ ì„ íƒ > Goals ì— clean installì„ ì…ë ¥ > Run
mvn clean installì´ë¼ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•˜ê²Œ ëœë‹¤
í”„ë¡œì íŠ¸ì—ì„œ clean installì„ ì‹¤í–‰í•˜ë©´ ì½˜ì†”ì— ë¬´ì–¸ê°€ ë§‰ ì¶œë ¥ì´ ëœë‹¤
/* ì½˜ì†”ì°½ ==>
.
..
...
[[1;34mINFO[m] Installing C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target\learn-spring-boot-0.0.1-SNAPSHOT.jar to C:\Users\LG\.m2\repository\com\springstudy\springboot\learn-spring-boot\0.0.1-SNAPSHOT\learn-spring-boot-0.0.1-SNAPSHOT.jar
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  30.133 s
[[1;34mINFO[m] Finished at: 2024-04-01T17:29:22+09:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------
*/
ì²˜ìŒ ì‹¤í–‰í•˜ë©´ ì™„ë£Œë˜ëŠ” ë° 2ë¶„ ì •ë„ ê±¸ë¦´ ìˆ˜ ìˆë‹¤
ê·¸ë¦¬ê³  ê¶Œì¥ë˜ëŠ” ì‘ì—…ì€ 
[[1;34mINFO[m] The original artifact has been renamed to C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target\learn-spring-boot-0.0.1-SNAPSHOT.jar.original
ì´ ë¼ì¸ìœ¼ë¡œ ì´ë™í–ì—¬ ë³µì‚¬í•˜ëŠ” ê²ƒì´ë‹¤, Building.jarì´ë‹¤
jarì´ ë¹Œë“œë˜ê³  ìˆëŠ”ë° ì–´ë–¤ jarê°€ ì¶œë ¥ë˜ê³  ìˆëŠ”ì§€ ë³´ì
C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target\learn-spring-boot-0.0.1-SNAPSHOT.jar.original
jar íŒŒì¼ì´ ìƒì„±ë˜ëŠ” íŠ¹ì • í´ë”ê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ ê·¸ë¦¬ê³  learn-spring-boot-0.0.1-SNAPSHOT.jar ì´ê²ƒì´ jar íŒŒì¼ ì´ë¦„ì´ë‹¤
ì´ì œ í„°ë¯¸ë„ ë˜ëŠ” ëª…ë ¹í”„ë¡¬í”„íŠ¸ë¥¼ ì—´ê³  ì´ íŠ¹ì • í´ë”ì— cd \Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target\ ì—”í„° ë‹¤ìŒì— ì´ íŠ¹ì • í´ë”ë¥¼ ë¶™ì—¬ ë„£ê³  ì—”í„° í‚¤ë¥¼ ëˆ„ë¥´ê³  ì´ìª½ìœ¼ë¡œ ì´ë™í•˜ì—¬ ls(Mac ë˜ëŠ” Linux)ë‚˜ dirì„ ì…ë ¥í•œë‹¤

C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target> dir
 C ë“œë¼ì´ë¸Œì˜ ë³¼ë¥¨ì—ëŠ” ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤.
 ë³¼ë¥¨ ì¼ë ¨ ë²ˆí˜¸: D67F-0185

 C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target ë””ë ‰í„°ë¦¬

2024-04-01  ì˜¤í›„ 05:29    <DIR>          .
2024-04-01  ì˜¤í›„ 05:29    <DIR>          ..
2024-04-01  ì˜¤í›„ 05:28    <DIR>          classes
2024-04-01  ì˜¤í›„ 05:28    <DIR>          generated-sources
2024-04-01  ì˜¤í›„ 05:28    <DIR>          generated-test-sources
2024-04-01  ì˜¤í›„ 05:29        24,114,109 learn-spring-boot-0.0.1-SNAPSHOT.jar
2024-04-01  ì˜¤í›„ 05:29             6,846 learn-spring-boot-0.0.1-SNAPSHOT.jar.original
2024-04-01  ì˜¤í›„ 05:29    <DIR>          maven-archiver
2024-04-01  ì˜¤í›„ 05:28    <DIR>          maven-status
2024-04-01  ì˜¤í›„ 05:29    <DIR>          surefire-reports
2024-04-01  ì˜¤í›„ 05:28    <DIR>          test-classes
               2ê°œ íŒŒì¼          24,120,955 ë°”ì´íŠ¸
               9ê°œ ë””ë ‰í„°ë¦¬  99,576,926,208 ë°”ì´íŠ¸ ë‚¨ìŒ

ì´ íŠ¹ì • í´ë”ì— ìˆëŠ” ëª¨ë“  íŒŒì¼ì´ í‘œì‹œëœë‹¤
learn-spring-boot-0.0.1-SNAPSHOT.jaríŒŒì¼ì´ ìˆëŠ”ë° ì´ íŒŒì¼ì€ ì—¬ê¸°ì„œ ìƒì„±ë˜ì—ˆë‹¤
ì´ì œ ì´ jar íŒŒì¼ì„ ì‹¤í–‰í•´ ë³´ê² ë‹¤

cmdì—ì„œ ê³„ì† 
java -jarë¥¼ ì…ë ¥í•˜ê³  í•´ë‹¹ jar íŒŒì¼ ì´ë¦„ì„ ë¶™ì—¬ ë„£ëŠ”ë‹¤ ( java -jar learn-spring-boot-0.0.1-SNAPSHOT.jar )
ê·¸ëŸ¬ë©´ java -jar java -jar learn-spring-boot-0.0.1-SNAPSHOT.jarê°€ ëœë‹¤, ì‹¤í–‰í•˜ê¸° ì „ì— ì˜¬ë°”ë¥¸ ë²„ì „ì˜ ìë°”ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ë¼

C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target>java --version
java 17.0.6 2023-01-17 LTS
Java(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)
Java HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)
ì§€ê¸ˆ Spring Boot 3ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ìë°” 17ì´ìƒì´ ìˆì–´ì•¼ í•œë‹¤ ìë°” 17 ì´ìƒì´ë¯€ë¡œ ã…‡ã…‹

ê·¸ëŸ¼, ìë°” íŒŒì¼ì„ ì‹¤í–‰í•´ ë³´ì
java -jar learn-spring-boot-0.0.1-SNAPSHOT.jar
.
..
...
....
2024-04-01T18:01:22.880+09:00 ERROR 2240 --- [learn-spring-boot] [           main] o.s.b.d.LoggingFailureAnalysisReporter   :

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.


C:\Users\LG\Downloads\learn-spring-boot\learn-spring-boot\target>

ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ì œ ì‹¤í–‰ë˜ëŠ”ë°, ì˜¤ë¥˜ê°€ í•˜ë‚˜ í‘œì‹œëœë‹¤ Port 8080 was already in use. ë¼ê³  í‘œì‹œëœë‹¤
ì´ìœ ê°€ ë­˜ê¹Œ? ì—¬ê¸°ì„œ ì‹¤í–‰ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤ 
ê·¸ëŸ¼ stsì—ì‹¤í–‰ë˜ì–´ ìˆìœ¼ë©´ ì¤‘ì§€í•˜ê³  ë‹¤ì‹œ cmdì—ì„œ ì‹¤í–‰í•´ë³´ì


{
"url": "http://dev.in28minutes.com",
"username": "devusername",
"key": "devkey"
}
JARíŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì•„ì£¼ ì‰½ê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤, ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ URLì„ ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆê³  ëª¨ë“  ë‚´ìš©ì´ ì˜ í‘œì‹œëœë‹¤

[
{
"id": 1,
"name": "Learn AWS",
"author": "in28minutes"
},
{
"id": 2,
"name": "Learn DevOps",
"author": "in28minutes"
},
{
"id": 3,
"name": "Learn Azure",
"author": "in28minutes"
},
{
"id": 4,
"name": "Learn GCP",
"author": "in28minutes"
}
]
coursesë¥¼ ì…ë ¥í•˜ë©´ ë‹¤ì‹œ ê°•ì˜ courses ëª©ë¡ì´ í‘œì‹œëœë‹¤ 
Sprgin Bootë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë ¤ë©´ ìë°”ë§Œ ì„¤ì¹˜í•˜ë©´ ëë‹¤, ì¼ë‹¨ ìë°”ë¥¼ ì„¤ì¹˜í•œ í›„
JARíŒŒì¼ì„ ë§Œë“¤ë©´ JAR íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ 
ì›¹ ì„œë²„ëŠ” ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤, ì›¹ ì„œë²„ê°€ JAR íŒŒì¼ì˜ ì¼ë¶€ì´ê¸° ë–„ë¬¸ì´ë‹¤ 

Spring Boot Starter Webì„ ì—´ë ¤ë©´ 
pom.xmlë¡œ ì´ë™í•˜ì—¬ spring-boot-starter-webì„ ì—°ë‹¤ (ctrl+í´ë¦­ìœ¼ë¡œ ì—´ê¸°)
ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ í•˜ë©´ spring-boot-starter-webì´ ìë™ìœ¼ë¡œ spring-boot-starter-tomcatì„ ê°€ì ¸ì˜¨ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤,
    <dependency>
      <groupId>org.springframework.boot</groupId>
      <artifactId>spring-boot-starter-tomcat</artifactId>
      <version>3.3.0-M3</version>
      <scope>compile</scope>
    </dependency>
ì´ tomcatì€ ì´ë¯¸ JARì— í¬í•¨ë˜ì–´ ìˆìœ¼ë‹ˆ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ë°ëŠ” ìë°”ë§Œ ìˆìœ¼ë©´ ëœë‹¤
ìë°”ë§Œ ì„¤ì¹˜í•˜ë©´ JAR íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤, ì´ë¡œì¨ ì „ì²´ ë°°í¬ í”„ë¡œì„¸ìŠ¤ê°€ ê°„ì†Œí™”ëœë‹¤

ë‹¤ì‹œ ëŒì•„ê°€ë³´ì cmdì— ì‹¤í–‰ì¤‘ì¸ ê²ƒì€ ctrl+cë¥¼ ëˆŒëŸ¬ ì¢…ë£Œí•˜ê³ ,
ë°°í¬ í”„ë¡œì„¸ìŠ¤ëŠ” ê°„ì†Œí™” í•  ìˆ˜ ìˆë‹¤ ê·¸ë˜ì„œ
 â–  Make JAR not (Credit: Josh Long!) 
ì¡°ì‰¬ ë¡±ì´ë‹¤, Spring ê³¼ Spring Boot ê°œë°œì ëŒ€ë³€ìì¸ ì¡°ì‰¬ ë¡±ì€ WARê°€ ì•„ë‹ˆë¼ JARì„ ë§Œë“¤ë¼ê³  í•œë‹¤ 
Spring BootëŠ” ì—¬ëŸ¬ Embedded Serverë¥¼ ì§€ì›í•˜ëŠ”ë° 
 â–  Embedded Server Examples: 
  â–¢ spring-boot-starter-tomcat   
  â–¢ spring-boot-starter-jetty 
  â–¢ spring-boot-starter-undertow 
ë””í´íŠ¸ëŠ” spring-boot-starter-tomcatìœ¼ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì„œë²„ì´ë‹¤    
í•˜ì§€ë§Œ jettyì´ë‚˜ Undertowê°™ì€ ë‹¤ë¥¸ ì„œë²„ë„ ìˆìœ¼ë©° ì´ ë˜í•œ ì§€ì›ëœë‹¤






ì´ ë‹¨ê³„ì—ì„  Embedded Serverì— ê´€í•´ ì•Œì•„ë´¤ê³  
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì •ë§ ì‰½ê²Œ ë°°í¬í•  ìˆ˜ ìˆì—ˆë‹¤ 
ì• í”Œë¦¬ì¼€ì´ì…˜ì´ Embedded Severë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ìë°”ë§Œ ì„¤ì¹˜í•˜ë©´ ëœë‹¤ 
ìë°”ë¥¼ ì„¤ì¹˜í•˜ê³  ë‚˜ë©´ JARì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ 
