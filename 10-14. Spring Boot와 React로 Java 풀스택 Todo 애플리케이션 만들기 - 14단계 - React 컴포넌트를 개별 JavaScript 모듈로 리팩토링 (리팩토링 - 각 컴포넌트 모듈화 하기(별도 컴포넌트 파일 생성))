

인증과 권한을 추가하고 정보를 저장하고 그에 기반한 헤더 링크 사용 여부를 결정하는 것에 앞서
일단 약간 리팩토링을 시작하곘다

이미 봤다시피 이 코드가 이제 거의 200줄이 될 만큼 커졌다
그리고 앞으로 애플리케이션을 발전시키면서 이 컴포넌트에 더 많은 코드를 추가할 것이다

그러니까 이제 리팰토링을 통해 각각의 컴포넌트를 각자의 모듈에 넣을 시점이지 
시작해보자

쉬운 것부터 시작하겠다
로그아웃 컴포넌트부터 만들어보자

todo폴더에서 오른쪽 마우스를 클릭하고 새 파일을 만든다
todo 밑에 로그아웃 컴포넌트를 만들자 LogoutComponent.jsx jsx로 만들어서 JSX 확장을 추가할 수 있도록 하겠다

TodoApp.jsx의 LogoutComponent()를 잘라내서 LogoutComponent.jsx에 붙여넣고

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ LogoutComponent.jsx


//1: 붙여 넣고 //1-2: TodoApp.jsx로..
function LogoutComponent() {
    return (
        <div className='LogoutComponent'>
            <h1>You are logged out!</h1>
            <div>
                Thank you for using our App. Come back soon!
            </div>
        </div>
    )
}
//1-3: export를 안 했다, export default라 적고 LogoutComponent이다, 이걸 위의 function 앞에 적어도 되고 마지막에 적어도 된다 저장하자
export default LogoutComponent
--------------------------------------------------



⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'

//1-2: 임포트로 로그아웃 컴포넌트를 가져 와야지, import LogoutComponent from '../LogoutComponent', 그리고 LogoutComponent에 export를 안한거 갔다 가서 확인해보자//1-3: LogoutComponent.jsx로..
import LogoutComponent from '../LogoutComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
                <FooterComponent />
            </BrowserRouter>
        </div>
    )
}
....
-----------------------------------------------------------------------------------------------

페이지로 돌아가면,

--------------------------------------------------------------------------------------------

🌎 http://localhost:3000 사이트화면 ==>



Compiled with problems:

ERROR in ./src/components/todo/TodoApp.jsx 9:0-49
Module not found: Error: Can't resolve '../LogoutComponent' in 'C:\study\frontend\todo-app\src\components\todo'

-------------------------------------------------------------------------------------------

이런, LogoutComponent를 불러올 수 없다

뭐가 문제일까?

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'

//2: '../LogoutComponent' 이부분이 ..이 아니라 ./이 되어야지 같은 폴더에 있기 때문이다, 이렇게 된다 LogoutComponent, 저장
import LogoutComponent from './LogoutComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
                <FooterComponent />
            </BrowserRouter>
        </div>
    )
}
....
-----------------------------------------------------------------------------------------------
                                        |
                                        V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/logout 사이트화면 ==>

(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                  You are logged out!
                                      
                      Thank you for using our App. Come back soon!

                                        




                                  Your Footer

-------------------------------------------------------------------------------------------

로그아웃 컴포넌트가 보인다
잘 동작한다

이제 다른 것도 동일하게 해보겠다

바닥글 컴포넌트를 해보자
todo 폴더에 마우스 오른쪽 클릭 새파일 파일 이름을 FooterComponent.jsx 로 하겠다

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ LogoutComponent.jsx



//3: TodoApp.jsx에 있는 FooterComponent를 잘라서 여기 붙여넣고
function FooterComponent() {
    return (
        <footer className='footer'>
            <div className='container'>
                Your Footer  
            </div>
        </footer>
    )
}

//3-1: export로 함수를 내보내줘야 하고, 좋다 이제 임포트도 해보자 //3-2: TodoApp.jsx 파일로..
export default FooterComponent

------------------------------------------


⏺ TodoApp.jsx




import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'

//3-2: FooterComponent이다 from './FooterComponent'지, 저장
import FooterComponent from './FooterComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
                <FooterComponent />
            </BrowserRouter>
        </div>
    )
}

-----------------------------------------------------------------------------------------------
                                      |
                                      V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/logout 사이트화면 ==>

(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                  You are logged out!
                                      
                      Thank you for using our App. Come back soon!

                                        




                                  Your Footer

-------------------------------------------------------------------------------------------

좋다, 여기 바닥글이 있지



이제 더이상 바닥글에 대해 신경쓰고 싶지 않다 그래서 별도 컴포넌트로 옮긴거지

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import FooterComponent from './FooterComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>

              //4: 여기 바닥글은 지우겠다, 이 footer를 삭제해서 더 이상 보이지 않게 한다
           //     <FooterComponent /> (<== 여기서만 주설 처리 실제 코드는 삭제)
            </BrowserRouter>
        </div>
    )
}
...
-----------------------------------------------------------------------------------------------
                                      |
                                      V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/logout 사이트화면 ==>

(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                  You are logged out!
                                      
                      Thank you for using our App. Come back soon!

                                        


-------------------------------------------------------------------------------------------

바닥글 코드는 FooterComponent.jsx로 옮겼고 더 이상 바닥글이 보이지 않는다


스크롤을 내려 헤더 컴포넌트를 보겠다
헤더 컴포넌트도 todo폴더에 마우스 우클릭 > 새파일 > HeaderComponent.jsx라 하고 생성

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ HeaderComponent.jsx


//5-1: 여기 붙여넣기 한다 그리고 저장, 그리고 import를 입력해야지? //5-2: TodoApp.jsx파일로..
function HeaderComponent() {
    return (
        <header className="border-bottom border-light border-5 mb-5 p-2">
        <div className="container">
            <div className="row">
                <nav className="navbar navbar-expand-lg">
                    <a className="navbar-brand ms-2 fs-2 fw-bold text-black" href="https://www.in28minutes.com">in28minutes</a>
                    <div className="collapse navbar-collapse">
                        <ul className="navbar-nav">
                            <li className="nav-item fs-5"><Link className="nav-link" to="/welcome/in28minutes">Home</Link></li>
                            <li className="nav-item fs-5"><Link className="nav-link" to="/todos">Todos</Link></li>
                        </ul>
                    </div>
                    <ul className="navbar-nav">
                        <li className="nav-item fs-5"><Link className="nav-link" to="/login">Login</Link></li>
                        <li className="nav-item fs-5"><Link className="nav-link" to="/logout">Logout</Link></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    )
}

//5: export default HeaderComponent 하고 헤더 컴포넌트를 복사해오겠다
export default HeaderComponent


------------------------------------------


⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'

//5-3: 그리고 이제 FooterComponent는 사용하지 않으니, FooterComponent의 import를 지우고 저장하겠다
// import FooterComponent from './FooterComponent'(<= 여기서만 주석 처리 실제 코드는 삭제)

//5-2: 입력값을 입력해보자, 이제 헤더 컴포넌트를 추가하고 있지
import HeaderComponent from './HeaderComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}

-----------------------------------------------------------------------------------------------
                                          |
                                          V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/todos 사이트화면 ==>



Compiled with problems:
ERROR
[eslint] 
src\components\todo\HeaderComponent.jsx
  Line 10:60:  'Link' is not defined  react/jsx-no-undef
  Line 11:60:  'Link' is not defined  react/jsx-no-undef
  Line 15:56:  'Link' is not defined  react/jsx-no-undef
  Line 16:56:  'Link' is not defined  react/jsx-no-undef

Search for the keywords to learn more about each error.
                                        

-------------------------------------------------------------------------------------------

Link가 정의되지 않았다고 나온다

왜 Link가 정의되지 않은거지?
import를 안했기 때문이다 

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ HeaderComponent.jsx



//6: import를 추가하려고 보면 다 사용되지 않았다, 링크 빼고 나머지는 다 지우겠다 (TodoApp.jsx에 복사한 import중 (BrowserRouter, Routes, Route, useNavigate, useParams,) 삭제) 그리고 저장
import {Link} from 'react-router-dom'



function HeaderComponent() {
    return (
        <header className="border-bottom border-light border-5 mb-5 p-2">
        <div className="container">
            <div className="row">
                <nav className="navbar navbar-expand-lg">
                    <a className="navbar-brand ms-2 fs-2 fw-bold text-black" href="https://www.in28minutes.com">in28minutes</a>
                    <div className="collapse navbar-collapse">
                        <ul className="navbar-nav">
                            <li className="nav-item fs-5"><Link className="nav-link" to="/welcome/in28minutes">Home</Link></li>
                            <li className="nav-item fs-5"><Link className="nav-link" to="/todos">Todos</Link></li>
                        </ul>
                    </div>
                    <ul className="navbar-nav">
                        <li className="nav-item fs-5"><Link className="nav-link" to="/login">Login</Link></li>
                        <li className="nav-item fs-5"><Link className="nav-link" to="/logout">Logout</Link></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    )
}

export default HeaderComponent


-----------------------------------------------------------------------------------------------

잘 되는지 볼까?
                                      |
                                      V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/logout 사이트화면 ==>

(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                  You are logged out!
                                      
                      Thank you for using our App. Come back soon!

                                        


-------------------------------------------------------------------------------------------

ㅇㅋ 잘 보인다
클릭도 되고 다 잘 된다, 좋다 


지금 까지 뭘 했지?
세 개 컴포넌트를 밖으로 옮겼다 
헤더, 바닥글, 로그아웃이지 

다른 컴포넌트도 옮기겠다

다음 컴포넌트는 ListTodosComponent이다
이 컴포넌트의 링크를 가져오지
todos폴더 > 우클릭 > 새파일 ListTodosComponent.jsx 라 쓴다

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ ListTodosComponent.jsx




//7: TodoApp.jsx에 있는 코드를 여기 넣겠다, 몇 가지 import가 필요하겠지
function ListTodosComponent() {

    const today = new Date()

    const targetDate = new Date(today.getFullYear() + 12, today.getMonth(), today.getDay())

    const todos = [
        {id : 1, description : 'Learn AWS', done : false, targetDate : targetDate},
        {id : 2, description : 'Learn Full Stack Dev', done : false, targetDate : targetDate},
        {id : 3, description : 'Learn DevOps', done : false, targetDate : targetDate}
      ]

    return (
        <div className='container'>
            <h1>Things You Want To Do!</h1>
            <div>
                <table className='table'>
                    <thead>
                        <tr>
                            <td>ID</td>
                            <td>Description</td>
                            <td>is Done?</td>
                            <td>Target Date</td>
                        </tr>
                    </thead>
                    <tbody>
                        {
                            todos.map(
                                todo => (
                                    <tr key={todo.id}>
                                        <td>{todo.id}</td>
                                        <td>{todo.description}</td>
                                        <td>{todo.done.toString()}</td>
                                        <td>{todo.targetDate.toDateString()}</td>
                                   </tr>
                                )
                            )
                        }
                    </tbody>
                </table>
            </div>
        </div>
    )
}

//7-1: export default으로 ListTodosComponent이다 //7-2: TodoApp.jsx 파일로..
export default ListTodosComponent


-----------------------------------------------



⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'

//7-2: import는 ListTodosComponent from './ListTodosComponent' 겠지, 좋다 저장하겠다
import ListTodosComponent from './ListTodosComponent'


export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}
....
-----------------------------------------------------------------------------------------------
                                            |
                                            V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/todos 사이트화면 ==>

(자세한것 확인 하려면 3000으로 접속...)
(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾ 

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                 Things You Want To Do!
                                      
                 ID	   Description	            is Done?     	 Target Date
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  1	    Learn AWS		             false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  2	    Learn Full Stack Dev		 false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  3	    Learn DevOps		         false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                        


-------------------------------------------------------------------------------------------

이제 ListTodosComponent가 작동한다
좋다 거의 100줄 까지 근접했다

이제 에러 컴포넌트도 옮긴다
todos폴더 우클릭 > 새파일 > ErrorComponent.jsx 이다
지금은 지루하게 느껴질 수 있지만, 나중에는 많은 기능을 추가하면서 이 파일들이 커지는 걸 보게 될 것이다
애플리케이션을 유지 보수하려면 컴포넌트를 모듈로 분리하는게 좋다
우리가 지금 하고 있는 작업이지
-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ ListTodosComponent.jsx



//8: 붙여넣고
function ErrorComponent() {
    return (
        <div className='ErrorComponent'>
            <h1>We are working really hard!</h1>
            <div>Apologies for the 404. Reach out to our team at ABC-DEF-GHIJ</div>
        </div>
    )
}

//8-1: export default ErrorComponent 를 해준다, 됐다 그리고 이제 에러 컴포넌트를 임포트해야지 //8-2: TodoApp.jsx파일로..
export default ErrorComponent


----------------------------------------


⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'
import ListTodosComponent from './ListTodosComponent'

//8-2: import ErrorComponent from './ErrorComponent' 해준다, 좋다
import ErrorComponent from './ErrorComponent'


export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}
...
-----------------------------------------------------------------------------------------------


다음은 웰컴 컴포넌트이다 
Todos > 우클릭 > 새파일 WelcomeComponent.jsx 생성

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ ListTodosComponent.jsx




//8: TodoApp.jsx에서 잘라 붙여넣기 하고
function WelcomeComponent() {

    const {username} = useParams()

    console.log(username)

    return (
        <div className='WelcomeComponent'>
            <h1>Welcome {username}</h1>
            <div>
                Manage Your todos - <Link to="/todos">Go here</Link>
            </div>
        </div>
    )
}

//8-1: export default에 붙여넣기 한다 WelcomeComponent 저장하고, 임포트 해야지 //8-2: TodoApp.jsx파일로..
export default WelcomeComponent


----------------------------------------



⏺ TodoApp.jsx



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'
import ListTodosComponent from './ListTodosComponent'
import ErrorComponent from './ErrorComponent'

//8-2: ./WelcomeComponent' 에서 가져온다, 좋다
import WelcomeComponent from './WelcomeComponent'


export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
-----------------------------------------------------------------------------------------------
                                  |
                                  V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/todos 사이트화면 ==>



Compiled with problems:

ERROR
[eslint] 
src\components\todo\WelcomeComponent.jsx
  Line 5:24:   'useParams' is not defined  no-undef
  Line 13:38:  'Link' is not defined       react/jsx-no-undef

Search for the keywords to learn more about each error.

-------------------------------------------------------------------------------------------

WelcomeComponent에서 useParams와 Link가 정의되지 않았다고 나온다 
임포트 해야겠다

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ TodoApp.jsx 


import { useState } from 'react'

//9: (VSC에선 표시됨) 여기 보면 현재 useParams, Link 이 두 개는 현재 사용하지 않으니 지워도 된다 이걸 복사해서 웰컴 컴포넌트에 붙여 넣겠다 //9-1: WelcomeComponent.jsx 파일로...
//9-2: useParams, Link 이건 TodoApp에서 사용되지 않는다 (useParams, Link 삭제..) 좋다
import {BrowserRouter, Routes, Route, useNavigate, useParams, Link} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'
import ListTodosComponent from './ListTodosComponent'
import ErrorComponent from './ErrorComponent'
import WelcomeComponent from './WelcomeComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}


----------------------------------------


⏺ ListTodosComponent.jsx



//9-1: 보다시피 여기 몇 개는 사용되지 않지, 웰컴 컴포넌트에선 지워준다 (BrowserRouter, Routes, Route, useNavigate 삭제..) TodoApp에는 useParams와 Link를 지워도 되겠지 //9-2: TodoApp.jsx로..
import {useParams, Link} from 'react-router-dom'

function WelcomeComponent() {

    const {username} = useParams()

    console.log(username)

    return (
        <div className='WelcomeComponent'>
            <h1>Welcome {username}</h1>
            <div>
                Manage Your todos - <Link to="/todos">Go here</Link>
            </div>
        </div>
    )
}

export default WelcomeComponent
-----------------------------------------------------------------------------------------------
                                            |
                                            V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/todos 사이트화면 ==>

(자세한것 확인 하려면 3000으로 접속...)
(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾ 

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                 Things You Want To Do!
                                      
                 ID	   Description	            is Done?     	 Target Date
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  1	    Learn AWS		             false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  2	    Learn Full Stack Dev		 false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  3	    Learn DevOps		         false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                        


-------------------------------------------------------------------------------------------

페이지가 잘 작동한다
홈페이지도 보기 좋다

이제 코드가 80줄 정도 된다 
이제 마지막 컴포넌트가 하나 남아있다, 마지막이다 
LoginComponent를 옮겨야 한다
로그인 컴포넌트가 마지막이다

todo폴더 > 우클릭 > 새파일 > LoginComponent.jsx 로 생성

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ LoginComponent.jsx 



function LoginComponent() {

    const [username, setUsername] = useState('in28minutes')
    const [password, setPassword] = useState('')
    const [showSuccessMessage, setShowSuccessMessage] = useState(false)  
    const [showErrorMessage, setShowErrorMessage] = useState(false)
    const navigate = useNavigate();

    function handleUsernameChange(event) {
        setUsername(event.target.value);
    }

    function handlePasswordChange(event) {
        setPassword(event.target.value);
    }

    function handleSubmit() {

        if(username === 'in28minutes' && password === 'dummy') {
            console.log('Success');
            setShowSuccessMessage(true)
            setShowErrorMessage(false)
            navigate(`/welcome/${username}`)
        }else {
            console.log('Failed');
            setShowSuccessMessage(false)
            setShowErrorMessage(true)
        }
    }
    
    return (
        <div className='Login'>
            <h1>Time to Login!</h1>
            {showSuccessMessage && <div className="errorMessage">Authentication Failed. Please check your credentials.</div>}
            {showErrorMessage && <div className="errorMessage">Authentication Failed. 
                                                        Please check your credentials.</div>}
            <div className='LoginForm'>
                <div>
                    <label>User Name:</label>
                    <input type="text" name="username" value={username} onChange={handleUsernameChange} />
                </div>
                <div>
                    <label>Password:</label>
                    <input type="password" name="password" value={password} onChange={handlePasswordChange}/>
                </div>
                <div>
                    <button type="button" name="login" onClick={handleSubmit}>login</button>
                </div>
            </div>
        </div>
    )
}

//10: export default LoginComponent, 저장
export default LoginComponent

-----------------------------------------------------------------------------------------------

그러면 오류가 나지 
고치면 된다

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ TodoApp.jsx 



import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'
import ListTodosComponent from './ListTodosComponent'
import ErrorComponent from './ErrorComponent'
import WelcomeComponent from './WelcomeComponent'

//11: import LoginComponent from './import LoginComponent' 저장하고 
import LoginComponent from './LoginComponent'


export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}
-----------------------------------------------------------------------------------------------
                                            |
                                            V
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/todos 사이트화면 ==>


Compiled with problems:

ERROR
[eslint] 
src\components\todo\LoginComponent.jsx
  Line 3:37:  'useState' is not defined     no-undef
  Line 4:37:  'useState' is not defined     no-undef
  Line 5:57:  'useState' is not defined     no-undef
  Line 6:53:  'useState' is not defined     no-undef
  Line 7:22:  'useNavigate' is not defined  no-undef

Search for the keywords to learn more about each error.
                                        
-------------------------------------------------------------------------------------------

useState, useNavigate
이 두 개가 필요하다는 거지
TodoApp.jsx에 상단의
--------------------------------
import { useState } from 'react'
import {BrowserRouter, Routes, Route, useNavigate} from 'react-router-dom'
--------------------------------
이 두개를 복사해서

-----------------------------------------------------------------------------------------------
⏺ VSC


⏺ LoginComponent.jsx 



//12: LoginComponent에 넣으면 import가 생기지, 사용 안하는 것들은 지우겠다 (BrowserRouter, Routes, Route 삭제..) 이제 TodoApp으로 가서//12-1: TodoApp.jsx로 ..
import { useState } from 'react'
import {useNavigate} from 'react-router-dom'


function LoginComponent() {

    const [username, setUsername] = useState('in28minutes')
    const [password, setPassword] = useState('')
    const [showSuccessMessage, setShowSuccessMessage] = useState(false)  
    const [showErrorMessage, setShowErrorMessage] = useState(false)
    const navigate = useNavigate();

    function handleUsernameChange(event) {
        setUsername(event.target.value);
    }

    function handlePasswordChange(event) {
        setPassword(event.target.value);
    }

    function handleSubmit() {

        if(username === 'in28minutes' && password === 'dummy') {
            console.log('Success');
            setShowSuccessMessage(true)
            setShowErrorMessage(false)
            navigate(`/welcome/${username}`)
        }else {
            console.log('Failed');
            setShowSuccessMessage(false)
            setShowErrorMessage(true)
        }
    }
    
    return (
        <div className='Login'>
            <h1>Time to Login!</h1>
            {showSuccessMessage && <div className="errorMessage">Authentication Failed. Please check your credentials.</div>}
            {showErrorMessage && <div className="errorMessage">Authentication Failed. 
                                                        Please check your credentials.</div>}
            <div className='LoginForm'>
                <div>
                    <label>User Name:</label>
                    <input type="text" name="username" value={username} onChange={handleUsernameChange} />
                </div>
                <div>
                    <label>Password:</label>
                    <input type="password" name="password" value={password} onChange={handlePasswordChange}/>
                </div>
                <div>
                    <button type="button" name="login" onClick={handleSubmit}>login</button>
                </div>
            </div>
        </div>
    )
}

export default LoginComponent


----------------------------------------


⏺ TodoApp.jsx


//12-1: useStae와 useNavigate를 지워도 된다 저장하고
// import { useState } from 'react' (<= 여기서만 주석 처리 실제코드에선 살제)
import {BrowserRouter, Routes, Route} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'
import ListTodosComponent from './ListTodosComponent'
import ErrorComponent from './ErrorComponent'
import WelcomeComponent from './WelcomeComponent'
import LoginComponent from './LoginComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}



-----------------------------------------------------------------------------------------------

지루한 작업으로 느껴질 수도 있지만, 정말 중요한 작업이라고 생각한다 
무언가 구축할 때 유지 보수 가능한 방식으로 만들고 싶지?
모듈 크기가 커질수록 관리하기 정말 어렵기때문이다
그래서 지금까지 이런 작업을 하는 것이다,
모든 컴포넌트를 각자의 파일로 옮기는 거지 

그러면 이제 우리 TodoApp은 
---------------------------------------
import {BrowserRouter, Routes, Route} from 'react-router-dom'
import './TodoApp.css'
import LogoutComponent from './LogoutComponent'
import HeaderComponent from './HeaderComponent'
import ListTodosComponent from './ListTodosComponent'
import ErrorComponent from './ErrorComponent'
import WelcomeComponent from './WelcomeComponent'
import LoginComponent from './LoginComponent'

export default function TodoApp() {
    return(
        <div className='TodoApp'>
            <BrowserRouter>
                <HeaderComponent />
                <Routes>
                    <Route path='/' element={<LoginComponent />} />
                    <Route path='/login' element={<LoginComponent />} />
                    <Route path='/welcome/:username' element={<WelcomeComponent />} />
                    <Route path='/todos' element={<ListTodosComponent />} />
                    <Route path='/logout' element={<LogoutComponent />} />
                    <Route path='*' element={<ErrorComponent />} />
                </Routes>
            </BrowserRouter>
        </div>
    )
}
---------------------------------------
코드가 30줄 밖에 남지 않았다 

좋다

잘 작동하는지 보겠다 


Todos

--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/todos 사이트화면 ==>

(자세한것 확인 하려면 3000으로 접속...)
(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾ 

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                 Things You Want To Do!
                                      
                 ID	   Description	            is Done?     	 Target Date
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  1	    Learn AWS		             false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  2	    Learn Full Stack Dev		 false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                  3	    Learn DevOps		         false        Sat Jul 05 2036
                ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                        


-------------------------------------------------------------------------------------------

check!


Login
                                      
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000 사이트화면 ==>

(자세한것 확인 하려면 3000으로 접속...)
(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  


          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                          Time to Login!
                                               _________________
                                  User Name:  |in28minutes      | 
                                               ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                              __________________
                                  Password:  |●●●●●             |
                                              ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                              _______
                                             | login |  
                                              ‾‾‾‾‾‾‾

-------------------------------------------------------------------------------------------

check!


Logout

--------------------------------------------------------------------------------------------

🌎 http://localhost:3000/logout 사이트화면 ==>

(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  

          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                  You are logged out!
                                      
                      Thank you for using our App. Come back soon!

                                        


-------------------------------------------------------------------------------------------

check!




로그인 가서 뭘 해보면 
--------------------------------------------------------------------------------------------

🌎 http://localhost:3000 사이트화면 ==>

(자세한것 확인 하려면 3000으로 접속...)
(title 명)
  
Todo App                |
‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾  


          in28minutes  Home Todos                                    Login   Logout
     ___________________________________________________________________________________

                                          Time to Login!
                      Authentication Failed. Please check your credentials.
                                               _________________
                                  User Name:  |in28minutes      | 
                                               ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                              __________________
                                  Password:  |●●●●●●●●          |
                                              ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                                              _______
                                             | login |  
                                              ‾‾‾‾‾‾‾

-------------------------------------------------------------------------------------------
지금은 다 잘 되는 것 같다





이번 시간에는 지루한 작업을 많이 했다,
하지만 앞으로는 재미있는 작업이 될 것이다
이 링크를 사용자 로그인 여부에 따라 활성화할 것이다
사용자가 로그인 했는지 여부 정보를 어디에 저장할 수 있을까?
생각해 보자, 다음 시간에 보겠다
