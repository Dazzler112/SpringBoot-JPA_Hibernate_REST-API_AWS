

Custommizing REST API Responses - Filtering and more..

â— Serialization: Convert object to stream (example: JSON)                                     _____________________________________
  â–  Most popular JSON Serialization in Java: Jackson                                            localhost:8080/filtering-list
â— How about customizing the REST API response returned by Jackson framework?                  â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
â— 1: Customize filed names in response                                                        [
  â–  @JSONProperty                                                                               {
                                                                                                  "field2": "value2",
                                                                                                  "field3": "value3"
                                                                                                },
                                                                                                {
                                                                                                  "field2": "value22",
                                                                                                  "field3": "value32"
                                                                                                }
                                                                                              ]
                                                                                              _____________________________________
                                                                                                localhost:8080/filtering
                                                                                              â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                                                                                                {
                                                                                                  "field1": "value1",
                                                                                                  "field2": "value2",
                                                                                                  "field3": "value3"
                                                                                                }



ì´ë²ˆ ì‹œê°„ì—ëŠ” REST API ì‘ë‹µ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ëŒ€í•´ ì‚´í´ë³´ê² ë‹¤
â— Serialization: Convert object to stream (example: JSON) 
ì§ë ¬í™”ë€ ë¬´ì—‡ì¼ê¹Œ? 
ì§ë ¬í™”ëŠ” ê°ì²´ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „í™˜í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤

ê°€ë ¹, 
-------------------------------------------

	@GetMapping("/users")
	public List<User> retrieveAllUsers() {
		return service.findAll();
	}

  @GetMapping("/users/{id}")
	public EntityModel<User> retrieveUser(@PathVariable int id) {
		User user = service.findOne(id);
		
		if(user == null)
			throw new UserNotFoundException("id:"+id);
		
		EntityModel<User> entityModel = EntityModel.of(user);
		
		WebMvcLinkBuilder link = linkTo(methodOn(this.getClass()).retrieveAllUsers());
		entityModel.add(link.withRel("all-users"));
		
		return entityModel;

	}
-------------------------------------------
EntityModelì„ ë°˜í™˜í•˜ê±°ë‚˜ List<User>ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •í•´ë³´ì
ì´ê²ƒì„ JSONì´ë‚˜ XMLë¡œ ì „í™˜í•˜ëŠ” ì‘ì—…ì„ ë°”ë¡œ ì§ë ¬í™”ë¼ê³  í•˜ëŠ”ë° 
  â–  Most popular JSON Serialization in Java: Jackson   
ê°€ì¥ ì¸ê¸°ê°€ ë§ì€ ìë°”ì˜ JSON ì§ë ¬í™” í”„ë ˆì„ì›Œí¬ëŠ” Jacksonì´ë‹¤ 

ì§€ê¸ˆê¹Œì§€ ì´ Userì˜ êµ¬ì¡°ê°€ ë¬´ì—‡ì´ë“  ì •í™•íˆ ì‘ë‹µì— ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í–ˆì—ˆì§€
-------------------------------------------
package com.in28minutes.rest.webservices.restfulwebservices.user;

import java.time.*;

import jakarta.validation.constraints.*;

public class User {

	private Integer id;
	
	@Size(min=2, message = "Name should have atleast 2 characters")
	private String name;
	
	@Past(message = "Birth Date should be in the past")
	private LocalDate birthDate;
.....
-------------------------------------------
ë”°ë¼ì„œ JSON ì‘ë‹µì€ ì´ User ë¹ˆì˜ êµ¬ì¡°ì™€ ì •í™•íˆ ì¼ì¹˜í•œë‹¤
-----------------------------------------------------

localhost:8080/users ì‚¬ì´íŠ¸ í™”ë©´ ==>

[
  {
    "id": 1,
    "name": "Adam",
    "birthDate": "1994-06-02"
  },
  {
    "id": 2,
    "name": "Eve",
    "birthDate": "1999-06-02"
  },
  {
    "id": 3,
    "name": "Jim",
    "birthDate": "2004-06-02"
  }
]

-----------------------------------------------------
id, name, birthDateë¥¼ ê°€ì§€ê³  ìˆëŠ”ë°, ì´ëŠ” ì •í™•íˆ ì‘ë‹µì´ êµ¬ì¡°ì— í•´ë‹¹í•œë‹¤ 
ì—¬ê¸°ì„œë„ id, name, birthDateë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤

â— How about customizing the REST API response returned by Jackson framework? 
íŠ¹ì • ìƒí™©ì—ì„œëŠ” ì´ì™€ ê°™ì´ ì •í™•í•œ êµ¬ì¡°ë¥¼ ë°˜í™˜í•˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œë„ ìˆëŠ”ë° 
Jackson í”„ë ˆì„ì›Œí¬ê°€ ë°˜í™˜í•˜ëŠ” REST APIì‘ë‹µì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì•¼ í•˜ê¸°ë„ í•œë‹¤

ì´ë²ˆ ê°•ì˜ì™€ ë‹¤ìŒ ê°•ì˜ë¥¼ í†µí•´ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ì˜µì…˜ì— ëŒ€í•´ ì•Œì•„ë³´ë„ë¡ í•˜ê² ë‹¤

ğŸ”µ ì‘ë‹µ í•„ë“œëª… ì»¤ìŠ¤í„°ë§ˆì´ì§•

â— 1: Customize filed names in response     
ë¨¼ì € ì‘ë‹µì˜ í•„ë“œ ì´ë¦„ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ê¹Œ?
  â–  @JSONProperty    
ì‘ë‹µì˜ í•„ë“œ ì´ë¦„ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¼ê¹Œ?
@JSONProperty ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

ë°”ë¡œ ì‹¤í–‰í•˜ì—¬ í™•ì¸í•´ë³¼ê¹Œ?
(User í´ë˜ìŠ¤íŒŒì¼..) nameì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ëŠ” ê²½ìš°, name ëŒ€ì‹ ì— ë‹¤ë¥¸ ê²ƒì„ ë°˜í™˜í•œë‹¤ê³  ê°€ì •í•´ë³´ì
----------------------------------------------------------------------------------------------------------


âº User í´ë˜ìŠ¤íŒŒì¼



package com.in28minutes.rest.webservices.restfulwebservices.user;

import java.time.*;

import com.fasterxml.jackson.annotation.*;

import jakarta.validation.constraints.*;

public class User {

	private Integer id;
	
	@Size(min=2, message = "Name should have atleast 2 characters")
  //1: @JASONPropertyë¥¼ ì¶”ê°€í•˜ê³ , com.fasterxml.jackson.annotationì„ ì„í¬íŠ¸ í•œë‹¤ 
  //Marker annotation that can be used to define a non-staticmethod as a "setter" or "getter" for a logical propertyaccessor (depending on its signature),or a non-static Object field to be used (serialized, deserialized)as a logical property (to assign value or get value from) => ë¹„ì–´ ìˆëŠ” ê¸°ë³¸ê°’ì€ í•„ë“œ ì´ë¦„ì´ ìˆ˜ì • ì—†ì´ í”„ë¡œí¼í‹° ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒì„ ê°€ë¦¬í‚¤ì§€ë§Œ ë‹¤ë¥¸ ì´ë¦„ì„ ì§€ì •í•˜ê¸° ìœ„í•´ ë¹„ì–´ ìˆì§€ ì•Šì€ ê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤ê³  ë¼ìˆë‹¤
	//ë°”ë¡œ ì´ê²ƒì„ ë‹¤ì›Œë³´ë„ë¡ í•˜ì, @JASONProperty("user_name")ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆëŠ”ë°, ì„í¬íŠ¸ë¥¼ ì •ë¦¬í•˜ê³  ì €ì¥í•´ë³¼ê¹Œ
  private String name;
	
	@Past(message = "Birth Date should be in the past")
	private LocalDate birthDate;
	
	public User(Integer id, String name, LocalDate birthDate) {
		super();
		this.id = id;
		this.name = name;
		this.birthDate = birthDate;
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public LocalDate getBirthDate() {
		return birthDate;
	}

	public void setBirthDate(LocalDate birthDate) {
		this.birthDate = birthDate;
	}

	@Override
	public String toString() {
		return "User [id=" + id + ", name=" + name + ", birthDate=" + birthDate + "]";
	}
	
}
----------------------------------------------------------------------------------------------------------
ì´ì œ user APIë¡œ ì´ë™í•´ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´ user_nameì´ í‘œì‹œëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°           |   
                                                                                       V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/users ì‚¬ì´íŠ¸í™”ë©´ ==>


[
  {
    "id": 1,
    "birthDate": "1994-06-02",
    "user_name": "Adam"
  },
  {
    "id": 2,
    "birthDate": "1999-06-02",
    "user_name": "Eve"
  },
  {
    "id": 3,
    "birthDate": "2004-06-02",
    "user_name": "Jim"
  }
]

----------------------------------------------------------------------------------------------------------

ê°™ì€ ë°©ì‹ìœ¼ë¡œ birthDateë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•œë‹¤ê³  ê°€ì •í•´ë³´ì, ì´ë²ˆì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ

----------------------------------------------------------------------------------------------------------


âº User í´ë˜ìŠ¤íŒŒì¼



package com.in28minutes.rest.webservices.restfulwebservices.user;

import java.time.*;

import com.fasterxml.jackson.annotation.*;

import jakarta.validation.constraints.*;

public class User {

	private Integer id;
	
	@Size(min=2, message = "Name should have atleast 2 characters")
	@JsonProperty("user_name")
	private String name;
	
	@Past(message = "Birth Date should be in the past")
//2: birthDate ëŒ€ì‹ ì— birth_dateë¥¼ ì…ë ¥í•˜ê² ë‹¤ ì €ì¥í•˜ê³  ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´..
	@JsonProperty("birth_date")
	private LocalDate birthDate;
	
	public User(Integer id, String name, LocalDate birthDate) {
		super();
		this.id = id;
		this.name = name;
		this.birthDate = birthDate;
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public LocalDate getBirthDate() {
		return birthDate;
	}

	public void setBirthDate(LocalDate birthDate) {
		this.birthDate = birthDate;
	}

	@Override
	public String toString() {
		return "User [id=" + id + ", name=" + name + ", birthDate=" + birthDate + "]";
	}
	
}

----------------------------------------------------------------------------------------------------------
                                                                                        |
                                                                                        V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/users ì‚¬ì´íŠ¸í™”ë©´ ==>


[
  {
    "id": 1,
    "user_name": "Adam",
    "birth_date": "1994-06-02"
  },
  {
    "id": 2,
    "user_name": "Eve",
    "birth_date": "1999-06-02"
  },
  {
    "id": 3,
    "user_name": "Jim",
    "birth_date": "2004-06-02"
  }
]

----------------------------------------------------------------------------------------------------------
birth_dateë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤

JSONPropertyëŠ” ì‘ë‹µì˜ ì†ì„±ê³¼ ìš”ì†Œ ì´ë¦„ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë° ë¬´ì²™ ìœ ìš©í•˜ë‹¤




Custommizing REST API Responses - Filtering and more..

â— Serialization: Convert object to stream (example: JSON)                                     _____________________________________
  â–  Most popular JSON Serialization in Java: Jackson                                            localhost:8080/filtering-list
â— How about customizing the REST API response returned by Jackson framework?                  â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
â— 1: Customize filed names in response                                                        [
  â–  @JSONProperty                                                                               {
â— 2: Return only selected fields                                                                  "field2": "value2",
  â–  Filtering                                                                                     "field3": "value3"
  â–  Example: Filter out Password                                                                },
  â–  Two types:                                                                                  {
    â—‹ Static Filtering: Same filtering for a bean across differnt REST API                        "field2": "value22",
      â—¦ @JsonIgnoreProperties, @JsonIgnore                                                        "field3": "value32"
    â—‹ Dynamic Filtering: Customize filtering for a bean for specific REST API                    }
      â—¦ @JsonFilter with FilterProvider                                                        ]
                                                                                              _____________________________________
                                                                                                localhost:8080/filtering
                                                                                              â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                                                                                                {
                                                                                                  "field1": "value1",
                                                                                                  "field2": "value2",
                                                                                                  "field3": "value3"
                                                                                                }


â— 2: Return only selected fields   
ì‘ë‹µì—ì„œ í•  ìˆ˜ ìˆëŠ” ë˜ ë‹¤ë¥¸ ì‘ì—…ì€ ì„ íƒëœ í•„ë“œë§Œ ë°˜í™˜í•˜ê¸°ì´ë‹¤
  â–  Filtering  
ì´ê²ƒì€ í•„í„°ë§ì´ë¼ê³  í•˜ëŠ”ë° 
  â–  Example: Filter out Password 
ì˜ˆë¥¼ ë“¤ì–´, ë¹ˆì— ì •ì˜ëœ ë¹„ë°€ë²ˆí˜¸ê°€ ìˆëŠ”ë°, ì‘ë‹µì—ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì „ì†¡í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?
  â–  Two types: 
   â—‹ Static Filtering: Same filtering for a bean across differnt REST API
      â—¦ @JsonIgnoreProperties, @JsonIgnore  
   â—‹ Dynamic Filtering: Customize filtering for a bean for specific REST API  
      â—¦ @JsonFilter with FilterProvider    
í•„í„°ë§ì—ëŠ” ë°”ë¡œ ì •ì  í•„í„°ë§ê³¼ ë™ì  í•„í„°ë§ì˜ ë‘ ê°€ì§€ ìœ í˜•ì´ ìˆë‹¤

ì˜ˆì‹œë¥¼ í†µí•´ ì•Œì•„ë³´ê² ë‹¤ 
3ê°œì˜ í•„ë“œê°€ ìˆëŠ” ë¹ˆì´ ìˆëŠ”ë° 
{
  "field1": "value1",
  "field2": "value2",
  "field3": "value3"
}
field1, field2, field3ê°€ ìˆë‹¤ 
í•­ìƒ field2ë¥¼ í•„í„°ë§í•œë‹¤ê³  ê°€ì •í•´ë³´ì,
field2ëŠ” ë¹„ë°€ë²ˆí˜¸ í•„ë“œì¸ë°, REST API ì‘ë‹µìœ¼ë¡œ ì´ê²ƒì„ ì „ì†¡í•˜ê³  ì‹¶ì§€ ì•Šì€ ìƒí™©ì´ë‹¤
REST APIì™€ ê´€ê³„ì—†ì´ í•­ìƒ field2ë¥¼ ì°¨ë‹¨í•˜ê±°ë‚˜ í•„í„°ë§í•´ì•¼ í•˜ëŠ”ë° ì´ê²ƒì„ ë°”ë¡œ ì •ì  í•„í„°ë§ì´ë¼ í•˜ì§€
   â—‹ Static Filtering: Same filtering for a bean across differnt REST API
      â—¦ @JsonIgnoreProperties, @JsonIgnore  
ì—¬ëŸ¬ REST APIì—ì„œ ë¹ˆì— ì ìš©ëœ ë™ì¼í•œ í•„í„°ë§ì´ë‹¤

ì´ì— ëŒ€í•œ ëŒ€ì•ˆìœ¼ë¡œ ë™ì  í•„í„°ë§ì´ ìˆëŠ”ë°
   â—‹ Dynamic Filtering: Customize filtering for a bean for specific REST API  
      â—¦ @JsonFilter with FilterProvider    
ì˜ˆì‹œë¥¼ ì‚´í´ë³´ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤
íŠ¹ì • REST APIì˜ ì¼ë¶€ë¡œ field1ì„ ì „ì†¡í•˜ê³ ì í•œë‹¤ 
í•˜ì§€ë§Œ ë‹¤ë¥¸ REST APIì˜ ê²½ìš°, ì´ê²ƒì„ ì „ì†¡í•˜ê³  ì‹¶ì§€ ì•Šì€ë° 
ë”°ë¼ì„œ ì‘ë‹µì˜ ì¼ë¶€ë¡œ í•„ë“œë¥¼ ì „ì†¡í• ì§€ ë™ì ìœ¼ë¡œ ê²°ì •í•´ì•¼ í•œë‹¤
ì´ê²ƒì„ ë°”ë¡œ ë™ì  í•„í„°ë§ì´ë¼ê³  í•œë‹¤ 

ê·¸ëŸ¼ ì •ì  í•„í„°ë§ê³¼ ë™ì  í•„í„°ë§ì˜ ëª‡ ê°€ì§€ ì˜ˆì‹œë¥¼ ê°„ë‹¨íˆ ì§šì–´ë³¼ê¹Œ?

ê·¸ëŸ¼ ìƒˆ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ ë³´ì íŒ¨í‚¤ì§€ ì´ë¦„ì€ .filteringìœ¼ë¡œ ë§ˆë¬´ë¦¬í•˜ê³  í´ë˜ìŠ¤ëª…ì€ FilteringController ë¡œ í•˜ê³  Finishë¥¼ í´ë¦­


ğŸ”µ Static Filtering(ì •ì  í•„í„°ë§)

----------------------------------------------------------------------------------------------------------


âº FilteringController í´ë˜ìŠ¤íŒŒì¼



package com.in28minutes.rest.webservices.restfulwebservices.filtering;

import org.springframework.web.bind.annotation.*;

//3:@RestControllerë¥¼ ì…ë ¥í•œë‹¤ //3-1: í´ë˜ìŠ¤ ë³¸ë¬¸ìœ¼ë¡œ..
@RestController 
public class FilteringController {

  //3-1: ì—¬ê¸°ì—ì„œ public ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ê³  SomeBeanì„ ë°˜í™˜í•œë‹¤ filtering()ì— ì´ì–´//3-2: filtering()ë©”ì†Œë“œ ì•ˆìœ¼ë¡œ ì‘ì„±..
  //3-7: URLì„ ë§¤í•‘í•˜ë ¤ë©´ @GetMapping("/filtering")ì„ ì…ë ¥í•´ì•¼ í•˜ì§€ ì„í¬íŠ¸ë¥¼ ì •ë¦¬í•˜ë©´ org.springframework.web.bind.annotaion.GetMappingì´ ì„í¬íŠ¸ëœë‹¤
  //ì €ì¥ í•œ ë‹¤ìŒ ì´ URLë¡œ ì´ë™í•´ë³´ì
    @GetMapping("/filtering")
  	public SomeBean filtering() {
		  //3-2: return new SomeBean("value1","value2","value3")ì„ ì…ë ¥í•´ë³´ì 3ê°œì˜ í•„ë“œë¥¼ ì…ë ¥í–ˆëŠ”ë° ctrl+1ì„ ëˆ„ë¥´ê³  Create class 'SomeBean'ì„ ì„ íƒ filtering íŒ¨í‚¤ì§€ì— ìƒì„±//3-3: SomeBean í´ë˜ìŠ¤ íŒŒì¼ë¡œ...
	  		return new SomeBean("value1","value2","value3");
    }
}

----------------------------------------------------


âº SomeBean í´ë˜ìŠ¤íŒŒì¼



package com.in28minutes.rest.webservices.restfulwebservices.filtering;

public class SomeBean {
  //3-3: ì—¬ê¸°ì—ì„  3ê°œì˜ í•„ë“œê°€ ìˆëŠ”ë° ({ "field1": "value1", "field2": "value2", "field3": "value3"}) field1, 2, 3ì´ ìˆë‹¤ 
  //private String filed1ì„ ì…ë ¥í•˜ê³  2ì™€ 3ë„ ì°¨ë¡€ë¡œ ì ìš©í•œë‹¤, í•„ë“œë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±ìë¥¼ ìƒì„±í•´ ë³¼ê¹Œ?(alt+shift+së¡œ ë¹ ë¥´ê²Œ ìƒì„±ì ì„ íƒ ê°€ëŠ¥..)
	private String filed1;
	private String filed2;
	private String filed3;

  //3-4: ìƒì„±ìì™„ë£Œ Getterì™€ Setterë„ ìƒì„±í•´ë³´ì
	public SomeBean(String filed1, String filed2, String filed3) {
		super();
		this.filed1 = filed1;
		this.filed2 = filed2;
		this.filed3 = filed3;
	}

  //3-5: Generate Getters and Settersë¥¼ ì„ íƒí•˜ê³  Gettersë§Œ ì„ íƒí•œë‹¤
	public String getFiled1() {
		return filed1;
	}

	public String getFiled2() {
		return filed2;
	}

	public String getFiled3() {
		return filed3;
	}

  //3-6: ì›í•œë‹¤ë©´ toString ë©”ì†Œë“œë„ ìƒì„±í•´ë„ ì¢‹ë‹¤ , ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ê³  ì„í¬íŠ¸ë¥¼ ì •ë¦¬í•´ë³´ì ê·¸ë¦¬ê³  ì €ì¥
  //ë³´ë‹¤ì‹œí”¼ FilteringControllerë„ ì»´íŒŒì¼ë§ í•˜ê³  ìˆëŠ”ë° ì´ì œ ì´ê²ƒì˜ URLì„ ë§¤í•‘í•´ì•¼ í•œë‹¤ //3-7: ë‹¤ì‹œ FilteringControllerí´ë˜ìŠ¤ íŒŒì¼ë¡œ..
	@Override
	public String toString() {
		return "SomeBean [filed1=" + filed1 + ", filed2=" + filed2 + ", filed3=" + filed3 + "]";
	}
}

----------------------------------------------------------------------------------------------------------          
                                                                                            |
                                                                                            V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/filtering ì‚¬ì´íŠ¸í™”ë©´ ==>


{
  "filed1": "value1",
  "filed2": "value2",
  "filed3": "value3"
}

----------------------------------------------------------------------------------------------------------
localhost:8080/filteringì´   "filed1": "value1", "filed2": "value2", "filed3": "value3" ì„ ë°˜í™˜í–ˆëŠ”ë°
ì •ì  í•„í„°ë§ì„ ì–´ë–»ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?
ì •ì  í•„í„°ë§ì€ êµ‰ì¥íˆ ì†ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë‹¤

----------------------------------------------------------------------------------------------------------


âº SomeBean í´ë˜ìŠ¤íŒŒì¼


package com.in28minutes.rest.webservices.restfulwebservices.filtering;

public class SomeBean {

	private String filed1;

  //4: SomeBeanì—ì„œ field2ê°€ ë¹„ë°€ë²ˆí˜¸ì´ë©° ì´ë¥¼ ë°˜í™˜í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ê³  ì§€ì •í•  ìˆ˜ ìˆë‹¤ @JsonIgnoreë¥¼ ì…ë ¥í•œë‹¤ @JsonIgnoreë¥¼ ì¶”ê°€í•˜ê³  ì €ì¥í•´ë³´ì
	@JsonIgnore
	private String filed2;
	private String filed3;
	
	public SomeBean(String filed1, String filed2, String filed3) {
		super();
		this.filed1 = filed1;
		this.filed2 = filed2;
		this.filed3 = filed3;
	}

	public String getFiled1() {
		return filed1;
	}

	public String getFiled2() {
		return filed2;
	}

	public String getFiled3() {
		return filed3;
	}

	@Override
	public String toString() {
		return "SomeBean [filed1=" + filed1 + ", filed2=" + filed2 + ", filed3=" + filed3 + "]";
	}
	
}
----------------------------------------------------------------------------------------------------------
ë‹¤ì‹œ ìƒˆë¡œê³ ì¹¨                                                                          |
                                                                                      V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/filtering ì‚¬ì´íŠ¸í™”ë©´ ==>


{
  "filed1": "value1",
  "filed3": "value3"
}

----------------------------------------------------------------------------------------------------------
ì´ë ‡ê²Œ field2ê°€ ì‘ë‹µì˜ ì¼ë¶€ê°€ ì•„ë‹˜ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

ë¦¬ìŠ¤íŠ¸ê°€ ì£¼ì–´ì§„ ê²½ìš°ì—ë„ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë° 
ê·¸ëŸ¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¹¨ë¦¬ ìƒì„±í•´ ë³´ì 
filtering()ë©”ì†Œë“œë¥¼ ë³µì‚¬í•˜ê³ ....

----------------------------------------------------------------------------------------------------------



âº FilteringController í´ë˜ìŠ¤íŒŒì¼



package com.in28minutes.rest.webservices.restfulwebservices.filtering;

import org.springframework.web.bind.annotation.*;

@RestController
public class FilteringController {
	
	@GetMapping("/filtering")
	public SomeBean filtering() {
		return new SomeBean("value1","value2","value3");
	}

  //5: GetMappingì„ filtering-listë¡œ ë³€ê²½í•œë‹¤, ë©”ì†Œë“œëª…ë„ filteringListë¡œ ì…ë ¥í•œ ë‹¤ìŒ ë°˜í™˜ íƒ€ì…ì—ëŠ” List<SomeBean>ì„ ë°˜í™˜í•´ì•¼ í•˜ì§€ //5-1:ë©”ì†Œë“œ ë³¸ë¬¸ìœ¼ë¡œ..
	@GetMapping("/filtering-list")
	public List<SomeBean> filteringList() {

    //5-1: Arrays.asListë¥¼ ì…ë ¥í•˜ê³  new SomeBeanì„ ì¶”ê°€í•œë‹¤ ì—¬ê¸° ë¶™ì—¬ ë„£ê¸° í•œ ë‹¤ìŒ ì´ì–´ì‚¬ ê°’ì„ ë³€ê²½í•´ ë³¼ê¹Œ? "value4" "value5" "value6"ë¡œ ì§€ì •í•œë‹¤
    //ì„í¬íŠ¸ë¥¼ ì •ë¦¬í•´ë³´ì java.util.Listë¥¼ ì„í¬íŠ¸ í•´ì•¼ í•˜ëŠ”ë° ì´ë ‡ê²Œ ëª¨ë“  ê²ƒì´ ì»´íŒŒì¼ë§í•˜ê³  ìˆë‹¤, ì´ë ‡ê²Œ SomeBeanì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” filteringList ë©”ì†Œë“œë¥¼ ìƒì„±í–ˆëŠ”ë°
    //SomeBeanì˜ ë¦¬ìŠ¤íŠ¸ê°€ ë°˜í™˜ë˜ë”ë¼ë„ field2ëŠ” ì „í˜€ í‘œì‹œë˜ì§€ ì•Šì„ ê²ƒì´ë‹¤
		return Arrays.asList(new SomeBean("value1","value2","value3"),
				new SomeBean("value4","value5","value6"));
	}
}


----------------------------------------------------------------------------------------------------------
                                                                                              |
                                                                                              V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/filtering ì‚¬ì´íŠ¸í™”ë©´ ==>


[
    {
        "filed1": "value1",
        "filed3": "value3"
    },
    {
        "filed1": "value4",
        "filed3": "value6"
    }
]

----------------------------------------------------------------------------------------------------------
filtering-listë¥¼ ì ìš©í•˜ë©´ ì´ì²˜ëŸ¼ ë¦¬ìŠ¤íŠ¸ì˜ ëª¨ë“  ìš”ì†Œì— ëŒ€í•´ field2ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤

ì—¬ê¸°ì— @JsonIgnore ì™¸ì—ë„ ë¹ˆì— @JsonIgnorePropertiesë¥¼ ì •ì˜í•  ìˆ˜ ìˆëŠ”ë°

----------------------------------------------------------------------------------------------------------


âº SomeBean í´ë˜ìŠ¤íŒŒì¼


package com.in28minutes.rest.webservices.restfulwebservices.filtering;

import com.fasterxml.jackson.annotation.*;

//6:ì´ê²ƒì€ ë˜ ë‹¤ë¥¸ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤ com.fasterxml.jackson.annotation.JsonIgnorePropertiesë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤
//ì´ê²ƒì€ í´ë˜ìŠ¤ì— ì§€ì •í•´ì•¼ í•˜ëŠ”ë° ì—¬ê¸°ì—ì„  í”„ë¡œí¼í‹° ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤, ì´ë²ˆì—ëŠ” field1ì„ ì‘ë‹µì— í¬í•¨í•˜ì§€ ì•Šê² ë‹¤ 
//ì´ì²˜ëŸ¼ @JsonIgnoreProperties("filed1")ì„ ì…ë ¥í–ˆëŠ”ë°, í´ë˜ìŠ¤ ìˆ˜ì¤€ì—ì„œë„ ì •ì˜í•  ìˆ˜ ìˆë‹¤
@JsonIgnoreProperties("filed1")
public class SomeBean {

	private String filed1;

  //6-1: ì—¬ê¸°ì— JsonIgnoreë¥¼ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  @JsonIgnoreProperties("field1")ì„ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ ìˆ˜ì¤€ìœ¼ë¡œ ì •ì˜í•œë‹¤,ì´ì œ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨...
	@JsonIgnore
	private String filed2;
	private String filed3;
	
	public SomeBean(String filed1, String filed2, String filed3) {
		super();
		this.filed1 = filed1;
		this.filed2 = filed2;
		this.filed3 = filed3;
	}

	public String getFiled1() {
		return filed1;
	}

	public String getFiled2() {
		return filed2;
	}

	public String getFiled3() {
		return filed3;
	}

	@Override
	public String toString() {
		return "SomeBean [filed1=" + filed1 + ", filed2=" + filed2 + ", filed3=" + filed3 + "]";
	}
	
}
----------------------------------------------------------------------------------------------------------
                                                                                              |
                                                                                              V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/filtering ì‚¬ì´íŠ¸í™”ë©´ ==>


[
  {
    "filed3": "value3"  
  },
  {
    "filed3": "value6"
  }
]

----------------------------------------------------------------------------------------------------------
ìƒˆë¡œê³ ì¹¨ í•´ë³´ë‹ˆ field1ê³¼ field2ê°€ ëª¨ë‘ í‘œì‹œë˜ì§€ ì•Šê³  ìˆëŠ”ë°

@JsonIgnoreëŠ” ì œê±°í•˜ê³  @JsonIgnorePropertiesì— field2ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ "field2"ë¥¼ ì¶”ê°€í•´ë³´ì
----------------------------------------------------------------------------------------------------------


âº SomeBean í´ë˜ìŠ¤íŒŒì¼


package com.in28minutes.rest.webservices.restfulwebservices.filtering;

import com.fasterxml.jackson.annotation.*;

//7: field2ë¥¼ ì¶”ê°€ ("filed1", "field2")ì´ëŸ°ì‹ìœ¼ë¡œ field2ë¥¼ ì¶”ê°€í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ({"filed1", "field2"})ì´ë ‡ê²Œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ê² ë‹¤
//ì„í¬íŠ¸ë¥¼ ì •ë¦¬í•´ì„œ @JsonIgnoreë¥¼ ì‚­ì œí•˜ê³ , ìƒˆë¡œê³ ì¹¨í•´ë³´ì
@JsonIgnoreProperties({"filed1", "field2"})
public class SomeBean {

	private String filed1;
	
	private String filed2;

	private String filed3;
	
	public SomeBean(String filed1, String filed2, String filed3) {
		super();
		this.filed1 = filed1;
		this.filed2 = filed2;
		this.filed3 = filed3;
	}

	public String getFiled1() {
		return filed1;
	}

	public String getFiled2() {
		return filed2;
	}

	public String getFiled3() {
		return filed3;
	}

	@Override
	public String toString() {
		return "SomeBean [filed1=" + filed1 + ", filed2=" + filed2 + ", filed3=" + filed3 + "]";
	}
	
}

----------------------------------------------------------------------------------------------------------
                                                                                              |
                                                                                              V
----------------------------------------------------------------------------------------------------------

ğŸŒ http://localhost:8080/filtering ì‚¬ì´íŠ¸í™”ë©´ ==>


[
  {
    "filed3": "value3"  
  },
  {
    "filed3": "value6"
  }
]

----------------------------------------------------------------------------------------------------------

ë³´ë‹¤ì‹œí”¼ ì‘ë‹µì— ì•„ë¬´ëŸ° ë³€í™”ê°€ ì—†ëŠ”ë° 

@JsonIgnore ë˜ëŠ” @JsnoIgnorePropertiesë¥¼ ì‚¬ìš©í•´ì„œ ì •ì  í•„í„°ë§ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ 

êµìœ¡ìëŠ” ë³´í†µ @JsonIgnoreë¥¼ ì„ í˜¸í•˜ëŠ” í¸ì´ë¼ê³  í•œë‹¤
@JsonIgnorePropertiesë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  ì´ íŠ¹ì • í•„ë“œì— @JsonIgnoreë¥¼ ì¶”ê°€í•˜ëŠ”ê²Œ ë‚«ë‹¤ê³  í•œë‹¤

ì¶”í›„ í•„ë“œ ì´ë¦„ì„ ë³€ê²½í•˜ë”ë¼ë„ ì‹¤ì œë¡œ ë‹¤ë¥¸ ê³³ì—ì„œ ë³€ê²½í•  í•„ìš”ê°€ ì—†ì–´ì„œë¼ê³  í•˜ê¸° ë•Œë¬¸ì´ë‹¤

@JsonIgnorePropertiesë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ì–´ë–¨ê¹Œ? field2 ì´ë¦„ì„ ë³€ê²½í•œë‹¤ë©´ 
@JsnoIgnoreProperties("")ì—¬ê¸°ì—ì„œ ì´ê²ƒë„ ë³€ê²½í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•´ì•¼ í•œë‹¤







ì§€ê¸ˆê¹Œì§€ ì •ì  í•„í„°ë§ì— ëŒ€í•´ ì‚´í´ë´¤ëŠ”ë°, ë‹¤ìŒ ì˜ìƒì—ì„  ë™ì  í•„í„°ë§ì— ëŒ€í•´ ì§šì–´ë³´ê² ë‹¤
