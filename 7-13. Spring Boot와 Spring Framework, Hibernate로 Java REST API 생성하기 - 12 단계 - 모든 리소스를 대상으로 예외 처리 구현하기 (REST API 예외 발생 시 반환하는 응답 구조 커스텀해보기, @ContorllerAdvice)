

м§Ђл‚њ м‹њк°„м—ђ мЎґмћ¬н•м§Ђ м•ЉлЉ” м‚¬мљ©мћђлҐј мЎ°нљЊн•  л•Њ м—ђлџ¬лҐј л°н™н–€л‹¤
мЎґмћ¬н•м§Ђ м•ЉлЉ” м‚¬мљ©мћђмќ м •ліґлҐј мЎ°нљЊн•лЉ” мљ”мІ­мќ„ ліґл‚ґл©ґ 

--------------------------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)


  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  404                (л№Ёк°„мѓ‰ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
Content-Type: application/json                |    {
Transfer-Encoding:  chunked                   |       "timestamp": "2024-05-22T10:42:06.141+00:00",                                  
Date:	Wed, 22 May 2024 10:42:06 GMT         |       "status": 404, 
                                              |       "error": "Not Found",   
                                              |       "trace": "com.in28minutes.rest.webservices.restfulwebservices.user.UserNotFound                    
Keep-Alive: timeout=60                        |       "message": "id:412",                           
Connection: keep-alive                        |       "path": "/users/412"                            
 в–¶ COMPLETE REQUEST HEADERS                   |    }
                                              |     
                                                lines nums  рџ“„ copy              length: 47 bytes

--------------------------------------------------------------------------------------------------------------------------------
404к°Ђ л‚м™”м—€л‹¤, мў‹л‹¤
лђ Spring Bootк°Ђ м •мќн•ґ л‘” кµ¬мЎ°лЎњ л°н™лђњ к°’лЏ„ н™•мќён–€л‹¤
м—ђлџ¬ мќ‘л‹µ кµ¬мЎ°лҐј мІґкі„м ЃмњјлЎњ л§Њл“њлЉ” кІѓмќЂ кё°м—…м—ђм„  л§¤мљ° м¤‘мљ”н•л‹¤

л„€мќ кё°м—…(лђлЉ” л‹ЁмІґл“±)м—ђм„  мќґлџ° кµ¬мЎ°лҐј н™њмљ©н•м§Ђ м•Љмќ„ м€лЏ„ мћ€л‹¤ 
м§Ѓм ‘ м •мќн•њ кµ¬мЎ°к°Ђ мћ€мќ„ м€ мћ€л‹¤ 

мќґлІ€ м‹њк°„м—” м€м™ё л°њмѓќ м‹њ л°н™н•лЉ” мќ‘л‹µмќ кµ¬мЎ°лҐј л°”кї” ліґл ¤кі  н•њл‹¤

лЁјм Ђ м»¤мЉ¤н…Ђ м€м™ёмќ кµ¬мЎ°лҐј мњ„н•њ л№€мќ„ м •мќн•ґ ліґмћђ
нЊЁн‚¤м§ЂлҐј нЃґл¦­н•кі  ctrl + nмќ„ л€„лҐё л‹¤мќЊ нЃґлћмЉ¤лҐј мѓќм„±н•њл‹¤ нЊЁн‚¤м§ЂлЉ”com.in28minutes.rest.webservices.restfulwebservices.exception мќґл¦„мќЂ ErrorDetailsлЎњ н•њл‹¤

--------------------------------------------------------------------------------------------------------------------------------


вЏє ErrorDetails нЃґлћмЉ¤нЊЊмќј



package com.in28minutes.rest.webservices.restfulwebservices.exception;

import java.time.LocalDate;

public class ErrorDetails {
  //1: мќґ нЃґлћмЉ¤ м•€м—ђ л„ЈлЉ” м •ліґлЎњ м—ђлџ¬к°Ђ л°њмѓќн–€мќ„ м‹њк°„(timestamp) м •ліґлћ‘ м—ђлџ¬ л©”м‹њм§Ђ(message)лћ‘ м—ђлџ¬мќ мѓЃм„ё м •ліґ(details)лҐј м ЂмћҐн•кі  м‹¶л‹¤
  //мќґ кµ¬мЎ°лҐј мљ°л¦¬ кё°м—…м—ђм„њ н™њмљ©н•  кё°ліё кµ¬мЎ°лЎњ м •мќн•кі  м‹¶л‹¤кі  к°Ђм •н•ґ ліґмћђ
  
  //timestamp м •ліґлЉ” private ліЂм€лЎњ нѓЂмћ…мќЂ LocalDateлЎњ мќґл¦„мќЂ timestampлЎњ м •мќн•њл‹¤
  private LocalDate timestamp;
  //messageлЉ” private ліЂм€лЎњ л¬ёмћђм—ґ нѓЂмћ…мќґкі , 
  private String message;
  //л‘к°™мќґ мѓЃм„ё м •ліґ detailsлЏ„ private л¬ёмћђм—ґлЎњ м§Ђм •н•њл‹¤ мћ„нЏ¬нЉёл¬ёмќ„ м—…лЌ°мќґнЉё н•њл‹¤ java.timeмќ LocalDateк°Ђ мћ„нЏ¬нЉёлђђл‹¤
  private String details;

  //1-1:мѓќм„±мћђлҐј л„Јм–ґм•ј н•лЉ”лЌ° л§€мљ°мЉ¤ мљ°нЃґл¦­ > Source > Generate Constructor using FieldsлҐј м„ нѓќн•њл‹¤, лЄЁл“  н•„л“њлҐј л‹¤ м‚¬мљ©н•  кІѓмќґл‹¤ мѓќм„±лІ„нЉј нЃґл¦­
	public ErrorDetails(LocalDate timestamp, String message, String details) {
		super();
		this.timestamp = timestamp;
		this.message = message;
		this.details = details;
	}	
  
  //1-2: кІЊн„°м™Ђ м„ён„°лЏ„ мѓќм„±н•кІ л‹¤ мљ°нЃґл¦­> Source > Generate Getters and Setters нЃґл¦­ > м„ён„°лЉ” н•„мљ” м—†м–ґм„њ кІЊн„°л§Њ мѓќм„±н•кІЊ н•кІ л‹¤ Select Getters лІ„нЉј нЃґл¦­ л§€м§Ђл§‰ л©¤лІ„лЎњ м‚Ѕмћ…н•кІ л‹¤
	public LocalDate getTimestamp() {
		return timestamp;
	}

	public String getMessage() {
		return message;
	}

	public String getDetails() {
		return details;
	}

  //1-3: мќґм њ ErrorDetails к°ќмІґк°Ђ м¤Ђл№„лђђл‹¤ л‹¤мќЊмњјлЎ  л­ н•ґм•ј н• к№Њ? м€м™ёк°Ђ л°њмѓќн•л©ґ мљ°л¦¬к°Ђ л§Њл“  мќґ кµ¬мЎ°лҐј л°н™н•кІЊ н•кі  м‹¶л‹¤ м–ґл–»кІЊ н•л©ґ лђ к№Њ?
}

--------------------------------------------------------------------------------------------------------------------------------

к·ё м „м—ђ лЁјм Ђ Springм—ђм„  м€м™ё мІл¦¬лҐј м–ґл–»кІЊ кµ¬н„н–€л‚ н™•мќён•ґліјк№Њ?

{
  "timestamp": "2024-05-22T10:42:06.141+00:00",                                  
  "status": 404, 
  "error": "Not Found",   
  "trace": "com.in28minutes.rest.webservices.restfulwebservices.user.UserNotFound                    
  "message": "id:412",                           
  "path": "/users/412"                            
}
м—¬кё° Springмќґ м •мќн•лЉ” кіµн†µ кµ¬мЎ°к°Ђ мћ€л‹¤
м–ґл–»кІЊ кµ¬н„лЏј мћ€мќ„к№Њ?
ResponseEntityExceptionHandlerлҐј кІЂмѓ‰н•ґ ліёл‹¤
/
 * A class with an {@code @ExceptionHandler} method that handles all Spring MVC
 * raised exceptions by returning a {@link ResponseEntity} with RFC 7807
 * formatted error details in the body.
...
/
м—¬кё° м„¤лЄ…мќ„ліґл©ґ мќґ нЃґлћмЉ¤лЉ” Spring MVCк°Ђ л°њмѓќм‹њн‚¤лЉ” лЄЁл“  м€м™ёлҐј мІл¦¬н•њл‹¤кі  н•њл‹¤ 
м •мќлђњ м—ђлџ¬ м •ліґлҐј л°н™н•њл‹¤кі  н•њл‹¤
мќґ м•€м—ђ мћ€лЉ” м—¬лџ¬ л©”м†Њл“њлҐј ліґл©ґ м •л§ђ л‹¤м–‘н•њ мў…лҐмќ л©”м†Њл“њк°Ђ мћ€лЉ”лЌ° к°Ѓк°Ѓ л‹¤лҐё мў…лҐмќ м€м™ёлҐј мІл¦¬н•њл‹¤
м њмќј кё°ліёмќґ лђлЉ” м€м™ё мІл¦¬ л©”м†Њл“њлЉ” hadleException()л©”м†Њл“њмќґл‹¤ Exceptionкіј WebRequestлҐј мќёмћђлЎњ л°›лЉ”л‹¤

handleExceptionмќ„ нЃґл¦­н•ґм„њ мћђм„ёнћ€ ліґмћђ
@Nullable
	public final ResponseEntity<Object> handleException(Exception ex, WebRequest request) throws Exception {
		if (ex instanceof HttpRequestMethodNotSupportedException subEx) {
			return handleHttpRequestMethodNotSupported(subEx, subEx.getHeaders(), subEx.getStatusCode(), request);
		}
	  .....
м—¬кё°м—ђм„њ к·ё н‘њм¤Ђ кµ¬мЎ°к°Ђ л°н™лђњл‹¤ 
мљ°л¦¬к°Ђ н•ґм•ј н•лЉ” к±ґ мќґк±ё м¤лІ„лќјмќґл“њн•ґм„њ мљ°л¦¬к°Ђ м •мќн•њ кµ¬мЎ°к°Ђ л°н™лђкІЊ н•ґм•ј н•њл‹¤ м–ґл–»кІЊ н•л©ґ лђ к№Њ?
мќґ нЃґлћмЉ¤лҐј мѓЃм†Ќн•ґм„њ н™•мћҐн•л©ґ лђњл‹¤, л°”лЎњ мќґ ResponseEntityExceptionHandler нЃґлћмЉ¤лҐј н™•мћҐн•ґм„њ мљ°л¦¬мќ м€м™ё мІл¦¬ мЅ”л“њлҐј кµ¬н„н•л©ґ лђњл‹¤ 
л°”лЎњ м‹њмћ‘н•мћђ


мќґ нЊЁн‚¤м§Ђ м•€м—ђм„њ лЁјм Ђ мѓ€ нЃґлћмЉ¤лҐј мѓќм„±н•кІ л‹¤ 
нЃґлћмЉ¤ мќґл¦„мќЂ CustomizedResponseEntityExceptionHandler лќјкі  н•кІ л‹¤

--------------------------------------------------------------------------------------------------------------------------------



вЏє CustomizedResponseEntityExceptionHandler нЃґлћмЉ¤нЊЊмќј



package com.in28minutes.rest.webservices.restfulwebservices.exception;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.context.request.WebRequest;
import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;

//2: к·ё л‹¤мќЊмњјлЎњ н™•мћҐмќ„ мњ„н•ґ н‚¤м›Њл“њлҐј л„Јм–ґ м¤Ђл‹¤, extends к·ёл¦¬кі  ResponseEntityExceptionHandlerлќјкі  Ctrl + 1мќ„ л€Њлџ¬ org.springframework.web.servlet.mvc.method.annotationмќ ResponseEntityExceptionHandlerк°Ђ л“¤м–ґм™”л‹¤, мќґм   м€м™ё мІл¦¬ л©”м†Њл“њлҐј мљ°л¦¬ мѓЃн™©м—ђ л§ћкІЊ л°”кї”мЈјкі  м‹¶л‹¤
public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{


  //2-1: handlerException л©”м†Њл“њлЎњ к°Ђм„њ м‹њк·ёл‹€мІлҐј ліµм‚¬н•мћђ л©”м†Њл“њ м‹њк·ёл‹€мІ к·ёлЊЂлЎњ к°Ђм§Ђкі  м™Ђм•ј н•њл‹¤, мќґм њ л©”м†Њл“њк°Ђ л“¤м–ґм™”кі , м—¬кё°м—ђм„  м–ґл–¤ мў…лҐмќ м€м™ёлҐј мІл¦¬н•  кІѓмќём§ЂлҐј м •мќн•њл‹¤ 
  //@ExceptionHandlerм—ђлЉ” м–ґл–¤ м€м™ёлҐј м—¬кё°м„њ мІл¦¬н•  к±ґм§ЂлҐј м •мќн•њл‹¤, л°њмѓќн•њ лЄЁл“  м€м™ёлҐј лЊЂмѓЃмњјлЎњ н•  к±°кё°л•Њл¬ём—ђ Exception.classлЎњ л„Јкі  мћ„нЏ¬нЉёл¬ёмќ„ м—…лЌ°мќґнЉён•њл‹¤ ExceptionHandlerк°Ђ л“¤м–ґм™”л‹¤ мў‹л‹¤
  @ExceptionHandler(Exception.class)
 	public final ResponseEntity<Object> handleAllException(Exception ex, WebRequest request) throws Exception { 
    //2-2: мќґм њлЉ” м»¤мЉ¤н…Ђ м€м™ё к°ќмІґлҐј л§Њл“¤ м°ЁлЎЂмќёлЌ° ErrorDetails к·ёл¦¬кі  мќґл¦„лЏ„ errorDetails = new ErrorDetailsлҐј мѓќм„±н•ґ н• л‹№н•ґ м¤Ђл‹¤ к·ёл¦¬кі  м—ђлџ¬мќ мІ« лІ€м§ё м •ліґлЎњлЉ” timestamp мІ« мќёмћђлЉ” нѓЂмћ„мЉ¤нѓ¬н”„л‹€к№Њ LocalDate.now()лЎњ к°’мќ„ л„Јкі  л‘ђлІ€м§ё мќёмћђлЉ” м—ђлџ¬ м •ліґмЂм§Ђ ex.getMeesage()лЎњ л„Јкі  м„ё лІ€м§ё мќёмћђк°Ђ мѓЃм„ё м •ліґм§Ђ request.getDescription()мќ„ нём¶њн•ґ мЈјл©ґм„њ мќёмћђлЉ” falseлЎњ л„Јм–ґ м¤Ђл‹¤, нЊЊмќјмќ„ м ЂмћҐн•кІ л‹¤
		ErrorDetails errorDetails = new ErrorDetails(LocalDate.now(), 
				ex.getMessage(), request.getDescription(false));  
    //2-3: мќґлІ€м—” ResponseEntityлҐј л°н™н•ґм¤м•ј н•лЉ”лЌ° мѓ€ ResponseEntity к°ќмІґлҐј мѓќм„±н•кі  errorDetailsлЏ„ н•Ёк» м „л‹¬лђлЏ„лЎќ н•њл‹¤ мѓЃнѓњлЉ” м–ґл–¤ к±ё л°н™н•ґм•ј н• к№Њ Internal Server ErrorлҐј л°н™н•ґм•ј н•њл‹¤ HttpStatus.INTERNAL_SERVER_ERRORлҐј м „л‹¬н•кі  return н‚¤м›Њл“њлҐј м¶”к°Ђн•кі  м ЂмћҐн•њл‹¤
		return new ResponseEntity(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);

    //2-4: л©”м†Њл“њ мќґл¦„лЏ„ л°”кї”м•ј н•њл‹¤, handleAllException мњјлЎњ н•кІ л‹¤ ( мњ„мќ л©”м†Њл“њ лЄ…мќ„ handleException м—ђм„њ handleAllExceptionмњјлЎњ м€м •... ) 
    
    //м§Ђкё€ м»¤мЉ¤н…Ђ м€м™ё кµ¬мЎ°лҐј л§Њл“¤м—€кі  к·ё м€м™ёлҐј л°н™н•лЉ” кё°лЉҐмќ„ кµ¬н„н–€л‹¤, нЊЊмќјмќ„ м ЂмћҐн•кі  мћ мћ‘лЏ™н•лЉ”м§Ђ н™•мќён•ґ ліґмћђ 
  }
}

--------------------------------------------------------------------------------------------------------------------------------

мЎґмћ¬н•м§Ђ м•ЉлЉ” м‚¬мљ©мћђм—ђкІЊ мљ”мІ­мќ„ ліґл‚ґ ліґмћђ, ліґл‚ґкё° лІ„нЉјмќ„ нЃґл¦­н•њл‹¤

--------------------------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | GET     | в–ј  |    |    http://localhost:8080/users/412                         |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS
  HEADERS   в¬‡                   | Form в–ј |  в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________     __________________      |    
в‘ | Content-Type | : | application/json | x   |    XHR does not allow payload for GET request.                           
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      |                                   
  ______________                              |                                
 ( + Add header )                             |                                    
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                              |                                    
  рџ—ќ Add authorization         рџ—‘              |                                    
                                              |    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                   Text JSON XML HTML | Format Body |
                                                    в‘ Enable body evaluation

  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  404                (л№Ёк°„мѓ‰ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
Content-Type: application/json                |    {
Transfer-Encoding:  chunked                   |       "timestamp": "2024-05-22T10:42:06.141+00:00",                                  
Date:		Thu, 23 May 2024 09:52:37 GMT         |       "status": 404, 
                                              |       "error": "Not Found",   
                                              |       "trace": "com.in28minutes.rest.webservices.restfulwebservices.user.UserNotFoundException:                   
Keep-Alive: timeout=60                        |       "message": "id:412",                           
Connection: keep-alive                        |       "path": "/users/412"                            
 в–¶ COMPLETE REQUEST HEADERS                   |    }
                                              |     
                                                lines nums  рџ“„ copy              length: 47 bytes
--------------------------------------------------------------------------------------------------------------------------------

404к°Ђ л°н™лђђл‹¤
к·ёл¦¬кі  л°н™лђњ м •ліґмќ кµ¬мЎ°лЉ” к·ёлЊЂлЎњмќґл‹¤
м™њмќјк№Њ?

--------------------------------------------------------------------------------------------------------------------------------



вЏє CustomizedResponseEntityExceptionHandler нЃґлћмЉ¤нЊЊмќј



package com.in28minutes.rest.webservices.restfulwebservices.exception;

import java.time.*;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.context.request.WebRequest;
import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;


//3: мќґ нЃґлћмЉ¤лҐј Spring Frameworkк°Ђ м•„м§Ѓ мќём§Ђн•м§Ђ лЄ»н–€кё° л•Њл¬ёмќґл‹¤ ControllerAdviceлҐј м¶”к°Ђн•ґ мЈјкІ л‹¤, мќґ нЃґлћмЉ¤лҐј лЄЁл“  м»ЁнЉёлЎ¤лџ¬м—ђкІЊ м Ѓмљ©н•њл‹¤
//мќґ н”„лЎњм ќнЉём—ђ м •мќлђњ лЄЁл“  м»ЁнЉёлЎ¤лџ¬, н…ЊмЉ¤нЉё м»ЁнЉёлЎ¤лџ¬м—ђ л§ђмќґл‹¤ мћ„нЏ¬нЉёл¬ёмќ„ м—…лЌ°мќґнЉён•њл‹¤, org.springframework.web.bind.annotationмќ ControllerAdviceк°Ђ мћ л“¤м–ґм™”л‹¤
//ControllerAdviceмќ мѓЃм„ё м„¤лЄ…мќ„ ліґл©ґ ( Specialization of @Component for classes that declare @ExceptionHandler, @InitBinder, or @ModelAttribute methods to be shared acrossmultiple @Controller classes. ) нЉ№лі„н•њ м»ґнЏ¬л„ЊнЉёлќјкі  лЏјмћ€л‹¤ ExceptionHandlerлҐј м„ м–ён•лЉ” нЃґлћмЉ¤лҐј мњ„н•њ к±°кі  @InitBinderлЏ„ м“ё м€ мћ€кі  @ModelAttributeлҐј мќґмљ©н•ґм„њ м—¬лџ¬ м»ЁнЉёлЎ¤лџ¬ нЃґлћмЉ¤м—ђм„њ кіµмњ лђкІЊ н•  м€ мћ€л‹¤кі  лЏјмћ€л‹¤,
//ControllerAdviceлҐј м“°л©ґ мќґм–ґм„њ н•ґліјк№Њ нЊЊмќјмќ„ м ЂмћҐн•кі 
@ControllerAdvice
public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{

	@ExceptionHandler(Exception.class)
	public final ResponseEntity<Object> handleAllException(Exception ex, WebRequest request) throws Exception {
		ErrorDetails errorDetails = new ErrorDetails(LocalDate.now(), 
				ex.getMessage(), request.getDescription(false));
		
		return new ResponseEntity(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);
	}
	
}

--------------------------------------------------------------------------------------------------------------------------------
м•„к№Њ к·ё мљ”мІ­мќ„ л‹¤м‹њ ліґл‚ёл‹¤                                                            |
                                                                                    V
--------------------------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | GET     | в–ј  |    |    http://localhost:8080/users/412                         |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS
  HEADERS   в¬‡                   | Form в–ј |  в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________     __________________      |    
в‘ | Content-Type | : | application/json | x   |    XHR does not allow payload for GET request.                           
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      |                                   
  ______________                              |                                
 ( + Add header )                             |                                    
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                              |                                    
  рџ—ќ Add authorization         рџ—‘              |                                    
                                              |    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                   Text JSON XML HTML | Format Body |
                                                    в‘ Enable body evaluation

  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  500                (л№Ёк°„мѓ‰ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
Content-Type: application/json                |    {
Transfer-Encoding:  chunked                   |       "timestamp": "2024-05-23",                                  
Date:		Thu, 23 May 2024 10:05:13 GMT         |       "message": "id:412",
Connection: close                             |       "details": "uri=/users/412"   
                                              |    }  
                                              |                             
                                              |                              
 в–¶ COMPLETE REQUEST HEADERS                   |    
                                              |     
                                                lines nums  рџ“„ copy              length: 47 bytes
--------------------------------------------------------------------------------------------------------------------------------

мќґлІ€м—” мљ°л¦¬к°Ђ л§Њл“  кµ¬мЎ°лЊЂлЎњ м—ђлџ¬ л°н™к°’мќґ мЁ к±ё ліј м€ мћ€л‹¤
нѓЂмћ„мЉ¤нѓ¬н”„ к°’мќ„ ліґл©ґ м§Ђкё€г…‡лЉђ л‚ м§њл§Њ л‹ґкІЁ мћ€лЉ”лЌ° м‹њк°„лЏ„ нЏ¬н•Ён•кі  м‹¶л‹¤л©ґ LocalDate лЊЂм‹  LocalDateTimeмќ„ м“°л©ґ лђњл‹¤ 

--------------------------------------------------------------------------------------------------------------------------------



вЏє ErrorDetails нЃґлћмЉ¤нЊЊмќј


package com.in28minutes.rest.webservices.restfulwebservices.exception;

import java.time.LocalDateTime;

public class ErrorDetails {

//4: LocalDate лЊЂм‹  LocalDateTimeмњјлЎњ л°”кї”мЈјкі  л‹¤лҐё л¶Ђл¶„лЏ„ LocalDateTimeмњјлЎњ л°”кї”мЈјкІ л‹¤(ліЂм€, мѓќм„±мћђ, getter лЄЁл‘ђ LocalDateTime лЎњ л°”кї”мЈјкё°) мћ„нЏ¬нЉёл¬ёмќ„ м—…лЌ°мќґнЉён•кі  нЊЊмќјмќ„ м ЂмћҐн•кі  //4-1:CustomizedResponseEntityExceptionHandler нЃґлћмЉ¤ нЊЊмќјлЎњ..
	private LocalDate timestamp;
	private String message;
	private String details;

//4 кі„м†Ќ : LocalDateTimeмњјлЎњ м€м •..
	public ErrorDetails(LocalDateTime timestamp, String message, String details) {
		super();
		this.timestamp = timestamp;
		this.message = message;
		this.details = details;
	}

//4 кі„м†Ќ : LocalDateTimeмњјлЎњ м€м •..
	public LocalDateTime getTimestamp() {
		return timestamp;
	}

	public String getMessage() {
		return message;
	}

	public String getDetails() {
		return details;
	}

}

--------------------------------------------------------------------



вЏє CustomizedResponseEntityExceptionHandler нЃґлћмЉ¤нЊЊмќј



package com.in28minutes.rest.webservices.restfulwebservices.exception;

import java.time.LocalDateTime;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.context.request.WebRequest;
import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;


@ControllerAdvice
public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{

	@ExceptionHandler(Exception.class)
	public final ResponseEntity<Object> handleAllException(Exception ex, WebRequest request) throws Exception {

    //4-1:LocalDateTime.now()к°Ђ лђлЏ„лЎќ л°”кѕёкі  мћ„нЏ¬нЉёл¬ёмќ„ м—…лЌ°мќґнЉён•њл‹¤ мћђ, мќґм њ н•„мљ”н•њ лЄЁл“  кіім—ђ LocalDateлҐј LocalDateTimeмњјлЎњ л°”кї”м¤¬л‹¤ кІ°кіјлҐј н™•мќён•ґ ліґмћђ
		ErrorDetails errorDetails = new ErrorDetails(LocalDateTime.now(), 
				ex.getMessage(), request.getDescription(false));
		
		return new ResponseEntity(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);
	}
	
}

--------------------------------------------------------------------------------------------------------------------------------
мљ”мІ­мќ„ліґл‚ёл‹¤                                                                             |
                                                                                        V
--------------------------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | GET     | в–ј  |    |    http://localhost:8080/users/412                         |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS
  HEADERS   в¬‡                   | Form в–ј |  в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________     __________________      |    
в‘ | Content-Type | : | application/json | x   |    XHR does not allow payload for GET request.                           
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      |                                   
  ______________                              |                                
 ( + Add header )                             |                                    
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                              |                                    
  рџ—ќ Add authorization         рџ—‘              |                                    
                                              |    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                   Text JSON XML HTML | Format Body |
                                                    в‘ Enable body evaluation

  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  500                (л№Ёк°„мѓ‰ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
Content-Type: application/json                |    {
Transfer-Encoding:  chunked                   |       "timestamp": "2024-05-23T19:15:53.9963361",                                  
Date:		Thu, 23 May 2024 10:15:53 GMT-1s      |       "message": "id:412",
Connection: close                             |       "details": "uri=/users/412"   
                                              |    }  
                                              |                             
                                              |                              
 в–¶ COMPLETE REQUEST HEADERS                   |    
                                              |     
                                                lines nums  рџ“„ copy              length: 89 bytes
--------------------------------------------------------------------------------------------------------------------------------

лґђлќј, мќґм њ нѓЂмћ„мЉ¤нѓ¬н”„ к°’м—ђ м‹њк°„лЏ„ л“¤м–ґк°Ђ мћ€л‹¤
л‚ м§њлЏ„ мћ€кі  м‹њк°„лЏ„ м°ЌнЂ мћ€л‹¤
н•„мљ”н•њ м •ліґлҐј м»¤мЉ¤н…Ђ кµ¬мЎ°м—ђ л‹ґм•л‹¤

лђ н•л‚ лґђм•ј н•  к±ґ мљ°л¦¬к°Ђ л§Њл“  кµ¬мЎ°к°Ђ м Ѓмљ©лђм–ґм„њ м—†лЉ” м‚¬мљ©мћђлҐј мЎ°нљЊн–€мќ„ л•Њ
мѓЃнѓњк°’мќґ 500мќґ л°н™лђђлЉ”лЌ°, м‚¬мљ©мћђк°Ђ м—†лЉ” мѓЃн™©м—ђм„  Bad RequestлҐј л°н™н•кі  м‹¶л‹¤
мќґк±ґ м–ґл–»кІЊ н•л©ґ лђ к№Њ?

--------------------------------------------------------------------------------------------------------------------------------



вЏє CustomizedResponseEntityExceptionHandler нЃґлћмЉ¤нЊЊмќј



package com.in28minutes.rest.webservices.restfulwebservices.exception;

import java.time.LocalDateTime;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.context.request.WebRequest;
import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;


@ControllerAdvice
public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{

	@ExceptionHandler(Exception.class)
	public final ResponseEntity<Object> handleAllException(Exception ex, WebRequest request) throws Exception {
		ErrorDetails errorDetails = new ErrorDetails(LocalDateTime.now(), 
				ex.getMessage(), request.getDescription(false));
		
		return new ResponseEntity(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);
	}
	
//5: мќґ л¶Ђл¶„мќ„ кі м№л©ґ лђњл‹¤ л‹¤лҐё м€м™ёлЉ” мќґл ‡кІЊ мІл¦¬н•л©ґ лђм§Ђл§Њ, м‚¬мљ©мћђк°Ђ м—†мќ„ л•Њл§ЊнЃјмќЂ UserNotFoundExceptionмќ„ л°њмѓќм‹њн‚¤кі  м‹¶л‹¤
//л©”м†Њл“њ мќґл¦„лЏ„ handleUserNotFoundExceptionмњјлЎњ л°”кї”м¤Ђл‹¤
	@ExceptionHandler(UserNotFoundException.class)
	public final ResponseEntity<Object> handleUserNotFoundException(Exception ex, WebRequest request) throws Exception {

  //5-1: мќґ м€м™ёк°Ђ л°њмѓќн–€мќ„ л•ђ л‹¤лҐё л©”м‹њм§ЂлҐј л°н™н•кІЊ н•кі  м‹¶л‹¤ мћ„нЏ¬л“њл¬ёмќ„ м—…лЌ°мќґнЉё н•њл‹¤ мњ„м—ђ ліґл©ґ UserNotFoundExceptionмќґ л“¤м–ґм™”л‹¤,
		ErrorDetails errorDetails = new ErrorDetails(LocalDateTime.now(), 
				ex.getMessage(), request.getDescription(false));
		
  //5-2: к·ёл¦¬кі  INTERNAL_SERVER_ERRORлЊЂм‹  HttpStatus.NOT_FOUNDлҐј л°н™н•њл‹¤, л°”лЎњ мќґкІѓмќґл‹¤, мќґкІѓмќ„ л°н™н•кІЊ н•њл‹¤ нЊЊмќјмќ„ м ЂмћҐн•кі 
		return new ResponseEntity(errorDetails, HttpStatus.NOT_FOUND);
	}
}

--------------------------------------------------------------------------------------------------------------------------------
мѓ€лЎњкі м№Ёмќ„ н•ґмЈјл©ґ                                                                           |
                                                                                           V
--------------------------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | GET     | в–ј  |    |    http://localhost:8080/users/412                         |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS
  HEADERS   в¬‡                   | Form в–ј |  в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________     __________________      |    
в‘ | Content-Type | : | application/json | x   |    XHR does not allow payload for GET request.                           
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      |                                   
  ______________                              |                                
 ( + Add header )                             |                                    
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                              |                                    
  рџ—ќ Add authorization         рџ—‘              |                                    
                                              |    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                   Text JSON XML HTML | Format Body |
                                                    в‘ Enable body evaluation

  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  404                (л№Ёк°„мѓ‰ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
Content-Type: application/json                |    {
Transfer-Encoding:  chunked                   |       "timestamp": "2024-05-23T19:29:45.2847928",                                  
Date:		Thu, 23 May 2024 10:29:45 GMT         |       "message": "id:412",
Keep-Alive:	timeout=60                        |       "details": "uri=/users/412"   
Connection: close                             |    }  
                                              |                             
                                              |                              
 в–¶ COMPLETE REQUEST HEADERS                   |    
                                              |     
                                                lines nums  рџ“„ copy              length: 89 bytes
--------------------------------------------------------------------------------------------------------------------------------

мќґм   404к°Ђ л°н™лђњ к±ё ліј м€ мћ€л‹¤, мќ‘л‹µ ліёл¬ёлЏ„ мљ°л¦¬к°Ђ м •мќн•њ кµ¬мЎ°мќґл‹¤

к·јлЊЂ ResponseEntityк°Ђ raw нѓЂмћ…мќґлќјлЉ” кІЅкі к°Ђ л–ґл‹¤ ( 	- ResponseEntity is a raw type. References to generic type ResponseEntity<T> should be parameterized )
return new ResponseEntity(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);
мќґк±ґ м»¤мЉ¤н„°л§€мќґм¦€н•л©ґ лђњл‹¤

--------------------------------------------------------------------------------------------------------------------------------





package com.in28minutes.rest.webservices.restfulwebservices.exception;

import java.time.LocalDateTime;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.context.request.WebRequest;
import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;

import com.in28minutes.rest.webservices.restfulwebservices.user.*;


@ControllerAdvice
public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{

	@ExceptionHandler(Exception.class)
  //6-1: м—¬кё°м—ђлЏ„ л°”кї”мЈјкі 
	public final ResponseEntity<ErrorDetails> handleAllException(Exception ex, WebRequest request) throws Exception {
		ErrorDetails errorDetails = new ErrorDetails(LocalDateTime.now(), 
				ex.getMessage(), request.getDescription(false));

    //6: ErrorDetailsлҐј л¶™м—¬ м¤Ђл‹¤
		return new ResponseEntity<ErrorDetails>(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR);
	}
	
	@ExceptionHandler(UserNotFoundException.class)
  //6-2: м—¬кё°лЏ„ л‘к°™мќґ л°”кї”м¤Ђл‹¤ мќґ кµ¬мЎ°лЎњ ResponseEntityлҐј л°н™н•њл‹¤ л‹¤ л°”кї”мЈјкі  мљ”мІ­мќ„ л‹¤м‹њ ліґл‚ґм„њ н™•мќён•њл‹¤
	public final ResponseEntity<ErrorDetails> handleUserNotFoundException(Exception ex, WebRequest request) throws Exception {
		ErrorDetails errorDetails = new ErrorDetails(LocalDateTime.now(), 
				ex.getMessage(), request.getDescription(false));
		
		return new ResponseEntity<ErrorDetails>(errorDetails, HttpStatus.NOT_FOUND);
	}
	
}

--------------------------------------------------------------------------------------------------------------------------------
                                                                                            |
                                                                                            V
--------------------------------------------------------------------------------------------------------------------------------

рџ–‡ Talend API Tester н™”л©ґ ==>    (лЌ” мћђм„ён•њк±ґ нЃ¬лЎ¬ н™•мћҐн”„лЎњк·ёлћЁ Talend API Tester м‹¤н–‰н•ґм„њ н™•мќё..)

  METHOD                SCHEME :// HOST [ ":" PORT ] [ PATH [ "?" QUERY ]]
  ______________      ____________________________________________________________    ___________________
 | GET     | в–ј  |    |    http://localhost:8080/users/412                         |  |  вњ€ Send       | в–Ѕ |
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                        в–¶ QUERY PARAMETERS
  HEADERS   в¬‡                   | Form в–ј |  в—Ђ | в–¶  BODY                                   | Text в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
   ______________     __________________      |    
в‘ | Content-Type | : | application/json | x   |    XHR does not allow payload for GET request.                           
   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ      |                                   
  ______________                              |                                
 ( + Add header )                             |                                    
  вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ                              |                                    
  рџ—ќ Add authorization         рџ—‘              |                                    
                                              |    вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
                                                   Text JSON XML HTML | Format Body |
                                                    в‘ Enable body evaluation

  Response
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
  404                (л№Ёк°„мѓ‰ л°”нѓ•)
___________________________________________________________________________________________________

  HEADERS                     | pretty в–ј |  в—Ђ | в–¶  BODY                                 | pretty в–ј |
вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ     |   вЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕвЂѕ
Content-Type: application/json                |    {
Transfer-Encoding:  chunked                   |       "timestamp": "2024-05-23T19:36:23.4859211",                                  
Date:		Thu, 23 May 2024 10:36:23 GMT         |       "message": "id:412",
Keep-Alive:	timeout=60                        |       "details": "uri=/users/412"   
Connection: close                             |    }  
                                              |                             
                                              |                              
 в–¶ COMPLETE REQUEST HEADERS                   |    
                                              |     
                                                lines nums  рџ“„ copy              length: 89 bytes
--------------------------------------------------------------------------------------------------------------------------------
м•„к№Њм™Ђ к°™мќЂм—ђлџ¬ мќ‘л‹µмќґ мЁ к±ё ліј м€ мћ€л‹¤



м†Њл№„мћђм—ђкІЊ м¬л°”лҐё л©”м‹њм§ЂлҐј л°н™н•лЉ” к±ґ л¬ґмІ™ м¤‘мљ”н•л‹¤ 
REST APIм—ђм„њ м†Њл№„мћђм—ђкІЊ м •ліґлҐј м „л‹¬н•  м€ мћ€лЉ” л°©лІ•мќЂ Responseм™Ђ ResponseStatusлҐј мќґмљ©н•лЉ” кІѓмќґл‹¤
л­”к°Ђ мћлЄ» лђђмќ„ л•Њ м—ђлџ¬мќ кµ¬мЎ°лҐј м •н™•н•кІЊ м •мќн•кі  м Ѓн•©н•њ мќ‘л‹µ мѓЃнѓњлҐј л°н™н•лЉ” к±ґ REST APIлҐј кµ¬н„н•  л•Њ л¬ґмІ™ м¤‘мљ”н•л‹¤
л‘ђ л‹Ёкі„м—ђ к±°міђм„њ Spring MVCк°Ђ м њкіµн•лЉ” кё°лЉҐмќ„ мќґмљ©н•ґ м—ђлџ¬лҐј м њлЊЂлЎњ мІл¦¬н•кі  м¬л°”лҐё мќ‘л‹µк°’кіј мќ‘л‹µ мѓЃнѓњлҐј л°н™н•лЉ” к±ё м‚ґнЋґ ліґм•л‹¤
