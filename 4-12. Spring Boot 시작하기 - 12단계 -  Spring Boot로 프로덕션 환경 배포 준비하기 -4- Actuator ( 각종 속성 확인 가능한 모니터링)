
Monitor Application using Spring Boot Actuator
                                                                                                                                                                                                                                    
â— Monitor and manage your application in your production                                                                                                                                                                                                                                    
â— Provides a number of endpoints:                                                                                                                                                                                                                                    
 â–  beans - Complete list of Spring beans in your app                                                                                                                                                                                                                                    
 â–  health - Application health information                                                                                                                                                                                                                                    
 â–  metrics - Application metrics                                                                                                                                                                                                                                    
 â–  mappings - Details around Request Mappings                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                    
                                                                                                                                                                                                                          
                                                                                                                                                                                                                                    

ì´ë²ˆì—ëŠ” í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë˜ ë‹¤ë¥¸ ì¤‘ìš” ê¸°ëŠ¥ì¸ ëª¨ë‹ˆí„°ë§ì„ ì•Œì•„ë³´ì
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì–´ë–¤ ì¼ì´ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë‹¤ 
ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” Spring Boot ê¸°ëŠ¥ì´ Spring Boot Actuatorì´ë‹¤ 

â— Monitor and manage your application in your production
ì´ë¥¼ í†µí•´ í”„ë¡œë•ì…˜ ë‹¨ê³„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ 
â— Provides a number of endpoints:
Spring Boot ActuatorëŠ” ì—¬ëŸ¬ ê°œì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œê³µí•œë‹¤ 
 â–  beans - Complete list of Spring beans in your app   
ì• í”Œë¦¬ì¼€ì´ì…˜ì— í¬í•¨ëœ ëª¨ë“  Spring beansë¥¼ ì´ beans ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆë‹¤
 â–  health - Application health information  
health ì—”ë“œ í¬ì¸íŠ¸ë¡œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ ë³´ëŠ” ê²ƒì´ healthì´ë‹¤
 â–  metrics - Application metrics     
ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê´€ë ¨ëœ ì—¬ëŸ¬ ê°€ì§€ metricsë„ ì œê³µëœë‹¤, metrics ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê³  
 â–  mappings - Details around Request Mappings    
ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì„¤ì •ëœ ëª¨ë“  ìš”ì²­ ë§¤í•‘ ê´€ë ¨ ì„¸ë¶€ ì‚¬í•­ì„ í™•ì¸í•˜ë ¤ë©´ mappings ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤

Spring Boot Actuatorì—ì„œ ë…¸ì¶œí•˜ëŠ” ë‹¤ë¥¸ ì—”ë“œí¬ì¸íŠ¸ë„ ë§ì€ë° ì—¬ê¸°ì—ëŠ” ëª‡ ê°€ì§€ ì„ ë³„í•´ì„œ í‘œì‹œí–ˆë‹¤
ê·¸ëŸ¼ Spring Boot ActuatorëŠ” ì–´ë–»ê²Œ ì‚¬ìš©í• ê¹Œ?
ëŠ˜ ê·¸ë¬ë“¯ ì•„ì£¼ ì‰½ë‹¤ 

pom.xmlë¡œ ê°€ë³´ì
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

ì´ê²ƒì„ ë³µì‚¬í•˜ê³  spring-boot-starter-actuatorë¡œ ë³€ê²½í•œí›„ ì €ì¥í•œë‹¤
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-actuator</artifactId>            <=== ìƒì„±
		</dependency>

ë‹¤ìš´ë¡œë“œê°€ ëë‚˜ë©´ ì´ì œ ìœ„ë¡œ ì´ë™í•˜ì—¬ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤
ìƒë‹¨ì˜ ì‹¤í–‰ë²„íŠ¼ì—ì„œ LearnSpringBootApplicationì„ ì„ íƒí•˜ì—¬ ì‹¤í–‰í•´ ë³´ê² ë‹¤
...
...
2024-04-01T19:47:27.060+09:00[0;39m [32mDEBUG[0;39m [35m8544[0;39m [2m---[0;39m [2m[learn-spring-boot] [  restartedMain][0;39m [2m[0;39m[36mo.s.b.a.ApplicationAvailabilityBean     [0;39m [2m:[0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ ì‹¤í–‰ë˜ê³  ìˆë‹¤ 
ê·¸ë¦¬ê³  ë¸Œë¼ìš°ì €ë¡œ ì´ë™í•˜ì—¬ URL localhost:8080/actuatorë¥¼ ì…ë ¥í•´ ë³´ê² ë‹¤

{
  "_links": {
    "self": {
      "href": "http://localhost:8080/actuator",
      "templated": false
    },
    "health": {
      "href": "http://localhost:8080/actuator/health",
      "templated": false
    },
    "health-path": {
      "href": "http://localhost:8080/actuator/health/{*path}",
      "templated": true
    }
  }
}

JSONì‘ë‹µì´ ì´ì™€ ê°™ì´ í‘œì‹œëœë‹¤ í˜„ì¬ URLë¡œ ì—°ê²°ë˜ëŠ” self ë§í¬ê°€ ìˆê³  health URLë¡œ ì—°ê²°ë˜ëŠ” health ë§í¬ê°€ ìˆë‹¤
health URL http://localhost:8080/actuator/healthë¥¼ í´ë¦­í•˜ë©´
{
"status": "UP"
}
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœê°€ í‘œì‹œëœë‹¤
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœëŠ” í˜„ì¬ 'UP'ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤ 
ê¸°ë³¸ì ìœ¼ë¡œ Actuatorë¥¼ ì‹¤í–‰í•˜ë©´ health ì—”ë“œí¬ì¸íŠ¸ë§Œ ë…¸ì¶œí•œë‹¤ 
Actuatorì˜ ë” ë§ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ application.propertiesì—ì„œ ê¸°ëŠ¥ì„ ì‚¬ìš© ì„¤ì •í•´ì•¼ í•œë‹¤

----------------------------------------------------------------------------------------------------------------------

âº application.properties íŒŒì¼

logging.level.org.springframework=debug
spring.profiles.active=dev

currency-service.url=http://default1.in28minutes.com
currency-service.username=defaultusername
currency-service.key=defaultkey

#application.propertiesë¡œ ì´ë™í•˜ì—¬, ì¶”ê°€ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•œë‹¤ 
#management.endponints.web.exposure.include=*
#ì´ë ‡ê²Œí•˜ë©´ Actuatorì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ê°€ ë…¸ì¶œëœë‹¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

management.endponints.web.exposure.include=*

----------------------------------------------------------------------------------------------------------------------

ì´ì œ ë‹¤ì‹œ URLë¡œ ì™€ì„œ Actuator URLì„ ìƒˆë¡œ ê³ ì¹¨í•œë‹¤, 

{
  "_links": {
  "self": {
    "href": "http://localhost:8080/actuator",
    "templated": false
  },
  "beans": {
    "href": "http://localhost:8080/actuator/beans",
    "templated": false
  },
  "caches-cache": {
    "href": "http://localhost:8080/actuator/caches/{cache}",
    "templated": true
  },
  "caches": {
    "href": "http://localhost:8080/actuator/caches",
    "templated": false
  },
  "health": {
    "href": "http://localhost:8080/actuator/health",
    "templated": false
  },
  "health-path": {
    "href": "http://localhost:8080/actuator/health/{*path}",
    "templated": true
  },
  "info": {
    "href": "http://localhost:8080/actuator/info",
    "templated": false
  },
  "conditions": {
    "href": "http://localhost:8080/actuator/conditions",
    "templated": false
  },
  "configprops": {
    "href": "http://localhost:8080/actuator/configprops",
    "templated": false
  },
  "configprops-prefix": {
    "href": "http://localhost:8080/actuator/configprops/{prefix}",
    "templated": true
  },
  "env": {
    "href": "http://localhost:8080/actuator/env",
    "templated": false
  },
  "env-toMatch": {
    "href": "http://localhost:8080/actuator/env/{toMatch}",
    "templated": true
  },
  "loggers": {
    "href": "http://localhost:8080/actuator/loggers",
    "templated": false
  },
  "loggers-name": {
    "href": "http://localhost:8080/actuator/loggers/{name}",
    "templated": true
  },
  "heapdump": {
    "href": "http://localhost:8080/actuator/heapdump",
    "templated": false
  },
  "threaddump": {
    "href": "http://localhost:8080/actuator/threaddump",
    "templated": false
  },
  "metrics-requiredMetricName": {
    "href": "http://localhost:8080/actuator/metrics/{requiredMetricName}",
    "templated": true
  },
  "metrics": {
    "href": "http://localhost:8080/actuator/metrics",
    "templated": false
  },
  "sbom": {
    "href": "http://localhost:8080/actuator/sbom",
    "templated": false
  },
  "sbom-id": {
    "href": "http://localhost:8080/actuator/sbom/{id}",
    "templated": true
  },
  "scheduledtasks": {
    "href": "http://localhost:8080/actuator/scheduledtasks",
    "templated": false
  },
  "mappings": {
    "href": "http://localhost:8080/actuator/mappings",
    "templated": false
  }
  }
}

localhost:8080/actuatorë¥¼ ìƒˆë¡œê³ ì¹¨ í–ˆë‹¤, ì´ì œ ì—”ë“œí¬ì¸íŠ¸ê°€ ë§ì´ í‘œì‹œë˜ì–´ ìˆë‹¤ .
ì—¬ê¸° í‘œì‹œëœ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ëª¨ë‘ ì•Œì•„ì•¼ í•  í•„ìš”ëŠ” ì—†ë‹¤ 


ì¤‘ìš”í•œ ëª‡ ê°€ì§€ë§Œ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ë‹¤ 
Spring Boot Actuator beansë¥¼ ë³´ë©´ ë¡œë“œëœ ëª¨ë“  Spring beansê°€ í‘œì‹œëœë‹¤ 

{
"contexts": {
"learn-spring-boot": {
"beans": {
"endpointCachingOperationInvokerAdvisor": {
"aliases": [],
"scope": "singleton",
"type": "org.springframework.boot.actuate.endpoint.invoker.cache.CachingOperationInvokerAdvisor",
"resource": "class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/EndpointAutoConfiguration.class]",
"dependencies": [
"org.springframework.boot.actuate.autoconfigure.endpoint.EndpointAutoConfiguration",
"environment"
]
},

....
.....

"courseController2": {
"aliases": [],
"scope": "singleton",
"type": "com.springstudy.springboot.learnspringboot.CourseController2",
"resource": "file [C:\\Users\\LG\\Downloads\\learn-spring-boot\\learn-spring-boot\\target\\classes\\com\\springstudy\\springboot\\learnspringboot\\CourseController2.class]",
"dependencies": []
},
ì•ì„œ courseë¦¬ì†ŒìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤ 
ì•ì„œ courseControllerë¥¼ ë§Œë“¤ì—ˆë‹¤ ì´ì— ëŒ€í•œ beanì´ ìˆë‹¤

"org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration": {
"aliases": [],
"scope": "singleton",
"type": "org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration",
"dependencies": []
},
"preserveErrorControllerTargetClassPostProcessor": {
"aliases": [],
"scope": "singleton",
"type": "org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$PreserveErrorControllerTargetClassPostProcessor",
"resource": "class path resource [org/springframework/boot/autoconfigure/web/servlet/error/ErrorMvcAutoConfiguration.class]",
"dependencies": []
},
DispatcherServletì— ëŒ€í•œ beanë„ ìˆê³  ErrorMVCì„¤ì •ì— ê´€í•œ beanë„ ìˆë‹¤ 
ë”°ë¼ì„œ ìë™ ì„¤ì •ëœ ëª¨ë“  ê²ƒì— ëŒ€í•´ì„œëŠ” ì—¬ê¸° í‘œì‹œëœ beanì„ í™•ì¸í•˜ë©´ ëœë‹¤ 
íŠ¹ì • í•­ëª©ì´ ìë™ ì„¤ì •ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•˜ë ¤ë©´ ì´ ë°©ë²•ì„ ì‚¬ìš©í•´ë„ ëœë‹¤ 

