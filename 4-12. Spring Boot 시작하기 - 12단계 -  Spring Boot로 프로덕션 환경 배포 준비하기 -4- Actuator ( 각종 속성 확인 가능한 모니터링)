
Monitor Application using Spring Boot Actuator
                                                                                                                                                                                                                                    
â— Monitor and manage your application in your production                                                                                                                                                                                                                                    
â— Provides a number of endpoints:                                                                                                                                                                                                                                    
 â–  beans - Complete list of Spring beans in your app                                                                                                                                                                                                                                    
 â–  health - Application health information                                                                                                                                                                                                                                    
 â–  metrics - Application metrics                                                                                                                                                                                                                                    
 â–  mappings - Details around Request Mappings                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                    
                                                                                                                                                                                                                          
                                                                                                                                                                                                                                    

ì´ë²ˆì—ëŠ” í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë˜ ë‹¤ë¥¸ ì¤‘ìš” ê¸°ëŠ¥ì¸ ëª¨ë‹ˆí„°ë§ì„ ì•Œì•„ë³´ì
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì–´ë–¤ ì¼ì´ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë‹¤ 
ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” Spring Boot ê¸°ëŠ¥ì´ Spring Boot Actuatorì´ë‹¤ 

â— Monitor and manage your application in your production
ì´ë¥¼ í†µí•´ í”„ë¡œë•ì…˜ ë‹¨ê³„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ 
â— Provides a number of endpoints:
Spring Boot ActuatorëŠ” ì—¬ëŸ¬ ê°œì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œê³µí•œë‹¤ 
 â–  beans - Complete list of Spring beans in your app   
ì• í”Œë¦¬ì¼€ì´ì…˜ì— í¬í•¨ëœ ëª¨ë“  Spring beansë¥¼ ì´ beans ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆë‹¤
 â–  health - Application health information  
health ì—”ë“œ í¬ì¸íŠ¸ë¡œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ ë³´ëŠ” ê²ƒì´ healthì´ë‹¤
 â–  metrics - Application metrics     
ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê´€ë ¨ëœ ì—¬ëŸ¬ ê°€ì§€ metricsë„ ì œê³µëœë‹¤, metrics ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê³  
 â–  mappings - Details around Request Mappings    
ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì„¤ì •ëœ ëª¨ë“  ìš”ì²­ ë§¤í•‘ ê´€ë ¨ ì„¸ë¶€ ì‚¬í•­ì„ í™•ì¸í•˜ë ¤ë©´ mappings ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤

Spring Boot Actuatorì—ì„œ ë…¸ì¶œí•˜ëŠ” ë‹¤ë¥¸ ì—”ë“œí¬ì¸íŠ¸ë„ ë§ì€ë° ì—¬ê¸°ì—ëŠ” ëª‡ ê°€ì§€ ì„ ë³„í•´ì„œ í‘œì‹œí–ˆë‹¤
ê·¸ëŸ¼ Spring Boot ActuatorëŠ” ì–´ë–»ê²Œ ì‚¬ìš©í• ê¹Œ?
ëŠ˜ ê·¸ë¬ë“¯ ì•„ì£¼ ì‰½ë‹¤ 

pom.xmlë¡œ ê°€ë³´ì
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

ì´ê²ƒì„ ë³µì‚¬í•˜ê³  spring-boot-starter-actuatorë¡œ ë³€ê²½í•œí›„ ì €ì¥í•œë‹¤
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-actuator</artifactId>            <=== ìƒì„±
		</dependency>

ë‹¤ìš´ë¡œë“œê°€ ëë‚˜ë©´ ì´ì œ ìœ„ë¡œ ì´ë™í•˜ì—¬ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤
ìƒë‹¨ì˜ ì‹¤í–‰ë²„íŠ¼ì—ì„œ LearnSpringBootApplicationì„ ì„ íƒí•˜ì—¬ ì‹¤í–‰í•´ ë³´ê² ë‹¤
...
...
2024-04-01T19:47:27.060+09:00[0;39m [32mDEBUG[0;39m [35m8544[0;39m [2m---[0;39m [2m[learn-spring-boot] [  restartedMain][0;39m [2m[0;39m[36mo.s.b.a.ApplicationAvailabilityBean     [0;39m [2m:[0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ ì‹¤í–‰ë˜ê³  ìˆë‹¤ 
ê·¸ë¦¬ê³  ë¸Œë¼ìš°ì €ë¡œ ì´ë™í•˜ì—¬ URL localhost:8080/actuatorë¥¼ ì…ë ¥í•´ ë³´ê² ë‹¤

{
  "_links": {
    "self": {
      "href": "http://localhost:8080/actuator",
      "templated": false
    },
    "health": {
      "href": "http://localhost:8080/actuator/health",
      "templated": false
    },
    "health-path": {
      "href": "http://localhost:8080/actuator/health/{*path}",
      "templated": true
    }
  }
}

JSONì‘ë‹µì´ ì´ì™€ ê°™ì´ í‘œì‹œëœë‹¤ í˜„ì¬ URLë¡œ ì—°ê²°ë˜ëŠ” self ë§í¬ê°€ ìˆê³  health URLë¡œ ì—°ê²°ë˜ëŠ” health ë§í¬ê°€ ìˆë‹¤
health URL http://localhost:8080/actuator/healthë¥¼ í´ë¦­í•˜ë©´
{
"status": "UP"
}
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœê°€ í‘œì‹œëœë‹¤
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœëŠ” í˜„ì¬ 'UP'ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤ 
ê¸°ë³¸ì ìœ¼ë¡œ Actuatorë¥¼ ì‹¤í–‰í•˜ë©´ health ì—”ë“œí¬ì¸íŠ¸ë§Œ ë…¸ì¶œí•œë‹¤ 
Actuatorì˜ ë” ë§ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ application.propertiesì—ì„œ ê¸°ëŠ¥ì„ ì‚¬ìš© ì„¤ì •í•´ì•¼ í•œë‹¤

----------------------------------------------------------------------------------------------------------------------

âº application.properties íŒŒì¼

logging.level.org.springframework=debug
spring.profiles.active=dev

currency-service.url=http://default1.in28minutes.com
currency-service.username=defaultusername
currency-service.key=defaultkey

#application.propertiesë¡œ ì´ë™í•˜ì—¬, ì¶”ê°€ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•œë‹¤ 
#management.endponints.web.exposure.include=*
#ì´ë ‡ê²Œí•˜ë©´ Actuatorì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ê°€ ë…¸ì¶œëœë‹¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

management.endponints.web.exposure.include=*

----------------------------------------------------------------------------------------------------------------------

ì´ì œ ë‹¤ì‹œ URLë¡œ ì™€ì„œ Actuator URLì„ ìƒˆë¡œ ê³ ì¹¨í•œë‹¤, 

{
  "_links": {
  "self": {
    "href": "http://localhost:8080/actuator",
    "templated": false
  },
  "beans": {
    "href": "http://localhost:8080/actuator/beans",
    "templated": false
  },
  "caches-cache": {
    "href": "http://localhost:8080/actuator/caches/{cache}",
    "templated": true
  },
  "caches": {
    "href": "http://localhost:8080/actuator/caches",
    "templated": false
  },
  "health": {
    "href": "http://localhost:8080/actuator/health",
    "templated": false
  },
  "health-path": {
    "href": "http://localhost:8080/actuator/health/{*path}",
    "templated": true
  },
  "info": {
    "href": "http://localhost:8080/actuator/info",
    "templated": false
  },
  "conditions": {
    "href": "http://localhost:8080/actuator/conditions",
    "templated": false
  },
  "configprops": {
    "href": "http://localhost:8080/actuator/configprops",
    "templated": false
  },
  "configprops-prefix": {
    "href": "http://localhost:8080/actuator/configprops/{prefix}",
    "templated": true
  },
  "env": {
    "href": "http://localhost:8080/actuator/env",
    "templated": false
  },
  "env-toMatch": {
    "href": "http://localhost:8080/actuator/env/{toMatch}",
    "templated": true
  },
  "loggers": {
    "href": "http://localhost:8080/actuator/loggers",
    "templated": false
  },
  "loggers-name": {
    "href": "http://localhost:8080/actuator/loggers/{name}",
    "templated": true
  },
  "heapdump": {
    "href": "http://localhost:8080/actuator/heapdump",
    "templated": false
  },
  "threaddump": {
    "href": "http://localhost:8080/actuator/threaddump",
    "templated": false
  },
  "metrics-requiredMetricName": {
    "href": "http://localhost:8080/actuator/metrics/{requiredMetricName}",
    "templated": true
  },
  "metrics": {
    "href": "http://localhost:8080/actuator/metrics",
    "templated": false
  },
  "sbom": {
    "href": "http://localhost:8080/actuator/sbom",
    "templated": false
  },
  "sbom-id": {
    "href": "http://localhost:8080/actuator/sbom/{id}",
    "templated": true
  },
  "scheduledtasks": {
    "href": "http://localhost:8080/actuator/scheduledtasks",
    "templated": false
  },
  "mappings": {
    "href": "http://localhost:8080/actuator/mappings",
    "templated": false
  }
  }
}

localhost:8080/actuatorë¥¼ ìƒˆë¡œê³ ì¹¨ í–ˆë‹¤, ì´ì œ ì—”ë“œí¬ì¸íŠ¸ê°€ ë§ì´ í‘œì‹œë˜ì–´ ìˆë‹¤ .
ì—¬ê¸° í‘œì‹œëœ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ëª¨ë‘ ì•Œì•„ì•¼ í•  í•„ìš”ëŠ” ì—†ë‹¤ 


ì¤‘ìš”í•œ ëª‡ ê°€ì§€ë§Œ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ë‹¤ 
Spring Boot Actuator beansë¥¼ ë³´ë©´ ë¡œë“œëœ ëª¨ë“  Spring beansê°€ í‘œì‹œëœë‹¤ 

{
"contexts": {
"learn-spring-boot": {
"beans": {
"endpointCachingOperationInvokerAdvisor": {
"aliases": [],
"scope": "singleton",
"type": "org.springframework.boot.actuate.endpoint.invoker.cache.CachingOperationInvokerAdvisor",
"resource": "class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/EndpointAutoConfiguration.class]",
"dependencies": [
"org.springframework.boot.actuate.autoconfigure.endpoint.EndpointAutoConfiguration",
"environment"
]
},

....
.....

"courseController2": {
"aliases": [],
"scope": "singleton",
"type": "com.springstudy.springboot.learnspringboot.CourseController2",
"resource": "file [C:\\Users\\LG\\Downloads\\learn-spring-boot\\learn-spring-boot\\target\\classes\\com\\springstudy\\springboot\\learnspringboot\\CourseController2.class]",
"dependencies": []
},
ì•ì„œ courseë¦¬ì†ŒìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤ 
ì•ì„œ courseControllerë¥¼ ë§Œë“¤ì—ˆë‹¤ ì´ì— ëŒ€í•œ beanì´ ìˆë‹¤

"org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration": {
"aliases": [],
"scope": "singleton",
"type": "org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration",
"dependencies": []
},
"preserveErrorControllerTargetClassPostProcessor": {
"aliases": [],
"scope": "singleton",
"type": "org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration$PreserveErrorControllerTargetClassPostProcessor",
"resource": "class path resource [org/springframework/boot/autoconfigure/web/servlet/error/ErrorMvcAutoConfiguration.class]",
"dependencies": []
},
DispatcherServletì— ëŒ€í•œ beanë„ ìˆê³  ErrorMVCì„¤ì •ì— ê´€í•œ beanë„ ìˆë‹¤ 
ë”°ë¼ì„œ ìë™ ì„¤ì •ëœ ëª¨ë“  ê²ƒì— ëŒ€í•´ì„œëŠ” ì—¬ê¸° í‘œì‹œëœ beanì„ í™•ì¸í•˜ë©´ ëœë‹¤ 
íŠ¹ì • í•­ëª©ì´ ìë™ ì„¤ì •ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•˜ë ¤ë©´ ì´ ë°©ë²•ì„ ì‚¬ìš©í•´ë„ ëœë‹¤ 

ì§€ê¸ˆê¹Œì§€ localhost:8080:/actuator/beansë¥¼ í™•ì¸í–ˆë‹¤ ì´ì œ ë‹«ê³  
healthëŠ” ì´ë¯¸ í™•ì¸í–ˆì§€? healthëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë…¸ì¶œë˜ë¯€ë¡œ í•­ìƒ í‘œì‹œëœë‹¤

ë‹¤ìŒ ì‚´í´ë³¼ ì—”ë“œí¬ì¸íŠ¸ëŠ” configpropsë¡œ, ì£¼ì†ŒëŠ” localhost:8080/actuator/configpropsì´ë‹¤
ì—´ì–´ ë³´ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ application.propertiesì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ëª¨ë“  í•­ëª©ì´ í‘œì‹œëœë‹¤
ì´ ê°•ì˜ ì½”ìŠ¤ì—ì„œ ë§Œë“  í•­ëª©ë„ í‘œì‹œë˜ëŠ”ë°

"currencyServiceConfiguration": {
  "prefix": "currency-service",
  "properties": {
    "url": "******",
    "key": "******",
    "username": "******"
  },
  "inputs": {
      "url": {
      "value": "******",
      "origin": "class path resource [application-dev.properties] - 3:22"
    },
      "key": {
      "value": "******",
      "origin": "class path resource [application-dev.properties] - 5:22"
    },
      "username": {
      "value": "******",
      "origin": "class path resource [application-dev.properties] - 4:27"
    }
  }
},

currencyServiceConfigurationë¥¼ ë§Œë“¤ì—ˆì—ˆë‹¤, ë”°ë¼ì„œ currencyServiceì˜ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤
"prefix": "currency-service",
  "properties": {
    "url": "******",
    "key": "******",
    "username": "******"
ì„¤ì • ë°©ë²•ì€ currency-service.url, currency-service.key, currency-service.usernameì„ ì‚¬ìš©í•œë‹¤
ì—¬ê¸° í‘œì‹œëœ ê°’ì´ í˜„ì¬ ê°’ì´ë‹¤ ê°’ dev.in28minutes.comì€ application=dev.propertiesì—ì„œ ì‚¬ìš©í•œë‹¤
ì´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë‹¤ë¥¸ ê°’ë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤


/actuatorì—ì„œ envë¡œ ì´ë™í•˜ë©´ env ì—”ë“œ í¬ì¸íŠ¸ê°€ í‘œì‹œëœë‹¤
env ì—”ë“œí¬ì¸íŠ¸ëŠ” í™˜ê²½ì— ê´€í•œ ì„¸ë¶€ ì‚¬í•­ì„ ëª¨ë‘ í‘œì‹œí•œë‹¤ 

"propertySources": [
{
    "name": "server.ports",
      "properties": {
      "local.server.port": {
      "value": "8080"
      }
  }
},
8080í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  

"name": "systemProperties",
"properties": {
  "java.specification.version": {
  "value": "17"
},
"sun.jnu.encoding": {
  "value": "******"
},
  "java.class.path": {
  "value": "******"
},
ìë°” 17ì„ ì‚¬ìš©í•œë‹¤ ì‚¬ìš©ì¤‘ì¸ ì¸ì½”ë”©ë„ í‘œì‹œë˜ë©° 
ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì„¤ì •ëœ í´ë˜ìŠ¤ ê²½ë¡œë„ í‘œì‹œëœë‹¤, ë˜í•œ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì— ê´€í•œ ë§ì€ ì„¸ë¶€ ì‚¬í•­ì´ ì—¬ê¸°ì— í‘œì‹œëœë‹¤
ìë°”, JVM, Tomcatì— ê´€í•œ ì •ë³´ ë“± ëª¨ë“  ì‚¬í•­ì´ ì—¬ê¸°ì— í‘œì‹œëœë‹¤


ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚´í´ë³¼ ê²ƒì€ metricsì´ë‹¤
ì—´ì–´ë³´ë©´ ë°˜í™˜ëœ metrics ëª©ë¡ì´ í‘œì‹œëœë‹¤ 

{
  "names": [
  "application.ready.time",
  "application.started.time",
  "disk.free",
  "disk.total",
  "executor.active",
  "executor.completed",
  "executor.pool.core",
  "executor.pool.max",
  "executor.pool.size",
  "executor.queue.remaining",
  "executor.queued",
  "http.server.requests",
  "http.server.requests.active",
  "jvm.buffer.count",
  "jvm.buffer.memory.used",
  "jvm.buffer.total.capacity",
  "jvm.classes.loaded",
  "jvm.classes.unloaded",
  "jvm.compilation.time",
  "jvm.gc.live.data.size",
  "jvm.gc.max.data.size",
  "jvm.gc.memory.allocated",
  "jvm.gc.memory.promoted",
  "jvm.gc.overhead",
  "jvm.gc.pause",
  "jvm.info",
  "jvm.memory.committed",
  "jvm.memory.max",
  "jvm.memory.usage.after.gc",
  "jvm.memory.used",
  "jvm.threads.daemon",
  "jvm.threads.live",
  "jvm.threads.peak",
  "jvm.threads.started",
  "jvm.threads.states",
  "logback.events",
  "process.cpu.time",
  "process.cpu.usage",
  "process.start.time",
  "process.uptime",
  "system.cpu.count",
  "system.cpu.usage",
  "tomcat.sessions.active.current",
  "tomcat.sessions.active.max",
  "tomcat.sessions.alive.max",
  "tomcat.sessions.created",
  "tomcat.sessions.expired",
  "tomcat.sessions.rejected"
  ]
}
 "application.started.time",ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œê°„ "disk.free", ë””ìŠ¤í¬ ì—¬ìœ  ê³µê°„ "disk.total", ì´ê³µê°„ì´ í‘œì‹œë˜ê³ 
  "executor.pool.core", "executor.pool.max", "executor.pool.size", í’€ì— ê´€í•œ metricë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤
 "jvm.buffer.count",.... ë˜í•œ JVM ê´€ë ¨ matricsë„ ì—¬ëŸ¬ ê°œ í‘œì‹œëœë‹¤
  "http.server.requests",ë¼ëŠ” íŠ¹ì • metricë¥¼ ì‚´í´ ë³´ê² ë‹¤ ë³µì‚¬í•´ì„œ /  "http.server.requests",ë¥¼ ë¶™ì—¬ë„£ëŠ”ë‹¤

ê·¸ëŸ¬ë©´ http.server.requestsì— ê´€í•œ ëª¨ë“  metricsê°€ í‘œì‹œëœë‹¤

  "name": "http.server.requests",
  "baseUnit": "seconds",
  "measurements": [
    {
      "statistic": "COUNT",
      "value": 5
    },
    {
      "statistic": "TOTAL_TIME",
      "value": 0.1927512
    },
    {
      "statistic": "MAX",
      "value": 0
    }
],
ì¶©ë¶„í•˜ê²Œ í‘œì‹œëœë‹¤ ìš”ì²­ê°œìˆ˜ëŠ” 5ì´ê³ , ì´ëŸ¬í•œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì´ ì‹¤í–‰ ì‹œê°„ì€ 0.1927512ì´ë©°, ìš”ì²­ ì²˜ë¦¬í•˜ëŠ” ìµœëŒ€ ì‹œê°„ì€ 0ì´ë‹¤

ì´ì œ ë‹¤ì‹œ actuatorë¡œ ê°€ì, ì´ URL í˜ì´ì§€ë¥¼ ì—´ ë²ˆ ì •ë„ ìƒˆë¡œ ê³ ì¹¨ í•œë‹¤ ê·¸ë¦¬ê³  ë‹¤ì‹œ http://localhost:8080/actuator/metrics/http.server.requests íŠ¹ì • metricsë¡œ ë“¤ì–´ì˜¨ë‹¤
  "name": "http.server.requests",
  "baseUnit": "seconds",
  "measurements": [
    {
      "statistic": "COUNT",
      "value": 22
    },
    {
      "statistic": "TOTAL_TIME",
      "value": 0.2520088
    },
    {
      "statistic": "MAX",
      "value": 0.004971
    }
],
ê·¸ëŸ¬ë©´ ìš”ì²­ ê°œìˆ˜ê°€ ì¦ê°€í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ (22)
ë”°ë¼ì„œ ì´ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì˜ íšŸìˆ˜ë¥¼ ì¶”ì í•˜ëŠ” ê²ƒì´ë‹¤


ì‹¤ì œë¡œ ì´ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì— ê´€í•œ ë§ì€ ì •ë³´ë¥¼ ì œê³µí•œë‹¤ 
ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê´€í•œ ì—¬ëŸ¬ ê°€ì§€ metricsë¥¼ ì–»ì„ ìˆ˜ ìˆê³  
ìë°” ëŸ°íƒ€ì„ ë˜ëŠ” JVMê³¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” Tomcatì„œë²„ì— ê´€í•œ metricsë„ ë‹¤ì–‘í•˜ê²Œ ì–»ì„ ìˆ˜ ìˆë‹¤

Actuatorì— ê´€í•´ ê¸°ì–µí•´ì•¼ í•  ì¤‘ìš”í•œ í•œ ê°€ì§€ëŠ” ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš© ì„¤ì •í•˜ë©´ 
í•´ë‹¹ ì •ë³´ë¥¼ ìˆ˜ì§‘í•œë‹¤ëŠ” ê²ƒì´ê³  ì •ë³´ë¥¼ ë§ì´ ìˆ˜ì§‘í•˜ë©´ CPUì™€ ë©”ëª¨ë¦¬ê°€ ë§ì´ ì‚¬ìš©ëœë‹¤ëŠ” ì ì´ë‹¤
ì¼ë°˜ì ìœ¼ë¡œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í¬í•¨í•˜ë ¤ë©´ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤ 

-------------------------------------------------------------------------------------------------------------

âº application.properties íŒŒì¼

logging.level.org.springframework=debug
spring.profiles.active=dev

currency-service.url=http://default1.in28minutes.com
currency-service.username=defaultusername
currency-service.key=defaultkey

#ì˜ˆë¥¼ ë“¤ì–´ health, metricsë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë° ì´ê²ƒì´ ì‚¬ìš©í•˜ëŠ” ìœ ì¼í•œ ì—”ë“œí¬ì¸íŠ¸ë¼ê³  ì˜ˆë¥¼ ë“¤ì–´ë³´ì.. ì´ê²ƒì„ ì‚¬ìš© ì„¤ì •
management.endpoints.web.exposure.include=health,metrics

-------------------------------------------------------------------------------------------------------------

actuatorë¡œ ë‹¤ì‹œ ì˜¤ë©´ ì´ëŸ¬í•œ ì—”ë“œí¬ì¸íŠ¸ë§Œ í˜„ì¬ ë…¸ì¶œë˜ì–´ ìˆë‹¤

{
  "_links": {
    "self": {
    "href": "http://localhost:8080/actuator",
    "templated": false
  },
    "health": {
    "href": "http://localhost:8080/actuator/health",
    "templated": false
  },
    "health-path": {
    "href": "http://localhost:8080/actuator/health/{*path}",
    "templated": true
  },
    "metrics-requiredMetricName": {
    "href": "http://localhost:8080/actuator/metrics/{requiredMetricName}",
    "templated": true
  },
    "metrics": {
    "href": "http://localhost:8080/actuator/metrics",
    "templated": false
  }
  }
}

healthì™€ metricsì´ë‹¤






ì´ ë‹¨ê³„ì—ì„  í”„ë¡œë•ì…˜ í™˜ê²½ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´¤ë‹¤ 
ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Spring Boot ê¸°ëŠ¥ì€ Spring Boot Actuatorì´ë‹¤
