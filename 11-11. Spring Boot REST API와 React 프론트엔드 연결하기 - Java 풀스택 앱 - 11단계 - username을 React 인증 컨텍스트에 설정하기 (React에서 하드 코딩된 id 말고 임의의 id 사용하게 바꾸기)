

ì§€ë‚œ ëª‡ ë‹¨ê³„ì—ì„œëŠ” ê³³ê³³ì— 
----------------------------------
    function refreshTodos() {
    retrieveAllTodosForUsernameApi('in28minutes')
        .then(response => {
            setTodos(response.data)
            }
        )
        .catch(error => console.log(error))
    }    

    function deleteTodo(id) {
        console.log('clicked ' + id);
        deleteTodoApi('in28minutes', id)
        .then(
----------------------------------
in28minutesë¥¼ í•˜ë“œì½”ë”©í–ˆì§€
ê·¸ê±´ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤ 
ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ìš°ë¦¬ëŠ” ì…ë ¥ëœ ì‚¬ìš©ì IDì¸ in28minutesë¥¼ ë°›ê³  
--------------------------------------------------------------------------------------------

ğŸŒ http://localhost:3000/ ì‚¬ì´íŠ¸í™”ë©´ ==>


          in28minutes                                                        Login   
     ___________________________________________________________________________________

                                          Time to Login!
                     
                                               _________________
                                  User Name:  |in28minutes      | 
                                               â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                                              __________________
                                  Password:  |â—â—â—â—â—             |
                                              â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                                              _______
                                             | login |  
                                              â€¾â€¾â€¾â€¾â€¾â€¾â€¾

-------------------------------------------------------------------------------------------
ê·¸ëŸ¼ ìš°ë¦¬ëŠ” ì´ ì‚¬ìš©ì IDë¥¼ ì»¨í…ìŠ¤íŠ¸ì— ë„£ì–´ì„œ API í˜¸ì¶œì„ í•  ë•Œ ì–¸ì œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆì§€
ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ê·¸ ë¶€ë¶„ì„ ì‚´í´ë³´ë ¤ê³  í•œë‹¤ 

ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ usernameì„ ì¡ì„ ê±°ê³ , ê·¸ê±¸ ì»¨í…ìŠ¤íŠ¸ì— ë„£ì–´ì„œ 
API í˜¸ì¶œì„ í•˜ê±°ë‚˜ ë‚˜ì¤‘ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ usernameì„ ì‚¬ìš©í•˜ë ¤ëŠ” ê³³ì—ì„œ ì–¸ì œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆì§€
ê·¸ê±¸ ì‹œì‘í•´ ë³´ê² ë‹¤


ê·¸ëŸ¼ ìš°ë¦¬ ì»¨í…ìŠ¤íŠ¸ë¡œ ê°ˆ ê±°ê³  AuthContext.jsë¡œ ê°€ì„œ ì»¨í…ìŠ¤íŠ¸ì— ë‹¤ë¥¸ ê±¸ ì¶”ê°€í•˜ë ¤ê³  í•œë‹¤
ìš°ë¦° usernameì„ ì¶”ê°€í•˜ë ¤ í•˜ê³  

----------------------------------------------------------------------------------------------------------------------

âº vsc


âº AuthContext.js



import { createContext, useContext, useState } from "react";

// Create a Context
export const AuthContext = createContext()

export const useAuth = () => useContext(AuthContext)


// Share the created context with other components
export default function AuthProvider({ children }) {

    //3: Put some state in the context
    const [isAuthenticated, setAuthenticated] = useState(false)

    //1: ê·¸ëŸ¼ usernameì´ë¼ê³  í•˜ê³  ë©”ì„œë“œëŠ” setUsernameì´ ë  ê²ƒì´ë‹¤, ê·¸ë¦¬ê³  ê¸°ë³¸ê°’ìœ¼ë¡œì„œ null ê°’ì„ ê°–ê²Œ ë  ê²ƒì´ë‹¤, ì´ê±´ ê´œì°®ì•„ë³´ì´ê³  
    //ì§€ê¸ˆ ìš°ë¦° ìƒíƒœì— ê·¸ê±¸ ê°–ê³ ìˆê³  usernameê°’ì„ ëª¨ë“  ì‚¬ëŒì—ê²Œ ë…¸ì¶œí•˜ë ¤ê³  í•œë‹¤ //1-1: ì•„ë˜ returnìœ¼ë¡œ..
    const [username, setUsername] = useState(null)

    function login(username, password) {

        if(username === 'in28minutes' && password === 'dummy') {
            setAuthenticated(true)
            return true
        }else {
            setAuthenticated(false)
            return false
        }
    }

    function logout() {
        setAuthenticated(false)
    }

    return (
                                          //1-1: ê·¸ëŸ¼ ì—¬ê¸°ì— usernameì„ ë„£ì–´ì¤€ë‹¤ 
        <AuthContext.Provider value={ { isAuthenticated, login, logout, username} }>
            {children}
        </AuthContext.Provider>
    )
}

----------------------------------------------------------------------------------------------------------------------

ì´ë ‡ê²Œ ìš°ë¦¬ëŠ” ë…¸ì¶œë˜ëŠ” ê°’ì— usernameì„ ì¶”ê°€í–ˆê³ , ê·¸ë¦¬ê³  ìš°ë¦° ì–´ë””ì— usernameì„ ì„¤ì •í•˜ì§€?
ë¡œê·¸ì¸ ë‹¹ì‹œì— LoginComponentëŠ” usernameê³¼ passwordë¡œ login()ì˜ authContextë¥¼ í˜¸ì¶œí•˜ê³ 
----------------------------------------------------------------------------------------------------------------------

âº LoginComponent.jsx



import { useState } from 'react'
import {useNavigate} from 'react-router-dom'
import { useAuth } from './security/AuthContext'


function LoginComponent() {

    const [username, setUsername] = useState('in28minutes')
    const [password, setPassword] = useState('')
    const [showErrorMessage, setShowErrorMessage] = useState(false)
    const navigate = useNavigate();

    const authContext = useAuth()

    function handleUsernameChange(event) {
        setUsername(event.target.value);
    }

    function handlePasswordChange(event) {
        setPassword(event.target.value);
    }

    function handleSubmit() {

        if(authContext.login(username, password)) {
            navigate(`/welcome/${username}`)
        }else {
            setShowErrorMessage(true)
        }
    }
    
...
export default LoginComponent
----------------------------------------------------------------------------------------------------------------------
ê·¸ëŸ¼ AuthContext.jsì˜
----------------------------------------
    function login(username, password) {

        if(username === 'in28minutes' && password === 'dummy') {
            setAuthenticated(true)
            return true
        }else {
            setAuthenticated(false)
            return false
        }
    }
----------------------------------------
ì´ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤

ê·¸ë¦¬ê³  ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´ ìš°ë¦¬ëŠ” usernameì„ ì„¤ì •í•˜ë ¤ê³  í•œë‹¤

----------------------------------------------------------------------------------------------------------------------

âº vsc


âº AuthContext.js



import { createContext, useContext, useState } from "react";

// Create a Context
export const AuthContext = createContext()

export const useAuth = () => useContext(AuthContext)


// Share the created context with other components
export default function AuthProvider({ children }) {

    // Put some state in the context
    const [isAuthenticated, setAuthenticated] = useState(false)

    const [username, setUsername] = useState(null)

    function login(username, password) {

        if(username === 'in28minutes' && password === 'dummy') {
            setAuthenticated(true)

            //2: ê·¸ëŸ¼ setUsername()ì´ë¼ê³  í•˜ê³  usernameì„ ë„£ì–´ì„œ ì‚¬ìš©ì ì´ë¦„ì„ ì„¤ì •í•˜ë ¤ í•œë‹¤, ì´ usernameì´ë¼ëŠ” ì¸ìˆ˜ê°€ ë“¤ì–´ê°€ì§€
            //ê·¸ëŸ¼ ì‚¬ìš©ìë¡œë¶€í„° usernameì„ ë°›ìœ¼ë©´ ìš°ë¦° ê·¸ê±¸ ì»¨í…ìŠ¤íŠ¸ì— ì„¤ì •í•œë‹¤
            setUsername(username)
  
            return true
        }else {
            setAuthenticated(false)

            //2-1: ê·¸ë¦¬ê³  ë§Œì¼ ì˜¤ë¥˜ê°€ ë‚˜ë©´ ìš°ë¦° username()ì„ nullë¡œ ì„¤ì •í• ê²ƒì´ë‹¤, ì˜ ëœ ê²ƒ ê°™ê³  
            setUsername(null)
            return false
        }
    }

    function logout() {
        setAuthenticated(false)
    }

    return (
        <AuthContext.Provider value={ { isAuthenticated, login, logout} }>
            {children}
        </AuthContext.Provider>
    )
}

----------------------------------------------------------------------------------------------------------------------

ì´ë ‡ê²Œ ìš°ë¦¬ëŠ” usernameì„ ì»¨í…ìŠ¤íŠ¸ì— ì„¤ì •í–ˆê³ 
ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ë³¼ê¹Œ? Componentë¡œ ê°€ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•´ë³´ì
ìƒˆë¡œê³ ì¹¨ ëœ í›„ì— ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë³¼ ìˆ˜ ìˆê³ 
ê·¸ë¦¬ê³  Context.Providerë¥¼ ëˆŒëŸ¬ë³´ë©´
                                            |
                                            V
--------------------------------------------------------------------------------------------

ğŸŒ http://localhost:3000/ ì‚¬ì´íŠ¸í™”ë©´ ==>


          in28minutes                                                        Login   
     ___________________________________________________________________________________

                                          Time to Login!
                     
                                               _________________
                                  User Name:  |in28minutes      | 
                                               â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                                              __________________
                                  Password:  |â—â—â—â—â—             |
                                              â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
                                              _______
                                             | login |  
                                              â€¾â€¾â€¾â€¾â€¾â€¾â€¾

-------------------------------------------------------------------------------------------
  Elements  âš› Component  >>                                                       ğŸ”…  â  x
            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
-------------------------------------------------------------------------------------------
  â†–  |  ğŸ”  Search (text or /regex/)                                               |  ğŸ”…
â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
  â–¼ App
    â–¼ TodoApp
     â–¼ AuthProvider
      â–¼ Context.Provider
       â–¼ BrowserRouter
        â–¼ Router
         â–¼ Navigation.Provider
          â–¼ Location.Provider
           â–¼ HeaderComponent
              Link
              Link
              Link
              Link
           â–¼ Routes
            â–¼ RenderedRoute
             â–¼ Route.Provider
              â–¼ AuthencatedRoute
                â–¼ WelcomeComponent
                    Link
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------

Context.Provider                  â±  ğŸ‘  ğŸ  <>
â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
props
â–¶ children:{$$typeof: Symbol(react.element), _owner: FiberNodeâ€¦}
â–¼ value: {isAuthenticated: false, login: Æ’ login() {}, logoutâ€¦}
  isAuthenticated: false
  login: Æ’ login() {}
  logout: Æ’ logout() {}
  username : null
  new entry : ""
  new entry: ""
â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
rendered by
  AuthProvider
  TodoApp
  App
  createRoot()
  react-dom@18.3.1

-------------------------------------------------------------------------------------------

isAuthenticatedê°€ falseì¸ ê±¸ ì•Œ ìˆ˜ ìˆë‹¤
ê·¸ë¦¬ê³  ë³´ëŠ” ê²ƒì²˜ëŸ¼ usernameì´ nullì´ë‹¤ 
valueë¥¼ í™•ì¥í•´ë³´ë©´ usernameì´ nullì¸ê±¸ ë³¼ ìˆ˜ ìˆì§€



ë¡œê·¸ì¸ì„ í•˜ë©´?

                                            |
                                            V
--------------------------------------------------------------------------------------------

ğŸŒ http://localhost:3000/ ì‚¬ì´íŠ¸í™”ë©´ ==>


          in28minutes  Home  Todos                                           Logout   
     ___________________________________________________________________________________

                                    Welcome in28minutes 
                                      
                                Manage Your todos - Go here
                                    __________________
                                   | Call Hello World |  
                                    â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
-------------------------------------------------------------------------------------------
  Elements  âš› Component  >>                                                       ğŸ”…  â  x
            â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
-------------------------------------------------------------------------------------------
  â†–  |  ğŸ”  Search (text or /regex/)                                               |  ğŸ”…
â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
  â–¼ App
    â–¼ TodoApp
     â–¼ AuthProvider
      â–¼ Context.Provider
       â–¼ BrowserRouter
        â–¼ Router
         â–¼ Navigation.Provider
          â–¼ Location.Provider
           â–¼ HeaderComponent
              Link
              Link
              Link
              Link
           â–¼ Routes
            â–¼ RenderedRoute
             â–¼ Route.Provider
              â–¼ AuthencatedRoute
                â–¼ WelcomeComponent
                    Link
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------

Context.Provider                  â±  ğŸ‘  ğŸ  <>
â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
props
â–¶ children:{$$typeof: Symbol(react.element), _owner: FiberNodeâ€¦}
â–¼ value: {isAuthenticated: true, login: Æ’ login() {}, logoutâ€¦}
  isAuthenticated: false
  login: Æ’ login() {}
  logout: Æ’ logout() {}
  username : "in28minutes"
  new entry : ""
  new entry: ""
â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
rendered by
  AuthProvider
  TodoApp
  App
  createRoot()
  react-dom@18.3.1

-------------------------------------------------------------------------------------------

ì´ë ‡ê²Œ usernameì´ in28minutesë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ” ê±¸ ë³¼ ìˆ˜ ìˆë‹¤ 
ê·¸ë¦¬ê³  ì´ì œ ìš°ë¦¬ê°€ in28minutesë¡œ í•˜ë“œì½”ë”©í•œ ê³³ì—ì„  ëª¨ë‘ ì»¨í…ìŠ¤íŠ¸ë¡œë¶€í„° ê°’ì„ ì¡ì„ ìˆ˜ ìˆë‹¤
