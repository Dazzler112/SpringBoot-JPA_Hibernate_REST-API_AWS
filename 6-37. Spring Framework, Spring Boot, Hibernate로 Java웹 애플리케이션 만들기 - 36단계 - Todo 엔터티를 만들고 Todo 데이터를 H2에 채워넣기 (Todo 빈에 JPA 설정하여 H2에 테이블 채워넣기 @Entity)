

ìš°ë¦° Todo Beanì´ ìˆëŠ”ë° 
ê·¸ëŸ¼ DBì— Todoí…Œì´ë¸”ì´ ìˆë‹¤ê³  í•´ë³´ì

//JPA
// Bean -> Database

JAPë¥¼ ì‚¬ìš©í•˜ë©´ Beanì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë§¤í•‘í•  ìˆ˜ ìˆë‹¤
@Entitiyë¼ëŠ” ê°„ë‹¨í•œ ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´ ê·¸ë ‡ê²Œ í•  ìˆ˜ ìˆë‹¤

----------------------------------------------------------------------------------------------------------------------



âº Todo í´ë˜ìŠ¤íŒŒì¼



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//1: Todoê°€ ì—”í„°í‹°ë¼ê³  í•´ì£¼ë©´ ì´ Beanì´ DBí…Œì´ë¸”ì— ë§¤í•‘ëœë‹¤, ê·¸ëŸ¼ @Entitiyë¼ê³  ì…ë ¥í•˜ê³  Ctrl+1ì„ ëˆŒëŸ¬ì„œ jakarta.persistenceë¥¼ ì„í¬íŠ¸í•´ë³´ì, ê·¸ëŸ¬ë©´ jakarta.persistence.Entityê°€ ì„í¬íŠ¸ëœ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤
//ì—”í„°í‹°ê°€ ìˆìœ¼ë©´ Idë„ ìˆì–´ì•¼ í•œë‹¤ ê·¸ëŸ¼ ë„ˆëŠ” ê¸°ë³¸ í‚¤ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤ //1-1: ì•„ë˜ë¡œ ì‘ì„±..
@Entity
public class Todo {

	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

//1-1: ê·¸ëŸ¼ @Idë¼ê³  ì…ë ¥í•˜ê³  ctrl+1ì„ ëˆŒëŸ¬ë³´ì, Import 'Id'(jakarta.persitence)ë¥¼ ì„ íƒí•œë‹¤ ê·¸ë ‡ê²Œí•˜ê³  
  @Id
//1-2: ìš°ë¦¬ëŠ” ì‹œí€€ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì´ê±¸ ìƒì„±í•˜ë ¤ê³  í•œë‹¤, ê·¸ëŸ¼ @GeneratedValueë¼ê³  í•´ì£¼ì, 
  @GeneratedValue
	private int id;
	private String username;
	
	@Size(min=10, message="Enter atleast 10 characters")
	private String description;
	private LocalDate targetDate;
	private boolean done;
	
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getDescription() {
		return description;
	}
	public void setDescription(String description) {
		this.description = description;
	}
	public LocalDate getTargetDate() {
		return targetDate;
	}
	public void setTargetDate(LocalDate targetDate) {
		this.targetDate = targetDate;
	}
	public boolean isDone() {
		return done;
	}
	public void setDone(boolean done) {
		this.done = done;
	}
	
	@Override
	public String toString() {
		return "Todo [id=" + id + ", username=" + username + ", description=" + description + ", targetDate="
				+ targetDate + ", done=" + done + "]";
	}

}

----------------------------------------------------------------------------------------------------------------------
ğŸ”µ ì‘ë™ ë°©ì‹ ì„¤ëª…
ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ë­˜ í•˜ëŠ”ì§€ ìƒê°í•´ë³´ì ìš°ë¦¬ëŠ” ì´ Todo Beanì„ DBì˜ í…Œì´ë¸”ì— ë§¤í•‘í•˜ê³  ìˆë‹¤
ê·¸ëŸ¬ë ¤ë©´ @Entityë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ EntityëŠ” Beanì„ DBí…Œì´ë¸”ì— ë§¤í•‘í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤
Spring Bootì˜ ìë™ ì„¤ì • ê¸°ëŠ¥ì´ ë†€ë¼ìš´ ê²ƒì€ ë§Œì¼ Entityê°€ ë°œê²¬ë˜ë©´ ìë™ìœ¼ë¡œ H2 í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ì‹œì‘í•œë‹¤ëŠ” ì ì´ë‹¤

ë„ˆê°€ pom.xmlì„ ë³´ë©´ ê±°ê¸° H2 DBê°€ ìˆë‹¤

		<dependency>
			<groupId>com.h2database</groupId>
			<artifactId>h2</artifactId>
			<scope>runtime</scope>
		</dependency>
ê·¸ë¦¬ê³  Spring BootëŠ” H2 DBë¥¼ ë°œê²¬í•˜ë©´ ì¦‰ì‹œ ê·¸ê±¸ ì‚¬ì „ì„¤ì •í•˜ê¸° ì‹œì‘í•œë‹¤
ê·¸ ì‚¬ì „ì„¤ì • ê³¼ì •ì—ì„œ Entityê°€ ë°œê²¬ë˜ë©´
@Entity
public class Todo {....
ê·¸ ì¦‰ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ì‹œì‘í•œë‹¤

ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ë³¼ê¹Œ?

ê·¸ëŸ¼ H2 ì½˜ì†”ë¡œ ê°€ì„œ
ìƒˆë¡œê³ ì¹¨ì„ í•´ë³´ì

ì¢Œì¸¡ì— ë³´ë©´ TODO í…Œì´ë¸”ì´ ìˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤

H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ì—¬ê¸°ì„œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ë³´ë©´, Spring Boot ìë™ ì„¤ì •ì´ í´ë˜ìŠ¤ ê²½ë¡œì—ì„œ 
H2 ë˜ëŠ” ì¸ë©”ëª¨ë¦¬ DBë¥¼ ë°œê²¬í•´ì„œ ëª¨ë“  ì—”í„°í‹°ì— ëŒ€í•´ ê³§ë°”ë¡œ í…Œì´ë¸”ì„ ìƒì„±í•œ ê²ƒì´ë‹¤
ë„ˆëŠ” ì›í•˜ëŠ” ëŒ€ë¡œ ì—”í„°í‹°ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤



ê°€ë ¹ ë„ˆê°€ ë§¤í•‘í•˜ë ¤ëŠ” í…Œì´ë¸”ì˜ ì´ë¦„ì´ Todoê°€ ì•„ë‹ˆê³  ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ ë§¤í•‘í•˜ë ¤ í•œë‹¤ê³  í•´ë³´ì

----------------------------------------------------------------------------------------------------------------------


âº Todo í´ë˜ìŠ¤íŒŒì¼



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//2: ê·¸ëŸ¼ ë„ˆëŠ” name="TodoABC"ë¼ê³  í•˜ê³  ì €ì¥í•œë‹¤, ì´ê±¸ ìƒˆë¡œê³ ì¹¨í•´ ë³´ì
@Entity(name = "TodoABC")
public class Todo {

	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

	@Id
	@GeneratedValue
	private int id;
	private String username;
..
...
}

----------------------------------------------------------------------------------------------------------------------
                                                              |
                                                              V
-------------------------------------------------------------------------
H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODOABC
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ê·¸ëŸ¼ í…Œì´ë¸” ì´ë¦„ì´ ì´ì œ TODOABCì¸ ê±¸ ì•Œ ìˆ˜ ìˆë‹¤
ì¦‰ ìš°ë¦¬ëŠ” TODOABCë¼ëŠ” í…Œì´ë¸”ì— ë§¤í•‘í•˜ê³  ìˆëŠ” ê²ƒì´ë‹¤
ê¸°ë³¸ê°’ì€ í´ë˜ìŠ¤ ì´ë¦„ ìì²´ì´ë‹¤ ê·¸ëŸ¬ë‹ˆ (name = "TodoABC")ë¥¼ ì‚­ì œí•  ê²ƒì´ê³ 
-------------------------------------------------------------------------
                                              |
                                              V
----------------------------------------------------------------------------------------------------------------------
âº Todo í´ë˜ìŠ¤íŒŒì¼

package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//3: (name = "TodoABC") ì‚­ì œ
@Entity
public class Todo {
	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

	@Id
	@GeneratedValue
	private int id;

  //3-1: ë„ˆëŠ” ì—´ ì´ë¦„ë„ ììœ ë¡­ê²Œ ì§€ì •í•  ìˆ˜ ìˆë‹¤ ì´ê±¸ usernameì´ë¼ê³  í•˜ì§€ ì•Šê³ , 
  //ê°€ë ¹ ë‹¤ë¥¸ ì´ë¦„ì„ ì“°ë ¤ í•œë‹¤ê³  í•´ë³´ì, @Column()ì´ë¼ê³  í•˜ê³  ì´ë¦„ì„ ì ì–´ì¤„ ìˆ˜ ìˆë‹¤ name = "name"ì´ë¼ê³  í•´ë³´ì
  @Column(name = "name")
	private String username;
	
	@Size(min=10, message="Enter atleast 10 characters")
	private String description;
	private LocalDate targetDate;
	private boolean done;
	
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getDescription() {
		return description;
	}
	public void setDescription(String description) {
		this.description = description;
	}
	public LocalDate getTargetDate() {
		return targetDate;
	}
	public void setTargetDate(LocalDate targetDate) {
		this.targetDate = targetDate;
	}
	public boolean isDone() {
		return done;
	}
	public void setDone(boolean done) {
		this.done = done;
	}
	
	@Override
	public String toString() {
		return "Todo [id=" + id + ", username=" + username + ", description=" + description + ", targetDate="
				+ targetDate + ", done=" + done + "]";
	}


}

----------------------------------------------------------------------------------------------------------------------
                                                              |
                                                              V
-------------------------------------------------------------------------
H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ì´ì œ ì´ê±¸ ë³´ë©´ USERNAMEìœ¼ë¡œ ë˜ì–´ìˆëŠ”ë°, í•˜ì§€ë§Œ ìë°”ë¥¼ ì €ì¥í•˜ê³  H2 ì½˜ì†”ë¡œ ëŒì•„ê°€ì„œ ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì—°ê²°í•˜ë©´
      |
      V

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ NAME
   + ğŸ”  indexes
...

ì´ë¦„ì´ ì´ì œ NAMEì¸ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤

ì¦‰  @Column(name = "name")
	  private String username;
ì´ í•„ë“œê°€ ì´ì œ H2ì½˜ì†” ì—¬ê¸°ë¡œ ë§¤í•‘ë˜ê³  ìˆë‹¤
-------------------------------------------------------------------------

