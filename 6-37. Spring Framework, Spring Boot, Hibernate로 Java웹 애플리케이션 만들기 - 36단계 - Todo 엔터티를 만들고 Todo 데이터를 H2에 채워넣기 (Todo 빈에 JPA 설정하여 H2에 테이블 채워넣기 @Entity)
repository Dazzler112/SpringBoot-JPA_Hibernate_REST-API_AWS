

ìš°ë¦° Todo Beanì´ ìˆëŠ”ë° 
ê·¸ëŸ¼ DBì— Todoí…Œì´ë¸”ì´ ìˆë‹¤ê³  í•´ë³´ì

//JPA
// Bean -> Database
 
JAPë¥¼ ì‚¬ìš©í•˜ë©´ Beanì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë§¤í•‘í•  ìˆ˜ ìˆë‹¤
@Entitiyë¼ëŠ” ê°„ë‹¨í•œ ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´ ê·¸ë ‡ê²Œ í•  ìˆ˜ ìˆë‹¤

----------------------------------------------------------------------------------------------------------------------



âº Todo í´ë˜ìŠ¤íŒŒì¼



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//1: Todoê°€ ì—”í„°í‹°ë¼ê³  í•´ì£¼ë©´ ì´ Beanì´ DBí…Œì´ë¸”ì— ë§¤í•‘ëœë‹¤, ê·¸ëŸ¼ @Entitiyë¼ê³  ì…ë ¥í•˜ê³  Ctrl+1ì„ ëˆŒëŸ¬ì„œ jakarta.persistenceë¥¼ ì„í¬íŠ¸í•´ë³´ì, ê·¸ëŸ¬ë©´ jakarta.persistence.Entityê°€ ì„í¬íŠ¸ëœ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤
//ì—”í„°í‹°ê°€ ìˆìœ¼ë©´ Idë„ ìˆì–´ì•¼ í•œë‹¤ ê·¸ëŸ¼ ë„ˆëŠ” ê¸°ë³¸ í‚¤ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤ //1-1: ì•„ë˜ë¡œ ì‘ì„±..
@Entity
public class Todo {

	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

//1-1: ê·¸ëŸ¼ @Idë¼ê³  ì…ë ¥í•˜ê³  ctrl+1ì„ ëˆŒëŸ¬ë³´ì, Import 'Id'(jakarta.persitence)ë¥¼ ì„ íƒí•œë‹¤ ê·¸ë ‡ê²Œí•˜ê³  
  @Id
//1-2: ìš°ë¦¬ëŠ” ì‹œí€€ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì´ê±¸ ìƒì„±í•˜ë ¤ê³  í•œë‹¤, ê·¸ëŸ¼ @GeneratedValueë¼ê³  í•´ì£¼ì, 
  @GeneratedValue
	private int id;
	private String username;
	
	@Size(min=10, message="Enter atleast 10 characters")
	private String description;
	private LocalDate targetDate;
	private boolean done;
	
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getDescription() {
		return description;
	}
	public void setDescription(String description) {
		this.description = description;
	}
	public LocalDate getTargetDate() {
		return targetDate;
	}
	public void setTargetDate(LocalDate targetDate) {
		this.targetDate = targetDate;
	}
	public boolean isDone() {
		return done;
	}
	public void setDone(boolean done) {
		this.done = done;
	}
	
	@Override
	public String toString() {
		return "Todo [id=" + id + ", username=" + username + ", description=" + description + ", targetDate="
				+ targetDate + ", done=" + done + "]";
	}

}

----------------------------------------------------------------------------------------------------------------------
ğŸ”µ ì‘ë™ ë°©ì‹ ì„¤ëª…
ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ë­˜ í•˜ëŠ”ì§€ ìƒê°í•´ë³´ì ìš°ë¦¬ëŠ” ì´ Todo Beanì„ DBì˜ í…Œì´ë¸”ì— ë§¤í•‘í•˜ê³  ìˆë‹¤
ê·¸ëŸ¬ë ¤ë©´ @Entityë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ EntityëŠ” Beanì„ DBí…Œì´ë¸”ì— ë§¤í•‘í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤
Spring Bootì˜ ìë™ ì„¤ì • ê¸°ëŠ¥ì´ ë†€ë¼ìš´ ê²ƒì€ ë§Œì¼ Entityê°€ ë°œê²¬ë˜ë©´ ìë™ìœ¼ë¡œ H2 í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ì‹œì‘í•œë‹¤ëŠ” ì ì´ë‹¤

ë„ˆê°€ pom.xmlì„ ë³´ë©´ ê±°ê¸° H2 DBê°€ ìˆë‹¤

		<dependency>
			<groupId>com.h2database</groupId>
			<artifactId>h2</artifactId>
			<scope>runtime</scope>
		</dependency>
ê·¸ë¦¬ê³  Spring BootëŠ” H2 DBë¥¼ ë°œê²¬í•˜ë©´ ì¦‰ì‹œ ê·¸ê±¸ ì‚¬ì „ì„¤ì •í•˜ê¸° ì‹œì‘í•œë‹¤
ê·¸ ì‚¬ì „ì„¤ì • ê³¼ì •ì—ì„œ Entityê°€ ë°œê²¬ë˜ë©´
@Entity
public class Todo {....
ê·¸ ì¦‰ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ì‹œì‘í•œë‹¤

ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ë³¼ê¹Œ?

ê·¸ëŸ¼ H2 ì½˜ì†”ë¡œ ê°€ì„œ
ìƒˆë¡œê³ ì¹¨ì„ í•´ë³´ì

ì¢Œì¸¡ì— ë³´ë©´ TODO í…Œì´ë¸”ì´ ìˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤

H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ì—¬ê¸°ì„œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ë³´ë©´, Spring Boot ìë™ ì„¤ì •ì´ í´ë˜ìŠ¤ ê²½ë¡œì—ì„œ 
H2 ë˜ëŠ” ì¸ë©”ëª¨ë¦¬ DBë¥¼ ë°œê²¬í•´ì„œ ëª¨ë“  ì—”í„°í‹°ì— ëŒ€í•´ ê³§ë°”ë¡œ í…Œì´ë¸”ì„ ìƒì„±í•œ ê²ƒì´ë‹¤
ë„ˆëŠ” ì›í•˜ëŠ” ëŒ€ë¡œ ì—”í„°í‹°ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤



ê°€ë ¹ ë„ˆê°€ ë§¤í•‘í•˜ë ¤ëŠ” í…Œì´ë¸”ì˜ ì´ë¦„ì´ Todoê°€ ì•„ë‹ˆê³  ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ ë§¤í•‘í•˜ë ¤ í•œë‹¤ê³  í•´ë³´ì

----------------------------------------------------------------------------------------------------------------------


âº Todo í´ë˜ìŠ¤íŒŒì¼



package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//2: ê·¸ëŸ¼ ë„ˆëŠ” name="TodoABC"ë¼ê³  í•˜ê³  ì €ì¥í•œë‹¤, ì´ê±¸ ìƒˆë¡œê³ ì¹¨í•´ ë³´ì
@Entity(name = "TodoABC")
public class Todo {

	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

	@Id
	@GeneratedValue
	private int id;
	private String username;
..
...
}

----------------------------------------------------------------------------------------------------------------------
                                                              |
                                                              V
-------------------------------------------------------------------------
H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODOABC
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ê·¸ëŸ¼ í…Œì´ë¸” ì´ë¦„ì´ ì´ì œ TODOABCì¸ ê±¸ ì•Œ ìˆ˜ ìˆë‹¤
ì¦‰ ìš°ë¦¬ëŠ” TODOABCë¼ëŠ” í…Œì´ë¸”ì— ë§¤í•‘í•˜ê³  ìˆëŠ” ê²ƒì´ë‹¤
ê¸°ë³¸ê°’ì€ í´ë˜ìŠ¤ ì´ë¦„ ìì²´ì´ë‹¤ ê·¸ëŸ¬ë‹ˆ (name = "TodoABC")ë¥¼ ì‚­ì œí•  ê²ƒì´ê³ 
-------------------------------------------------------------------------
                                              |
                                              V
----------------------------------------------------------------------------------------------------------------------
âº Todo í´ë˜ìŠ¤íŒŒì¼

package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//3: (name = "TodoABC") ì‚­ì œ
@Entity
public class Todo {
	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

	@Id
	@GeneratedValue
	private int id;

  //3-1: ë„ˆëŠ” ì—´ ì´ë¦„ë„ ììœ ë¡­ê²Œ ì§€ì •í•  ìˆ˜ ìˆë‹¤ ì´ê±¸ usernameì´ë¼ê³  í•˜ì§€ ì•Šê³ , 
  //ê°€ë ¹ ë‹¤ë¥¸ ì´ë¦„ì„ ì“°ë ¤ í•œë‹¤ê³  í•´ë³´ì, @Column()ì´ë¼ê³  í•˜ê³  ì´ë¦„ì„ ì ì–´ì¤„ ìˆ˜ ìˆë‹¤ name = "name"ì´ë¼ê³  í•´ë³´ì
  @Column(name = "name")
	private String username;
	
	@Size(min=10, message="Enter atleast 10 characters")
	private String description;
	private LocalDate targetDate;
	private boolean done;
	
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getDescription() {
		return description;
	}
	public void setDescription(String description) {
		this.description = description;
	}
	public LocalDate getTargetDate() {
		return targetDate;
	}
	public void setTargetDate(LocalDate targetDate) {
		this.targetDate = targetDate;
	}
	public boolean isDone() {
		return done;
	}
	public void setDone(boolean done) {
		this.done = done;
	}
	
	@Override
	public String toString() {
		return "Todo [id=" + id + ", username=" + username + ", description=" + description + ", targetDate="
				+ targetDate + ", done=" + done + "]";
	}


}

----------------------------------------------------------------------------------------------------------------------
                                                              |
                                                              V
-------------------------------------------------------------------------
H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ì´ì œ ì´ê±¸ ë³´ë©´ USERNAMEìœ¼ë¡œ ë˜ì–´ìˆëŠ”ë°, í•˜ì§€ë§Œ ìë°”ë¥¼ ì €ì¥í•˜ê³  H2 ì½˜ì†”ë¡œ ëŒì•„ê°€ì„œ ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì—°ê²°í•˜ë©´
      |
      V

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ NAME
   + ğŸ”  indexes
...

ì´ë¦„ì´ ì´ì œ NAMEì¸ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤

ì¦‰  @Column(name = "name")
	  private String username;
ì´ í•„ë“œê°€ ì´ì œ H2ì½˜ì†” ì—¬ê¸°ë¡œ ë§¤í•‘ë˜ê³  ìˆë‹¤
-------------------------------------------------------------------------

JPAëŠ” ë³µì¡í•œ ê´€ê³„ë„ ë§¤í•‘í•  ìˆ˜ ìˆë‹¤, ì¼ëŒ€ì¼, ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ë‹¤ ë“±ë„ ì§€ì›ëœë‹¤


----------------------------------------------------------------------------------------------------------------------
âº Todo í´ë˜ìŠ¤íŒŒì¼

package com.firstapplication.springboot.myfirstwebapp.todo;

import java.time.*;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

//Database (MySQL)
//Staitc List of todos => Database (H2, MySQL)

//JPA
// Bean -> Database Table

//3: (name = "TodoABC") ì‚­ì œ
@Entity
public class Todo {
	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

	@Id
	@GeneratedValue
	private int id;

  //4: ì§€ê¸ˆì€ ì´ Columnì„ ì‚­ì œí•´ë³´ì, ê·¸ëŸ¼ ë„Œ @Column(name= "name")ì„ ì‚­ì œí•˜ê² ë‹¤, ìƒì„±ëœ ê¸°ë³¸ê°’ë“¤ì„ ê³„ì† ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤
  //ì—”í„°í‹° ì´ë¦„ë„ Todoì¸ ê±¸ í™•ì¸í•˜ê³ , ê·¸ê±¸ ì €ì¥í•œë‹¤
 // @Column(name = "name")
	private String username;
...
----------------------------------------------------------------------------------------------------------------------
ê·¸ë¦¬ê³  h2-consoleì„ ìƒˆë¡œê³ ì¹¨í•˜ê³  ëŒì•„ê°€ì„œ Connetë¥¼ í´ë¦­í•˜ë©´       |
                                                              V
-------------------------------------------------------------------------
H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODOABC
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

ì—¬ê¸° TODO í…Œì´ë¸”ì´ ë³´ì¼ê±°ê³ , ì—´ ì´ë¦„ë„ ID, DESCRIPTION, DONE, TARGET_DATE, USERNAMEì´ ì›ë˜ëŒ€ë¡œ ìˆë‹¤
-------------------------------------------------------------------------
ì¢‹ë‹¤ 
í•œ ê°€ì§€ ì£¼ëª©í•  ê²Œ ìˆë‹¤ë©´ targetDateê°€ TARGET_DATEì¸ ê²ƒì´ë‹¤ 

	public Todo(int id, String username, String description, LocalDate targetDate, boolean done) {
		super();
		this.id = id;
		this.username = username;
		this.description = description;
		this.targetDate = targetDate;
		this.done = done;
	}

ê·¸ ì´ìœ ëŠ” targetDate D ì—¬ê¸°ì— ëŒ€ë¬¸ìê°€ ìˆê¸° ë•Œë¬¸ì´ë‹¤
DBì—ì„  ì¼ë°˜ì ìœ¼ë¡œ ë°‘ì¤„ì„ ì¨ì„œ ë‹¨ì–´ë“¤ì„ êµ¬ë¶„í•œë‹¤  
this.targetDate = targetDate; ì—¬ê¸°ì—ë„ ëŒ€ë¬¸ì Dê°€ ìˆì§€?
ê·¸ë˜ì„œ ì—´ ì´ë¦„ë„ + ğŸ›¢ TARGET_DATE -> TARGET_DATEë¡œ ìƒì„±ëœ ê²ƒì´ë‹¤


ì´ì œ ë¨¼ì € ì•½ê°„ì˜ ì‹œì‘ ë°ì´í„°ë¥¼ ì±„ì›Œ ë„£ìœ¼ë ¤ê³  í•œë‹¤
ê·¸ëŸ¼ ì–´ë–»ê²Œ ì‹œì‘ ë°ì´í„°ë¥¼ ì±„ì›Œ ë„£ì„ ìˆ˜ ìˆì„ê¹Œ?
ë„Œ data.sqlì´ë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤

ê·¸ëŸ¼ src/main/resourcesì—ì„œ Newë¥¼ ì„ íƒí•˜ê³  SQL Fileì„ ì„ íƒí•œë‹¤(SQL Fileì´ ì•ˆë³´ì´ë©´ ê·¸ëƒ¥ File ì„ íƒí›„ í™•ì¥ìë§Œ.sqlë¡œ..)
ê·¸ë¦¬ê³  data.sqlì´ë¼ê³  í•´ì£¼ì (í•´ë‹¹ íŒŒì¼ì„ ì—´ë©´ ë‚˜ ê°™ì€ê²½ìš°ëŠ” workbenchë¥¼ ê¹”ì•˜ê¸° ë•Œë¬¸ì— workbenchê°€ ì—´ë¦¼..)
data.sqlì—ì„  ë„Œ ì¿¼ë¦¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³ , ì‹œì‘í•  ë•Œ ê·¸ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ê²ƒì´ë‹¤

----------------------------------------------------------------------------------------------------------------------


âº data.sql íŒŒì¼ 



--4 ê·¸ëŸ¼ insert into todoë¼ê³  ì ê³  ê·¸ë¦¬ê³  values()ë¼ê³  í•˜ê³  ì—¬ê¸°ì— ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤ 
--ìƒì„±ëœ ê¸°ë³¸ê°’ì€ 1ë¶€í„° ì‹œì‘í•˜ê³  ê·¸ëŸ¬ë©´ ID 10001ì„ ì¨ì£¼ê² ë‹¤ ë‘ ë²ˆì§¸ëŠ” DESCRIPTIONì´ê³  ê·¸ëŸ¼ "Get AWS Certified"ë¼ê³  í•´ì£¼ì, ê·¸ë¦¬ê³  ë‹¤ìŒì€ DONEì´ê³  ê·¸ê±´ falseì§€
--ìˆœì„œê°€ ê·¸ë‹¤ì§€ ë³´ê¸° ì¢‹ì§€ ì•Šìœ¼ë‹ˆ ì—¬ê¸°ì— ë‚˜ë§Œì˜ ì—´ì„ ì •ì˜í•˜ë ¤ê³  í•œë‹¤, ê·¸ëŸ¼ ë„Œ ì›í•˜ëŠ” ìˆœì„œëŒ€ë¡œ ì‚½ì…í•˜ë ¤ê³  í•˜ê³  ê·¸ëŸ¼ ê·¸ê±¸ ì—¬ê¸°ì— ì •ì˜í•´ë³´ì
-- ë¨¼ì € IDë¥¼ ë„£ê³ , USERNAME, DESCRIPTION ìˆœì„œê³  ë‹¤ìŒì€ TARGET_DATE ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ì€ DONEì´ë‹¤ ê·¸ëŸ¼ ê·¸ ìˆœì„œë¡œ ê°’ì„ ì‚½ì…í•´ë³´ì
--10001 ë‹¤ìŒì— USERNAMEì€ in28minutes ë˜ëŠ” rangeì¸ë°, ê·¸ ì¤‘ ì•„ë¬´ ì´ë¦„ì´ë‚˜ ì‚½ì… ê°€ëŠ¥í•˜ê³ , "Get AWS Certified", ê·¸ë¦¬ê³  TARGET_DATEëŠ” CURRENT_DATE()ë¼ëŠ” H2í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ë³´ì, ê·¸ë¦¬ê³  DONEì€ falseë¼ê³  í•´ì¤€ë‹¤ ê·¸ë¦¬ê³  ì €ì¥í•œë‹¤

INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE)
VALUES(10001,"in28minutes", "Get AWS Certified", CURRENT_DATE(), false); 

----------------------------------------------------------------------------------------------------------------------

ì´ì œ ì½˜ì†”ë¡œ ê°€ë³´ë©´ ì˜¤ë¥˜ê°€ ë‚˜ì˜¬ ê²ƒì´ë‹¤

2024-05-10T17:27:05.277+09:00[0;39m [31mERROR[0;39m [35m1752[0;39m [2m---[0;39m [2m[myfirstwebapp] [  restartedMain][0;39m [2m[0;39m[36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\Users\LG\Downloads\myfirstwebapp\myfirstwebapp\target\classes\data.sql]]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-6.1.5.jar:6.1.5]
....

"TODO"í…Œì´ë¸”ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ê³  ë‚˜ì˜¨ë‹¤ ê¸°ë³¸ì ìœ¼ë¡œ data.sqlì€ ì—”í„°í‹° ì²˜ë¦¬ë˜ê¸° ì „ì— ì‹¤í–‰ëœë‹¤
í…Œì´ë¸”ì€ ì—”í„°í‹°ê°€ ì²˜ë¦¬ë  ë•Œ ìƒì„±ëœë‹¤, ê·¸ëŸ¼ data.sqlì€ í…Œì´ë¸”ì´ ìƒì„±ë˜ê¸° ì „ì— ì‹¤í–‰ë˜ê³   ê·¸ë¦¬ê³  ìš°ë¦° ê·¸ê±¸ ë³€ê²½í•˜ë ¤ê³  í•œë‹¤
ê·¸ê±¸ ì–´ë–»ê²Œ ë³€ê²½í• ê¹Œ?

ìš°ë¦° ê·¸ê±¸ application.propertiesì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤
ê·¸ëŸ¼ application.propertiesë¥¼ ì—´ì–´ë³´ì

----------------------------------------------------------------------------------------------------------------------


âº application.properties íŒŒì¼


spring.application.name=myfirstwebapp
server.port=8087
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp
logging.level.org.springframework=info
logging.level.com.firstapplication.springboot.myfirstwebapp=info

spring.mvc.format.date=yyyy-MM-dd

spring.datasource.url=jdbc:h2:mem:testdb

#5 ê·¸ë¦¬ê³  spring.jpa.defer-datasource- initializationì´ë¼ê³  ì…ë ¥í•œë‹¤(ì² ìë¥¼ ì •í™•íˆ ì…ë ¥í•´ì•¼ í•œë‹¤!) ê·¸ë¦¬ê³  =trueë¼ê³  ì…ë ¥í•˜ê³  ì €ì¥í•œë‹¤
spring.jpa.defer-datasource-initialization=true

----------------------------------------------------------------------------------------------------------------------
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¤‘ì§€í•˜ê³  ë‹¤ì‹œ ì‹œì‘í•˜ë©´ êµ¬ë¬¸ ì˜ˆì™¸ê°€ ìˆëŠ” ê±¸ ë³¼ ìˆ˜ ìˆë‹¤

Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "in28minutes" not found; SQL statement:
INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE) VALUES(10001,"in28minutes", "Get AWS Certified", CURRENT_DATE(), false) [42122-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.224.jar:2.2.224]

"in28minutes" ì—´ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ê³  ë‚˜ì˜¨ë‹¤
ì´ë ‡ê²Œ ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ì´ìœ ëŠ” data.sqlì—ì„œ ì‘ì€ ë”°ì˜´í‘œë¥¼ ì¨ì•¼ ë˜ê¸° ë•Œë¬¸ì´ë‹¤

----------------------------------------------------------------------------------------------------------------------

âº data.sql íŒŒì¼ 


--6 ê·¸ëŸ¼ ì´ê±¸ ëª¨ë‘ ì‘ì€ ë”°ì˜´í‘œë¡œ êµì²´í•˜ê² ë‹¤ "in28minutes" ì—ì„œ 'in28minutes', "Get AWS Certified" ì—ì„œ 'Get AWS Certified'ë¡œ ê³ ì¹˜ê³  ì €ì¥
INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE)
VALUES(10001,'in28minutes', 'Get AWS Certified', CURRENT_DATE(), false); 

----------------------------------------------------------------------------------------------------------------------

ì´ì œ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ ë³´ì ë‹¤ì‹œ ì‹œì‘í•˜ì
ì´ì œ ì½˜ì†”ì°½ì— ì˜¤ë¥˜ê°€ ì—†ë‹¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ ì‹¤í–‰ ë˜ì—ˆê³ 
ê·¸ëŸ¼ H2 ì½˜ì†”ë¡œ ê°€ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ê³  ë‹¤ì‹œ ì—°ê²°í•´ ë³´ì

-------------------------------------------------------------------------
H2 Database ì•ˆ ==>

ğŸ”‹ jdbc:h2:mem:testdb
 - ğŸ’· TODO
   + ğŸ›¢ DONE
   + ğŸ›¢ ID
   + ğŸ›¢ TARGET_DATE
   + ğŸ›¢ DESCRIPTION
   + ğŸ›¢ USERNAME
   + ğŸ”  indexes
...

TODO í…Œì´ë¸”ì´ ìˆê³  ë°ì´í„°ê°€ ìˆì„ê¹Œ?

----------------------------------------------------------------------

âº H2 Console 
 _____   ______________   _______________   _______
| Run | | Run Selected | | Auto complete | | Clear | SQL statement:
 â€¾â€¾â€¾â€¾â€¾   â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾   â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾   â€¾â€¾â€¾â€¾â€¾â€¾â€¾ 
 ___________________________________________________________________________________
| SELECT * FROM TODO                                                                |
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                    
|                                                                                   |                     
 â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
SELECT * FROM TODO;
 ________________________________________________________
|DONE |ID   |TARGET_DATE |DESCRIPTION      |USERNAME     |
 ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡
|FALSE|10001|2024-05-11	 |Get AWS Certified|in28minutes  |
 â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
(1 row, 3 ms)
 ____
|Edit|
 â€¾â€¾â€¾â€¾
-------------------------------------------------------------------------
ì—¬ê¸° ë°ì´í„°ê°€ ìˆë‹¤
ê·¸ëŸ¼ data.sqlì— Todoë¥¼ ëª‡ ê°œ ë” ì¶”ê°€í•´ ë³¼ê¹Œ?

IDë¥¼ ëª‡ ê°œ ë” ì¶”ê°€í•´ ë³´ì, IDëŠ” ì¦ê°€í•´ì•¼ í•  ê±°ê³  ì¤‘ë³µë˜ì§€ ë§ì•„ì•¼ í•œë‹¤

----------------------------------------------------------------------------------------------------------------------


âº data.sql íŒŒì¼


--7 ê·¸ëŸ¼ 10002 10003 10004ë¼ê³  í•œë‹¤ ëª¨ë“  Todoë¥¼ in28minutes ì•ˆì— ë‘ê³ , ê·¸ëŸ¼ in28minutesë¥¼ ê·¸ëŒ€ë¡œ ë‘ê² ë‹¤ ë„ˆëŠ” ì›í•œë‹¤ë©´ rangaë¥¼ ì“¸ ìˆ˜ë„ ìˆë‹¤
--ê·¸ëŸ¼ 'Get Azure Certified' , 'Get GCP Certified' ê·¸ë¦¬ê³  í’€ ìŠ¤íƒì´ë‚˜ ë°ë¸Œì˜µìŠ¤ ì¶¤ ë°°ìš°ê¸° ë“± ì›í•˜ëŠ” ëŒ€ë¡œ ë„£ìœ¼ë©´ ë˜ëŠ”ë° IDê°€ ê³ ìœ í•œì§€ í™•ì¸í•˜ê¸° ë°”ë€ë‹¤, ê·¸ëŸ¼ ì´ê²ƒë“¤ì„ ì €ì¥í•œë‹¤

INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE)
VALUES(10001,'in28minutes', 'Get AWS Certified', CURRENT_DATE(), false); 

INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE)
VALUES(10001,'in28minutes', 'Get AWS Certified', CURRENT_DATE(), false); 

INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE)
VALUES(10001,'in28minutes', 'Get AWS Certified', CURRENT_DATE(), false); 

INSERT INTO todo (ID, USERNAME, DESCRIPTION, TARGET_DATE, DONE)
VALUES(10001,'in28minutes', 'Get FullStack Certified', CURRENT_DATE(), false); 

----------------------------------------------------------------------------------------------------------------------

ê·¸ë¦¬ê³  ëŒì•„ê°€ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ê³  Conncetë¥¼ í´ë¦­í•˜ì

----------------------------------------------------------------------

âº H2 Console 
 _____   ______________   _______________   _______
| Run | | Run Selected | | Auto complete | | Clear | SQL statement:
 â€¾â€¾â€¾â€¾â€¾   â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾   â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾   â€¾â€¾â€¾â€¾â€¾â€¾â€¾ 
 ___________________________________________________________________________________
| SELECT * FROM TODO                                                                |
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                     
|                                                                                   |                    
|                                                                                   |                     
 â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
SELECT * FROM TODO;
 ______________________________________________________________
|DONE |ID   |TARGET_DATE |DESCRIPTION            |USERNAME     |
 ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡
|FALSE|10001|2024-05-11	 |Get AWS Certified      |in28minutes  |
 ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡
|FALSE|10002|2024-05-11	 |Get Azure Certified    |in28minutes  |
 ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡
|FALSE|10003|2024-05-11	 |Get GCP Certified      |in28minutes  |
 ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡
|FALSE|10004|2024-05-11	 |Get FullStack Certified|in28minutes  |
 â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾
(1 row, 3 ms)
 ____
|Edit|
 â€¾â€¾â€¾â€¾
-------------------------------------------------------------------------
ê·¸ë¦¬ê³  TODOë¡œ ê°€ì„œ RUNì„ ëˆ„ë¥¸ë‹¤, ì—¬ê¸°ì„œ H2ë„ ì¸ë©”ëª¨ë¦¬ DBë¼ëŠ” ì ì„ ê¸°ì–µí•´ì•¼ í•˜ê³ 
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¬ì‹œì‘í•˜ë©´ H2ì˜ ëª¨ë“  ë°ì´í„°ëŠ” ì‚¬ë¼ì§„ë‹¤






ì´ë²ˆ ë‹¨ê³„ì—ì„  ìš°ë¦¬ëŠ” H2 DBë¥¼ ì¤€ë¹„í–ˆê³  
ìš°ë¦° í…Œì´ë¸”ê³¼ ë°ì´í„°ë¥¼ ì¤€ë¹„í–ˆê³ , ì´ì œ ìš°ë¦¬ëŠ” H2 DBì— ì—°ê²°í•´ì„œ ì´ Todoë¥¼ í‘œì‹œí•˜ë ¤ê³  í•œë‹¤
JPAë¥¼ ì‚¬ìš©í•´ì„œ DBì— ì—°ê²°í•˜ê³  Todoë¥¼ ì—¬ê¸° í‘œì‹œí•˜ë ¤ í•œë‹¤, ê·¸ë¦¬ê³  ìš°ë¦° JPAë¥¼ ì‚¬ìš©í•´ì„œ ì‚­ì œ, ì—…ë°ì´íŠ¸, ì¶”ê°€ ë“±ë“± ëª¨ë“  ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ê³  í•œë‹¤
ê·¸ê±¸ ë‹¤ìŒ ë‹¨ê³„ë¶€í„° ì‹œì‘í•´ë³´ê² ë‹¤
